var X6=Object.defineProperty;var W6=(r,t,e)=>t in r?X6(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Jn=(r,t,e)=>W6(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var BL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var L0={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Z6(){if(Cv)return Uf;Cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Uf.Fragment=t,Uf.jsx=e,Uf.jsxs=e,Uf}var Rv;function J6(){return Rv||(Rv=1,L0.exports=Z6()),L0.exports}var F=J6(),D0={exports:{}},ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function tE(){if(Lv)return ln;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=w&&J[w]||J["@@iterator"],typeof J=="function"?J:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(J,O,Q){this.props=J,this.context=O,this.refs=M,this.updater=Q||C}k.prototype.isReactComponent={},k.prototype.setState=function(J,O){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,O,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function G(){}G.prototype=k.prototype;function K(J,O,Q){this.props=J,this.context=O,this.refs=M,this.updater=Q||C}var H=K.prototype=new G;H.constructor=K,D(H,k.prototype),H.isPureReactComponent=!0;var ut=Array.isArray;function Z(){}var z={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(J,O,Q){var W=Q.ref;return{$$typeof:r,type:J,key:O,ref:W!==void 0?W:null,props:Q}}function V(J,O){return E(J.type,O,J.props)}function T(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function I(J){var O={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Q){return O[Q]})}var L=/\/+/g;function $(J,O){return typeof J=="object"&&J!==null&&J.key!=null?I(""+J.key):O.toString(36)}function ft(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(Z,Z):(J.status="pending",J.then(function(O){J.status==="pending"&&(J.status="fulfilled",J.value=O)},function(O){J.status==="pending"&&(J.status="rejected",J.reason=O)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function P(J,O,Q,W,et){var ct=typeof J;(ct==="undefined"||ct==="boolean")&&(J=null);var bt=!1;if(J===null)bt=!0;else switch(ct){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(J.$$typeof){case r:case t:bt=!0;break;case p:return bt=J._init,P(bt(J._payload),O,Q,W,et)}}if(bt)return et=et(J),bt=W===""?"."+$(J,0):W,ut(et)?(Q="",bt!=null&&(Q=bt.replace(L,"$&/")+"/"),P(et,O,Q,"",function(Mt){return Mt})):et!=null&&(T(et)&&(et=V(et,Q+(et.key==null||J&&J.key===et.key?"":(""+et.key).replace(L,"$&/")+"/")+bt)),O.push(et)),1;bt=0;var Tt=W===""?".":W+":";if(ut(J))for(var Et=0;Et<J.length;Et++)W=J[Et],ct=Tt+$(W,Et),bt+=P(W,O,Q,ct,et);else if(Et=y(J),typeof Et=="function")for(J=Et.call(J),Et=0;!(W=J.next()).done;)W=W.value,ct=Tt+$(W,Et++),bt+=P(W,O,Q,ct,et);else if(ct==="object"){if(typeof J.then=="function")return P(ft(J),O,Q,W,et);throw O=String(J),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return bt}function B(J,O,Q){if(J==null)return J;var W=[],et=0;return P(J,W,"","",function(ct){return O.call(Q,ct,et++)}),W}function tt(J){if(J._status===-1){var O=J._result;O=O(),O.then(function(Q){(J._status===0||J._status===-1)&&(J._status=1,J._result=Q)},function(Q){(J._status===0||J._status===-1)&&(J._status=2,J._result=Q)}),J._status===-1&&(J._status=0,J._result=O)}if(J._status===1)return J._result.default;throw J._result}var st=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},gt={map:B,forEach:function(J,O,Q){B(J,function(){O.apply(this,arguments)},Q)},count:function(J){var O=0;return B(J,function(){O++}),O},toArray:function(J){return B(J,function(O){return O})||[]},only:function(J){if(!T(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return ln.Activity=v,ln.Children=gt,ln.Component=k,ln.Fragment=e,ln.Profiler=s,ln.PureComponent=K,ln.StrictMode=n,ln.Suspense=f,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ln.__COMPILER_RUNTIME={__proto__:null,c:function(J){return z.H.useMemoCache(J)}},ln.cache=function(J){return function(){return J.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(J,O,Q){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var W=D({},J.props),et=J.key;if(O!=null)for(ct in O.key!==void 0&&(et=""+O.key),O)!S.call(O,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&O.ref===void 0||(W[ct]=O[ct]);var ct=arguments.length-2;if(ct===1)W.children=Q;else if(1<ct){for(var bt=Array(ct),Tt=0;Tt<ct;Tt++)bt[Tt]=arguments[Tt+2];W.children=bt}return E(J.type,et,W)},ln.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},ln.createElement=function(J,O,Q){var W,et={},ct=null;if(O!=null)for(W in O.key!==void 0&&(ct=""+O.key),O)S.call(O,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(et[W]=O[W]);var bt=arguments.length-2;if(bt===1)et.children=Q;else if(1<bt){for(var Tt=Array(bt),Et=0;Et<bt;Et++)Tt[Et]=arguments[Et+2];et.children=Tt}if(J&&J.defaultProps)for(W in bt=J.defaultProps,bt)et[W]===void 0&&(et[W]=bt[W]);return E(J,ct,et)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(J){return{$$typeof:c,render:J}},ln.isValidElement=T,ln.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:tt}},ln.memo=function(J,O){return{$$typeof:d,type:J,compare:O===void 0?null:O}},ln.startTransition=function(J){var O=z.T,Q={};z.T=Q;try{var W=J(),et=z.S;et!==null&&et(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,st)}catch(ct){st(ct)}finally{O!==null&&Q.types!==null&&(O.types=Q.types),z.T=O}},ln.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ln.use=function(J){return z.H.use(J)},ln.useActionState=function(J,O,Q){return z.H.useActionState(J,O,Q)},ln.useCallback=function(J,O){return z.H.useCallback(J,O)},ln.useContext=function(J){return z.H.useContext(J)},ln.useDebugValue=function(){},ln.useDeferredValue=function(J,O){return z.H.useDeferredValue(J,O)},ln.useEffect=function(J,O){return z.H.useEffect(J,O)},ln.useEffectEvent=function(J){return z.H.useEffectEvent(J)},ln.useId=function(){return z.H.useId()},ln.useImperativeHandle=function(J,O,Q){return z.H.useImperativeHandle(J,O,Q)},ln.useInsertionEffect=function(J,O){return z.H.useInsertionEffect(J,O)},ln.useLayoutEffect=function(J,O){return z.H.useLayoutEffect(J,O)},ln.useMemo=function(J,O){return z.H.useMemo(J,O)},ln.useOptimistic=function(J,O){return z.H.useOptimistic(J,O)},ln.useReducer=function(J,O,Q){return z.H.useReducer(J,O,Q)},ln.useRef=function(J){return z.H.useRef(J)},ln.useState=function(J){return z.H.useState(J)},ln.useSyncExternalStore=function(J,O,Q){return z.H.useSyncExternalStore(J,O,Q)},ln.useTransition=function(){return z.H.useTransition()},ln.version="19.2.3",ln}var Dv;function c2(){return Dv||(Dv=1,D0.exports=tE()),D0.exports}var Re=c2();const h2=Hw(Re);var k0={exports:{}},zf={},P0={exports:{}},O0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eE(){return kv||(kv=1,(function(r){function t(P,B){var tt=P.length;P.push(B);t:for(;0<tt;){var st=tt-1>>>1,gt=P[st];if(0<s(gt,B))P[st]=B,P[tt]=gt,tt=st;else break t}}function e(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var B=P[0],tt=P.pop();if(tt!==B){P[0]=tt;t:for(var st=0,gt=P.length,J=gt>>>1;st<J;){var O=2*(st+1)-1,Q=P[O],W=O+1,et=P[W];if(0>s(Q,tt))W<gt&&0>s(et,Q)?(P[st]=et,P[W]=tt,st=W):(P[st]=Q,P[O]=tt,st=O);else if(W<gt&&0>s(et,tt))P[st]=et,P[W]=tt,st=W;else break t}}return B}function s(P,B){var tt=P.sortIndex-B.sortIndex;return tt!==0?tt:P.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,v=null,w=3,y=!1,C=!1,D=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function H(P){for(var B=e(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=P)n(d),B.sortIndex=B.expirationTime,t(f,B);else break;B=e(d)}}function ut(P){if(D=!1,H(P),!C)if(e(f)!==null)C=!0,Z||(Z=!0,I());else{var B=e(d);B!==null&&ft(ut,B.startTime-P)}}var Z=!1,z=-1,S=5,E=-1;function V(){return M?!0:!(r.unstable_now()-E<S)}function T(){if(M=!1,Z){var P=r.unstable_now();E=P;var B=!0;try{t:{C=!1,D&&(D=!1,G(z),z=-1),y=!0;var tt=w;try{e:{for(H(P),v=e(f);v!==null&&!(v.expirationTime>P&&V());){var st=v.callback;if(typeof st=="function"){v.callback=null,w=v.priorityLevel;var gt=st(v.expirationTime<=P);if(P=r.unstable_now(),typeof gt=="function"){v.callback=gt,H(P),B=!0;break e}v===e(f)&&n(f),H(P)}else n(f);v=e(f)}if(v!==null)B=!0;else{var J=e(d);J!==null&&ft(ut,J.startTime-P),B=!1}}break t}finally{v=null,w=tt,y=!1}B=void 0}}finally{B?I():Z=!1}}}var I;if(typeof K=="function")I=function(){K(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=T,I=function(){$.postMessage(null)}}else I=function(){k(T,0)};function ft(P,B){z=k(function(){P(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(P){switch(w){case 1:case 2:case 3:var B=3;break;default:B=w}var tt=w;w=B;try{return P()}finally{w=tt}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var tt=w;w=P;try{return B()}finally{w=tt}},r.unstable_scheduleCallback=function(P,B,tt){var st=r.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?st+tt:st):tt=st,P){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=tt+gt,P={id:p++,callback:B,priorityLevel:P,startTime:tt,expirationTime:gt,sortIndex:-1},tt>st?(P.sortIndex=tt,t(d,P),e(f)===null&&P===e(d)&&(D?(G(z),z=-1):D=!0,ft(ut,tt-st))):(P.sortIndex=gt,t(f,P),C||y||(C=!0,Z||(Z=!0,I()))),P},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(P){var B=w;return function(){var tt=w;w=B;try{return P.apply(this,arguments)}finally{w=tt}}}})(O0)),O0}var Pv;function nE(){return Pv||(Pv=1,P0.exports=eE()),P0.exports}var M0={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function rE(){if(Ov)return ds;Ov=1;var r=c2();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:d,implementation:p}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ds.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},ds.flushSync=function(f){var d=u.T,p=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=d,n.p=p,n.d.f()}},ds.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(f,d))},ds.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},ds.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:y}):p==="script"&&n.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ds.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(f)},ds.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin);n.d.L(f,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ds.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(f)},ds.requestFormReset=function(f){n.d.r(f)},ds.unstable_batchedUpdates=function(f,d){return f(d)},ds.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},ds.useFormStatus=function(){return u.H.useHostTransitionStatus()},ds.version="19.2.3",ds}var Mv;function iE(){if(Mv)return M0.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),M0.exports=rE(),M0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function sE(){if(jv)return zf;jv=1;var r=nE(),t=c2(),e=iE();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var l=i,h=a;;){var b=l.return;if(b===null)break;var x=b.alternate;if(x===null){if(h=b.return,h!==null){l=h;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===l)return f(b),i;if(x===h)return f(b),a;x=x.sibling}throw Error(n(188))}if(l.return!==h.return)l=b,h=x;else{for(var U=!1,it=b.child;it;){if(it===l){U=!0,l=b,h=x;break}if(it===h){U=!0,h=b,l=x;break}it=it.sibling}if(!U){for(it=x.child;it;){if(it===l){U=!0,l=x,h=b;break}if(it===h){U=!0,h=x,l=b;break}it=it.sibling}if(!U)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),K=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case ut:return"Suspense";case Z:return"SuspenseList";case E:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case K:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case H:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:$(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return $(i(a))}catch{}}return null}var ft=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},st=[],gt=-1;function J(i){return{current:i}}function O(i){0>gt||(i.current=st[gt],st[gt]=null,gt--)}function Q(i,a){gt++,st[gt]=i.current,i.current=a}var W=J(null),et=J(null),ct=J(null),bt=J(null);function Tt(i,a){switch(Q(ct,a),Q(et,i),Q(W,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Zy(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Zy(a),i=Jy(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}O(W),Q(W,i)}function Et(){O(W),O(et),O(ct)}function Mt(i){i.memoizedState!==null&&Q(bt,i);var a=W.current,l=Jy(a,i.type);a!==l&&(Q(et,i),Q(W,l))}function $t(i){et.current===i&&(O(W),O(et)),bt.current===i&&(O(bt),jf._currentValue=tt)}var te,le;function fe(i){if(te===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);te=a&&a[1]||"",le=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+i+le}var lt=!1;function ee(i,a){if(!i||lt)return"";lt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Xt=function(){throw Error()};if(Object.defineProperty(Xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xt,[])}catch(Ut){var jt=Ut}Reflect.construct(i,[],Xt)}else{try{Xt.call()}catch(Ut){jt=Ut}i.call(Xt.prototype)}}else{try{throw Error()}catch(Ut){jt=Ut}(Xt=i())&&typeof Xt.catch=="function"&&Xt.catch(function(){})}}catch(Ut){if(Ut&&jt&&typeof Ut.stack=="string")return[Ut.stack,jt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),U=x[0],it=x[1];if(U&&it){var vt=U.split(`
`),Pt=it.split(`
`);for(b=h=0;h<vt.length&&!vt[h].includes("DetermineComponentFrameRoot");)h++;for(;b<Pt.length&&!Pt[b].includes("DetermineComponentFrameRoot");)b++;if(h===vt.length||b===Pt.length)for(h=vt.length-1,b=Pt.length-1;1<=h&&0<=b&&vt[h]!==Pt[b];)b--;for(;1<=h&&0<=b;h--,b--)if(vt[h]!==Pt[b]){if(h!==1||b!==1)do if(h--,b--,0>b||vt[h]!==Pt[b]){var Gt=`
`+vt[h].replace(" at new "," at ");return i.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",i.displayName)),Gt}while(1<=h&&0<=b);break}}}finally{lt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fe(l):""}function xe(i,a){switch(i.tag){case 26:case 27:case 5:return fe(i.type);case 16:return fe("Lazy");case 13:return i.child!==a&&a!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ee(i.type,!1);case 11:return ee(i.type.render,!1);case 1:return ee(i.type,!0);case 31:return fe("Activity");default:return""}}function he(i){try{var a="",l=null;do a+=xe(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Bt=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,Ae=r.unstable_shouldYield,de=r.unstable_requestPaint,we=r.unstable_now,yt=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,Vt=r.unstable_UserBlockingPriority,Ft=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ce=r.unstable_IdlePriority,me=r.log,Ne=r.unstable_setDisableYieldValue,Wt=null,ye=null;function be(i){if(typeof me=="function"&&Ne(i),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Wt,i)}catch{}}var Qe=Math.clz32?Math.clz32:je,ve=Math.log,rn=Math.LN2;function je(i){return i>>>=0,i===0?32:31-(ve(i)/rn|0)|0}var Fe=256,Nn=262144,Ie=4194304;function Ee(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Je(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var b=0,x=i.suspendedLanes,U=i.pingedLanes;i=i.warmLanes;var it=h&134217727;return it!==0?(h=it&~x,h!==0?b=Ee(h):(U&=it,U!==0?b=Ee(U):l||(l=it&~i,l!==0&&(b=Ee(l))))):(it=h&~x,it!==0?b=Ee(it):U!==0?b=Ee(U):l||(l=h&~i,l!==0&&(b=Ee(l)))),b===0?0:a!==0&&a!==b&&(a&x)===0&&(x=b&-b,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:b}function gr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Dr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var i=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),i}function $n(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Be(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function aa(i,a,l,h,b,x){var U=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var it=i.entanglements,vt=i.expirationTimes,Pt=i.hiddenUpdates;for(l=U&~l;0<l;){var Gt=31-Qe(l),Xt=1<<Gt;it[Gt]=0,vt[Gt]=-1;var jt=Pt[Gt];if(jt!==null)for(Pt[Gt]=null,Gt=0;Gt<jt.length;Gt++){var Ut=jt[Gt];Ut!==null&&(Ut.lane&=-536870913)}l&=~Xt}h!==0&&Hi(i,h,0),x!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=x&~(U&~a))}function Hi(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Qe(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Ci(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Qe(l),b=1<<h;b&a|i[h]&a&&(i[h]|=a),l&=~b}}function Ri(i,a){var l=a&-a;return l=(l&42)!==0?1:Gn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Gn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ur(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:xv(i.type))}function gi(i,a){var l=B.p;try{return B.p=i,a()}finally{B.p=l}}var ai=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ai,Yn="__reactProps$"+ai,zr="__reactContainer$"+ai,Li="__reactEvents$"+ai,as="__reactListeners$"+ai,Sa="__reactHandles$"+ai,As="__reactResources$"+ai,Di="__reactMarker$"+ai;function oa(i){delete i[Mn],delete i[Yn],delete i[Li],delete i[as],delete i[Sa]}function Gi(i){var a=i[Mn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[zr]||l[Mn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=av(i);i!==null;){if(l=i[Mn])return l;i=av(i)}return a}i=l,l=i.parentNode}return null}function yi(i){if(i=i[Mn]||i[zr]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Ki(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function os(i){var a=i[As];return a||(a=i[As]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function yr(i){i[Di]=!0}var To=new Set,ki={};function ls(i,a){Es(i,a),Es(i+"Capture",a)}function Es(i,a){for(ki[i]=a,i=0;i<a.length;i++)To.add(a[i])}var Qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Io={};function ol(i){return Bt.call(Io,i)?!0:Bt.call(No,i)?!1:Qa.test(i)?Io[i]=!0:(No[i]=!0,!1)}function $i(i,a,l){if(ol(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function oi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Ar(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function la(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function us(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,x=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(U){l=""+U,x.call(this,U)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(U){l=""+U},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function wn(i){if(!i._valueTracker){var a=la(i)?"checked":"value";i._valueTracker=us(i,a,""+i[a])}}function Ta(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=la(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function kr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hr=/[\n"\\]/g;function Er(i){return i.replace(hr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xa(i,a,l,h,b,x,U,it){i.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.type=U:i.removeAttribute("type"),a!=null?U==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+pn(a)):i.value!==""+pn(a)&&(i.value=""+pn(a)):U!=="submit"&&U!=="reset"||i.removeAttribute("value"),a!=null?ll(i,U,pn(a)):l!=null?ll(i,U,pn(l)):h!=null&&i.removeAttribute("value"),b==null&&x!=null&&(i.defaultChecked=!!x),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),it!=null&&typeof it!="function"&&typeof it!="symbol"&&typeof it!="boolean"?i.name=""+pn(it):i.removeAttribute("name")}function ql(i,a,l,h,b,x,U,it){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){wn(i);return}l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,it||a===i.value||(i.value=a),i.defaultValue=a}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=it?i.checked:!!h,i.defaultChecked=!!h,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.name=U),wn(i)}function ll(i,a,l){a==="number"&&kr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function vi(i,a,l,h){if(i=i.options,a){a={};for(var b=0;b<l.length;b++)a["$"+l[b]]=!0;for(l=0;l<i.length;l++)b=a.hasOwnProperty("$"+i[l].value),i[l].selected!==b&&(i[l].selected=b),b&&h&&(i[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,b=0;b<i.length;b++){if(i[b].value===l){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function ul(i,a,l){if(a!=null&&(a=""+pn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+pn(l):""}function ua(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(n(92));if(ft(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=pn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),wn(i)}function Zr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Na.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hl(i,a,l){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in a)h=a[b],a.hasOwnProperty(b)&&l[b]!==h&&cl(i,b,h)}else for(var x in a)a.hasOwnProperty(x)&&cl(i,x,a[x])}function Co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ca=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(i){return ca.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ss(){}var ha=null;function Oi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ia=null,He=null;function Wa(i){var a=yi(i);if(a&&(i=a.stateNode)){var l=i[Yn]||null;t:switch(i=a.stateNode,a.type){case"input":if(Xa(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Er(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var b=h[Yn]||null;if(!b)throw Error(n(90));Xa(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ta(h)}break t;case"textarea":ul(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&vi(i,!!l.multiple,a,!1)}}}var Lo=!1;function Ca(i,a,l){if(Lo)return i(a,l);Lo=!0;try{var h=i(a);return h}finally{if(Lo=!1,(Ia!==null||He!==null)&&(fp(),Ia&&(a=Ia,i=He,He=Ia=null,Wa(a),i)))for(a=0;a<i.length;a++)Wa(i[a])}}function Jr(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Yn]||null;if(h===null)return null;l=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,a,typeof l));return l}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(qr)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Za=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Za=!1}var Yi=null,Ja=null,Ts=null;function fl(){if(Ts)return Ts;var i,a=Ja,l=a.length,h,b="value"in Yi?Yi.value:Yi.textContent,x=b.length;for(i=0;i<l&&a[i]===b[i];i++);var U=l-i;for(h=1;h<=U&&a[l-h]===b[x-h];h++);return Ts=b.slice(i,1<h?1-h:void 0)}function Qi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function fa(){return!0}function Xi(){return!1}function Pr(i){function a(l,h,b,x,U){this._reactName=l,this._targetInst=b,this.type=h,this.nativeEvent=x,this.target=U,this.currentTarget=null;for(var it in i)i.hasOwnProperty(it)&&(l=i[it],this[it]=l?l(x):x[it]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?fa:Xi,this.isPropagationStopped=Xi,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),a}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Pr(js),Vs=v({},js,{view:0,detail:0}),Ra=Pr(Vs),Fs,Bs,cs,to=v({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ke,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cs&&(cs&&i.type==="mousemove"?(Fs=i.screenX-cs.screenX,Bs=i.screenY-cs.screenY):Bs=Fs=0,cs=i),Fs)},movementY:function(i){return"movementY"in i?i.movementY:Bs}}),Do=Pr(to),Wi=v({},to,{dataTransfer:0}),Us=Pr(Wi),dl=v({},Vs,{relatedTarget:0}),Ns=Pr(dl),ko=v({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Pr(ko),Y=v({},js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pt=Pr(Y),_t=v({},js,{data:0}),St=Pr(_t),Ht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ce[i])?!!a[i]:!1}function Ke(){return ke}var Ue=v({},Vs,{key:function(i){if(i.key){var a=Ht[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Qi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ke,charCode:function(i){return i.type==="keypress"?Qi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gn=Pr(Ue),ir=v({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kn=Pr(ir),g=v({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ke}),R=Pr(g),q=v({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=Pr(q),It=v({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=Pr(It),oe=v({},js,{newState:0,oldState:0}),tn=Pr(oe),sr=[9,13,27,32],fn=qr&&"CompositionEvent"in window,Vn=null;qr&&"documentMode"in document&&(Vn=document.documentMode);var ui=qr&&"TextEvent"in window&&!Vn,bi=qr&&(!fn||Vn&&8<Vn&&11>=Vn),Qn=" ",_i=!1;function Is(i,a){switch(i){case"keyup":return sr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function Zi(i,a){switch(i){case"compositionend":return La(a);case"keypress":return a.which!==32?null:(_i=!0,Qn);case"textInput":return i=a.data,i===Qn&&_i?null:i;default:return null}}function eo(i,a){if(Da)return i==="compositionend"||!fn&&Is(i,a)?(i=fl(),Ts=Ja=Yi=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bi&&a.locale!=="ko"?null:a.data;default:return null}}var Hl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Hl[i.type]:a==="textarea"}function Cs(i,a,l,h){Ia?He?He.push(h):He=[h]:Ia=h,a=bp(a,"onChange"),0<a.length&&(l=new li("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var da=null,no=null;function zu(i){Ky(i,0)}function pa(i){var a=Ki(i);if(Ta(a))return i}function Po(i,a){if(i==="change")return a}var hs=!1;if(qr){var Ji;if(qr){var ka="oninput"in document;if(!ka){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),ka=typeof Pa.oninput=="function"}Ji=ka}else Ji=!1;hs=Ji&&(!document.documentMode||9<document.documentMode)}function ro(){da&&(da.detachEvent("onpropertychange",Gl),no=da=null)}function Gl(i){if(i.propertyName==="value"&&pa(no)){var a=[];Cs(a,no,i,Oi(i)),Ca(zu,a)}}function Kl(i,a,l){i==="focusin"?(ro(),da=a,no=l,da.attachEvent("onpropertychange",Gl)):i==="focusout"&&ro()}function Or(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pa(no)}function jc(i,a){if(i==="click")return pa(a)}function Oa(i,a){if(i==="input"||i==="change")return pa(a)}function Ma(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var wi=typeof Object.is=="function"?Object.is:Ma;function io(i,a){if(wi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var b=l[h];if(!Bt.call(a,b)||!wi(i[b],a[b]))return!1}return!0}function $l(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yl(i,a){var l=$l(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=$l(l)}}function so(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?so(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ao(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=kr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=kr(i.document)}return a}function ja(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var pl=qr&&"documentMode"in document&&11>=document.documentMode,Rs=null,oo=null,Mi=null,zs=!1;function kn(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zs||Rs==null||Rs!==kr(h)||(h=Rs,"selectionStart"in h&&ja(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Mi&&io(Mi,h)||(Mi=h,h=bp(oo,"onSelect"),0<h.length&&(a=new li("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Rs)))}function Sn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ar={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Mr={},Va={};qr&&(Va=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function ma(i){if(Mr[i])return Mr[i];if(!ar[i])return i;var a=ar[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Va)return Mr[i]=a[l];return i}var ml=ma("animationend"),qu=ma("animationiteration"),af=ma("animationstart"),zd=ma("transitionrun"),qd=ma("transitionstart"),Hd=ma("transitioncancel"),of=ma("transitionend"),lf=new Map,gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gl.push("scrollEnd");function qs(i,a){lf.set(i,a),ls(a,[i])}var Hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ls=[],yl=0,Vc=0;function Gu(){for(var i=yl,a=Vc=yl=0;a<i;){var l=Ls[a];Ls[a++]=null;var h=Ls[a];Ls[a++]=null;var b=Ls[a];Ls[a++]=null;var x=Ls[a];if(Ls[a++]=null,h!==null&&b!==null){var U=h.pending;U===null?b.next=b:(b.next=U.next,U.next=b),h.pending=b}x!==0&&$u(l,b,x)}}function Ku(i,a,l,h){Ls[yl++]=i,Ls[yl++]=a,Ls[yl++]=l,Ls[yl++]=h,Vc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Fc(i,a,l,h){return Ku(i,a,l,h),ji(i)}function lo(i,a){return Ku(i,null,null,a),ji(i)}function $u(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var b=!1,x=i.return;x!==null;)x.childLanes|=l,h=x.alternate,h!==null&&(h.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(b=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,b&&a!==null&&(b=31-Qe(l),i=x.hiddenUpdates,h=i[b],h===null?i[b]=[a]:h.push(a),a.lane=l|536870912),x):null}function ji(i){if(50<Rf)throw Rf=0,e0=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var xi={};function Bc(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(i,a,l,h){return new Bc(i,a,l,h)}function Uc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,a){var l=i.alternate;return l===null?(l=Vi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Yu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ql(i,a,l,h,b,x){var U=0;if(h=i,typeof i=="function")Uc(i)&&(U=1);else if(typeof i=="string")U=V6(i,l,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case E:return i=Vi(31,l,a,b),i.elementType=E,i.lanes=x,i;case D:return Oo(l.children,b,x,a);case M:U=8,b|=24;break;case k:return i=Vi(12,l,a,b|2),i.elementType=k,i.lanes=x,i;case ut:return i=Vi(13,l,a,b),i.elementType=ut,i.lanes=x,i;case Z:return i=Vi(19,l,a,b),i.elementType=Z,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:U=10;break t;case G:U=9;break t;case H:U=11;break t;case z:U=14;break t;case S:U=16,h=null;break t}U=29,l=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=Vi(U,l,a,b),a.elementType=i,a.type=h,a.lanes=x,a}function Oo(i,a,l,h){return i=Vi(7,i,h,a),i.lanes=l,i}function Qu(i,a,l){return i=Vi(6,i,null,a),i.lanes=l,i}function zc(i){var a=Vi(18,null,null,0);return a.stateNode=i,a}function Xl(i,a,l){return a=Vi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var qc=new WeakMap;function Gs(i,a){if(typeof i=="object"&&i!==null){var l=qc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:he(a)},qc.set(i,a),a)}return{value:i,source:a,stack:he(a)}}var Wl=[],vl=0,Hc=null,Xu=0,Ks=[],$s=0,Mo=null,Ys=1,Qs="";function Ds(i,a){Wl[vl++]=Xu,Wl[vl++]=Hc,Hc=i,Xu=a}function Gd(i,a,l){Ks[$s++]=Ys,Ks[$s++]=Qs,Ks[$s++]=Mo,Mo=i;var h=Ys;i=Qs;var b=32-Qe(h)-1;h&=~(1<<b),l+=1;var x=32-Qe(a)+b;if(30<x){var U=b-b%5;x=(h&(1<<U)-1).toString(32),h>>=U,b-=U,Ys=1<<32-Qe(a)+b|l<<b|h,Qs=x+i}else Ys=1<<x|l<<b|h,Qs=i}function uf(i){i.return!==null&&(Ds(i,1),Gd(i,1,0))}function Gc(i){for(;i===Hc;)Hc=Wl[--vl],Wl[vl]=null,Xu=Wl[--vl],Wl[vl]=null;for(;i===Mo;)Mo=Ks[--$s],Ks[$s]=null,Qs=Ks[--$s],Ks[$s]=null,Ys=Ks[--$s],Ks[$s]=null}function Kd(i,a){Ks[$s++]=Ys,Ks[$s++]=Qs,Ks[$s++]=Mo,Ys=a.id,Qs=a.overflow,Mo=i}var Ai=null,fr=null,vn=!1,ts=null,Sr=!1,ga=Error(n(519));function jo(i){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Gs(a,i)),ga}function cf(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Mn]=i,a[Yn]=h,l){case"dialog":_n("cancel",a),_n("close",a);break;case"iframe":case"object":case"embed":_n("load",a);break;case"video":case"audio":for(l=0;l<Df.length;l++)_n(Df[l],a);break;case"source":_n("error",a);break;case"img":case"image":case"link":_n("error",a),_n("load",a);break;case"details":_n("toggle",a);break;case"input":_n("invalid",a),ql(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":_n("invalid",a);break;case"textarea":_n("invalid",a),ua(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||Xy(a.textContent,l)?(h.popover!=null&&(_n("beforetoggle",a),_n("toggle",a)),h.onScroll!=null&&_n("scroll",a),h.onScrollEnd!=null&&_n("scrollend",a),h.onClick!=null&&(a.onclick=Ss),a=!0):a=!1,a||jo(i,!0)}function uo(i){for(Ai=i.return;Ai;)switch(Ai.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:Ai=Ai.return}}function Ei(i){if(i!==Ai)return!1;if(!vn)return uo(i),vn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||g0(i.type,i.memoizedProps)),l=!l),l&&fr&&jo(i),uo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));fr=sv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));fr=sv(i)}else a===27?(a=fr,fu(i.type)?(i=w0,w0=null,fr=i):fr=a):fr=Ai?za(i.stateNode.nextSibling):null;return!0}function bl(){fr=Ai=null,vn=!1}function hf(){var i=ts;return i!==null&&(ea===null?ea=i:ea.push.apply(ea,i),ts=null),i}function Zl(i){ts===null?ts=[i]:ts.push(i)}var Kc=J(null),Vo=null,Fa=null;function Fo(i,a,l){Q(Kc,a._currentValue),a._currentValue=l}function Xs(i){i._currentValue=Kc.current,O(Kc)}function Jl(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function _l(i,a,l,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var x=b.dependencies;if(x!==null){var U=b.child;x=x.firstContext;t:for(;x!==null;){var it=x;x=b;for(var vt=0;vt<a.length;vt++)if(it.context===a[vt]){x.lanes|=l,it=x.alternate,it!==null&&(it.lanes|=l),Jl(x.return,l,i),h||(U=null);break t}x=it.next}}else if(b.tag===18){if(U=b.return,U===null)throw Error(n(341));U.lanes|=l,x=U.alternate,x!==null&&(x.lanes|=l),Jl(U,l,i),U=null}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===i){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}}function Bo(i,a,l,h){i=null;for(var b=a,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var U=b.alternate;if(U===null)throw Error(n(387));if(U=U.memoizedProps,U!==null){var it=b.type;wi(b.pendingProps.value,U.value)||(i!==null?i.push(it):i=[it])}}else if(b===bt.current){if(U=b.alternate,U===null)throw Error(n(387));U.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(jf):i=[jf])}b=b.return}i!==null&&_l(a,i,l,h),a.flags|=262144}function $c(i){for(i=i.firstContext;i!==null;){if(!wi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Uo(i){Vo=i,Fa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Si(i){return $d(Vo,i)}function Yc(i,a){return Vo===null&&Uo(i),$d(i,a)}function $d(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Fa===null){if(i===null)throw Error(n(308));Fa=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Fa=Fa.next=a;return l}var _m=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},wm=r.unstable_scheduleCallback,xm=r.unstable_NormalPriority,jr={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new _m,data:new Map,refCount:0}}function Wu(i){i.refCount--,i.refCount===0&&wm(xm,function(){i.controller.abort()})}var Zu=null,Qc=0,m=0,_=null;function N(i,a){if(Zu===null){var l=Zu=[];Qc=0,m=o0(),_={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Qc++,a.then(j,j),a}function j(){if(--Qc===0&&Zu!==null){_!==null&&(_.status="fulfilled");var i=Zu;Zu=null,m=0,_=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function X(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(b){l.push(b)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var b=0;b<l.length;b++)(0,l[b])(a)},function(b){for(h.status="rejected",h.reason=b,b=0;b<l.length;b++)(0,l[b])(void 0)}),h}var nt=P.S;P.S=function(i,a){_y=we(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&N(i,a),nt!==null&&nt(i,a)};var rt=J(null);function at(){var i=rt.current;return i!==null?i:pr.pooledCache}function ht(i,a){a===null?Q(rt,rt.current):Q(rt,a.pool)}function mt(){var i=at();return i===null?null:{parent:jr._currentValue,pool:i}}var wt=Error(n(460)),Dt=Error(n(474)),dt=Error(n(542)),At={then:function(){}};function Ct(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qt(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Ss,Ss),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,re(i),i;default:if(typeof a.status=="string")a.then(Ss,Ss);else{if(i=pr,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=h}},function(h){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,re(i),i}throw zt=a,wt}}function Rt(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(zt=l,wt):l}}var zt=null;function Yt(){if(zt===null)throw Error(n(459));var i=zt;return zt=null,i}function re(i){if(i===wt||i===dt)throw Error(n(483))}var Zt=null,Pe=0;function Se(i){var a=Pe;return Pe+=1,Zt===null&&(Zt=[]),qt(Zt,i,a)}function en(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Le(i,a){throw a.$$typeof===w?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yn(i){function a(Nt,xt){if(i){var kt=Nt.deletions;kt===null?(Nt.deletions=[xt],Nt.flags|=16):kt.push(xt)}}function l(Nt,xt){if(!i)return null;for(;xt!==null;)a(Nt,xt),xt=xt.sibling;return null}function h(Nt){for(var xt=new Map;Nt!==null;)Nt.key!==null?xt.set(Nt.key,Nt):xt.set(Nt.index,Nt),Nt=Nt.sibling;return xt}function b(Nt,xt){return Nt=Hs(Nt,xt),Nt.index=0,Nt.sibling=null,Nt}function x(Nt,xt,kt){return Nt.index=kt,i?(kt=Nt.alternate,kt!==null?(kt=kt.index,kt<xt?(Nt.flags|=67108866,xt):kt):(Nt.flags|=67108866,xt)):(Nt.flags|=1048576,xt)}function U(Nt){return i&&Nt.alternate===null&&(Nt.flags|=67108866),Nt}function it(Nt,xt,kt,Qt){return xt===null||xt.tag!==6?(xt=Qu(kt,Nt.mode,Qt),xt.return=Nt,xt):(xt=b(xt,kt),xt.return=Nt,xt)}function vt(Nt,xt,kt,Qt){var Ye=kt.type;return Ye===D?Gt(Nt,xt,kt.props.children,Qt,kt.key):xt!==null&&(xt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===S&&Rt(Ye)===xt.type)?(xt=b(xt,kt.props),en(xt,kt),xt.return=Nt,xt):(xt=Ql(kt.type,kt.key,kt.props,null,Nt.mode,Qt),en(xt,kt),xt.return=Nt,xt)}function Pt(Nt,xt,kt,Qt){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==kt.containerInfo||xt.stateNode.implementation!==kt.implementation?(xt=Xl(kt,Nt.mode,Qt),xt.return=Nt,xt):(xt=b(xt,kt.children||[]),xt.return=Nt,xt)}function Gt(Nt,xt,kt,Qt,Ye){return xt===null||xt.tag!==7?(xt=Oo(kt,Nt.mode,Qt,Ye),xt.return=Nt,xt):(xt=b(xt,kt),xt.return=Nt,xt)}function Xt(Nt,xt,kt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return xt=Qu(""+xt,Nt.mode,kt),xt.return=Nt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case y:return kt=Ql(xt.type,xt.key,xt.props,null,Nt.mode,kt),en(kt,xt),kt.return=Nt,kt;case C:return xt=Xl(xt,Nt.mode,kt),xt.return=Nt,xt;case S:return xt=Rt(xt),Xt(Nt,xt,kt)}if(ft(xt)||I(xt))return xt=Oo(xt,Nt.mode,kt,null),xt.return=Nt,xt;if(typeof xt.then=="function")return Xt(Nt,Se(xt),kt);if(xt.$$typeof===K)return Xt(Nt,Yc(Nt,xt),kt);Le(Nt,xt)}return null}function jt(Nt,xt,kt,Qt){var Ye=xt!==null?xt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return Ye!==null?null:it(Nt,xt,""+kt,Qt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:return kt.key===Ye?vt(Nt,xt,kt,Qt):null;case C:return kt.key===Ye?Pt(Nt,xt,kt,Qt):null;case S:return kt=Rt(kt),jt(Nt,xt,kt,Qt)}if(ft(kt)||I(kt))return Ye!==null?null:Gt(Nt,xt,kt,Qt,null);if(typeof kt.then=="function")return jt(Nt,xt,Se(kt),Qt);if(kt.$$typeof===K)return jt(Nt,xt,Yc(Nt,kt),Qt);Le(Nt,kt)}return null}function Ut(Nt,xt,kt,Qt,Ye){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return Nt=Nt.get(kt)||null,it(xt,Nt,""+Qt,Ye);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case y:return Nt=Nt.get(Qt.key===null?kt:Qt.key)||null,vt(xt,Nt,Qt,Ye);case C:return Nt=Nt.get(Qt.key===null?kt:Qt.key)||null,Pt(xt,Nt,Qt,Ye);case S:return Qt=Rt(Qt),Ut(Nt,xt,kt,Qt,Ye)}if(ft(Qt)||I(Qt))return Nt=Nt.get(kt)||null,Gt(xt,Nt,Qt,Ye,null);if(typeof Qt.then=="function")return Ut(Nt,xt,kt,Se(Qt),Ye);if(Qt.$$typeof===K)return Ut(Nt,xt,kt,Yc(xt,Qt),Ye);Le(xt,Qt)}return null}function De(Nt,xt,kt,Qt){for(var Ye=null,Fn=null,Ve=xt,hn=xt=0,An=null;Ve!==null&&hn<kt.length;hn++){Ve.index>hn?(An=Ve,Ve=null):An=Ve.sibling;var Bn=jt(Nt,Ve,kt[hn],Qt);if(Bn===null){Ve===null&&(Ve=An);break}i&&Ve&&Bn.alternate===null&&a(Nt,Ve),xt=x(Bn,xt,hn),Fn===null?Ye=Bn:Fn.sibling=Bn,Fn=Bn,Ve=An}if(hn===kt.length)return l(Nt,Ve),vn&&Ds(Nt,hn),Ye;if(Ve===null){for(;hn<kt.length;hn++)Ve=Xt(Nt,kt[hn],Qt),Ve!==null&&(xt=x(Ve,xt,hn),Fn===null?Ye=Ve:Fn.sibling=Ve,Fn=Ve);return vn&&Ds(Nt,hn),Ye}for(Ve=h(Ve);hn<kt.length;hn++)An=Ut(Ve,Nt,hn,kt[hn],Qt),An!==null&&(i&&An.alternate!==null&&Ve.delete(An.key===null?hn:An.key),xt=x(An,xt,hn),Fn===null?Ye=An:Fn.sibling=An,Fn=An);return i&&Ve.forEach(function(yu){return a(Nt,yu)}),vn&&Ds(Nt,hn),Ye}function Ze(Nt,xt,kt,Qt){if(kt==null)throw Error(n(151));for(var Ye=null,Fn=null,Ve=xt,hn=xt=0,An=null,Bn=kt.next();Ve!==null&&!Bn.done;hn++,Bn=kt.next()){Ve.index>hn?(An=Ve,Ve=null):An=Ve.sibling;var yu=jt(Nt,Ve,Bn.value,Qt);if(yu===null){Ve===null&&(Ve=An);break}i&&Ve&&yu.alternate===null&&a(Nt,Ve),xt=x(yu,xt,hn),Fn===null?Ye=yu:Fn.sibling=yu,Fn=yu,Ve=An}if(Bn.done)return l(Nt,Ve),vn&&Ds(Nt,hn),Ye;if(Ve===null){for(;!Bn.done;hn++,Bn=kt.next())Bn=Xt(Nt,Bn.value,Qt),Bn!==null&&(xt=x(Bn,xt,hn),Fn===null?Ye=Bn:Fn.sibling=Bn,Fn=Bn);return vn&&Ds(Nt,hn),Ye}for(Ve=h(Ve);!Bn.done;hn++,Bn=kt.next())Bn=Ut(Ve,Nt,hn,Bn.value,Qt),Bn!==null&&(i&&Bn.alternate!==null&&Ve.delete(Bn.key===null?hn:Bn.key),xt=x(Bn,xt,hn),Fn===null?Ye=Bn:Fn.sibling=Bn,Fn=Bn);return i&&Ve.forEach(function(Q6){return a(Nt,Q6)}),vn&&Ds(Nt,hn),Ye}function cr(Nt,xt,kt,Qt){if(typeof kt=="object"&&kt!==null&&kt.type===D&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:t:{for(var Ye=kt.key;xt!==null;){if(xt.key===Ye){if(Ye=kt.type,Ye===D){if(xt.tag===7){l(Nt,xt.sibling),Qt=b(xt,kt.props.children),Qt.return=Nt,Nt=Qt;break t}}else if(xt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===S&&Rt(Ye)===xt.type){l(Nt,xt.sibling),Qt=b(xt,kt.props),en(Qt,kt),Qt.return=Nt,Nt=Qt;break t}l(Nt,xt);break}else a(Nt,xt);xt=xt.sibling}kt.type===D?(Qt=Oo(kt.props.children,Nt.mode,Qt,kt.key),Qt.return=Nt,Nt=Qt):(Qt=Ql(kt.type,kt.key,kt.props,null,Nt.mode,Qt),en(Qt,kt),Qt.return=Nt,Nt=Qt)}return U(Nt);case C:t:{for(Ye=kt.key;xt!==null;){if(xt.key===Ye)if(xt.tag===4&&xt.stateNode.containerInfo===kt.containerInfo&&xt.stateNode.implementation===kt.implementation){l(Nt,xt.sibling),Qt=b(xt,kt.children||[]),Qt.return=Nt,Nt=Qt;break t}else{l(Nt,xt);break}else a(Nt,xt);xt=xt.sibling}Qt=Xl(kt,Nt.mode,Qt),Qt.return=Nt,Nt=Qt}return U(Nt);case S:return kt=Rt(kt),cr(Nt,xt,kt,Qt)}if(ft(kt))return De(Nt,xt,kt,Qt);if(I(kt)){if(Ye=I(kt),typeof Ye!="function")throw Error(n(150));return kt=Ye.call(kt),Ze(Nt,xt,kt,Qt)}if(typeof kt.then=="function")return cr(Nt,xt,Se(kt),Qt);if(kt.$$typeof===K)return cr(Nt,xt,Yc(Nt,kt),Qt);Le(Nt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,xt!==null&&xt.tag===6?(l(Nt,xt.sibling),Qt=b(xt,kt),Qt.return=Nt,Nt=Qt):(l(Nt,xt),Qt=Qu(kt,Nt.mode,Qt),Qt.return=Nt,Nt=Qt),U(Nt)):l(Nt,xt)}return function(Nt,xt,kt,Qt){try{Pe=0;var Ye=cr(Nt,xt,kt,Qt);return Zt=null,Ye}catch(Ve){if(Ve===wt||Ve===dt)throw Ve;var Fn=Vi(29,Ve,null,Nt.mode);return Fn.lanes=Qt,Fn.return=Nt,Fn}finally{}}}var dr=yn(!0),on=yn(!1),Te=!1;function pe(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function We(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function cn(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(qn&2)!==0){var b=h.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),h.pending=a,a=ji(i),$u(i,null,l),a}return Ku(i,h,a,l),ji(i)}function Un(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Ci(i,l)}}function ti(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var b=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var U={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?b=x=U:x=x.next=U,l=l.next}while(l!==null);x===null?b=x=a:x=x.next=a}else b=x=a;l={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ti=!1;function or(){if(Ti){var i=_;if(i!==null)throw i}}function Hr(i,a,l,h){Ti=!1;var b=i.updateQueue;Te=!1;var x=b.firstBaseUpdate,U=b.lastBaseUpdate,it=b.shared.pending;if(it!==null){b.shared.pending=null;var vt=it,Pt=vt.next;vt.next=null,U===null?x=Pt:U.next=Pt,U=vt;var Gt=i.alternate;Gt!==null&&(Gt=Gt.updateQueue,it=Gt.lastBaseUpdate,it!==U&&(it===null?Gt.firstBaseUpdate=Pt:it.next=Pt,Gt.lastBaseUpdate=vt))}if(x!==null){var Xt=b.baseState;U=0,Gt=Pt=vt=null,it=x;do{var jt=it.lane&-536870913,Ut=jt!==it.lane;if(Ut?(xn&jt)===jt:(h&jt)===jt){jt!==0&&jt===m&&(Ti=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:it.tag,payload:it.payload,callback:null,next:null});t:{var De=i,Ze=it;jt=a;var cr=l;switch(Ze.tag){case 1:if(De=Ze.payload,typeof De=="function"){Xt=De.call(cr,Xt,jt);break t}Xt=De;break t;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ze.payload,jt=typeof De=="function"?De.call(cr,Xt,jt):De,jt==null)break t;Xt=v({},Xt,jt);break t;case 2:Te=!0}}jt=it.callback,jt!==null&&(i.flags|=64,Ut&&(i.flags|=8192),Ut=b.callbacks,Ut===null?b.callbacks=[jt]:Ut.push(jt))}else Ut={lane:jt,tag:it.tag,payload:it.payload,callback:it.callback,next:null},Gt===null?(Pt=Gt=Ut,vt=Xt):Gt=Gt.next=Ut,U|=jt;if(it=it.next,it===null){if(it=b.shared.pending,it===null)break;Ut=it,it=Ut.next,Ut.next=null,b.lastBaseUpdate=Ut,b.shared.pending=null}}while(!0);Gt===null&&(vt=Xt),b.baseState=vt,b.firstBaseUpdate=Pt,b.lastBaseUpdate=Gt,x===null&&(b.shared.lanes=0),ou|=U,i.lanes=U,i.memoizedState=Xt}}function Fi(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function Gr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Fi(l[i],a)}var dn=J(null),In=J(0);function br(i,a){i=Rl,Q(In,i),Q(dn,a),Rl=i|a.baseLanes}function Pn(){Q(In,Rl),Q(dn,dn.current)}function ei(){Rl=In.current,O(dn),O(In)}var _r=J(null),Cn=null;function Vr(i){var a=i.alternate;Q(Tn,Tn.current&1),Q(_r,i),Cn===null&&(a===null||dn.current!==null||a.memoizedState!==null)&&(Cn=i)}function zn(i){Q(Tn,Tn.current),Q(_r,i),Cn===null&&(Cn=i)}function Kr(i){i.tag===22?(Q(Tn,Tn.current),Q(_r,i),Cn===null&&(Cn=i)):$r()}function $r(){Q(Tn,Tn.current),Q(_r,_r.current)}function Xn(i){O(_r),Cn===i&&(Cn=null),O(Tn)}var Tn=J(0);function Bi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||b0(l)||_0(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tr=0,Ge=null,$e=null,Rn=null,fs=!1,Ws=!1,es=!1,Yr=0,zo=0,qo=null,Xc=0;function lr(){throw Error(n(321))}function ff(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!wi(i[l],a[l]))return!1;return!0}function df(i,a,l,h,b,x){return Tr=x,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=i===null||i.memoizedState===null?L5:Rm,es=!1,x=l(h,b),es=!1,Ws&&(x=co(a,l,h,b)),Wc(i),x}function Wc(i){P.H=wf;var a=$e!==null&&$e.next!==null;if(Tr=0,Rn=$e=Ge=null,fs=!1,zo=0,qo=null,a)throw Error(n(300));i===null||hi||(i=i.dependencies,i!==null&&$c(i)&&(hi=!0))}function co(i,a,l,h){Ge=i;var b=0;do{if(Ws&&(qo=null),zo=0,Ws=!1,25<=b)throw Error(n(301));if(b+=1,Rn=$e=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}P.H=D5,x=a(l,h)}while(Ws);return x}function Am(){var i=P.H,a=i.useState()[0];return a=typeof a.then=="function"?Ho(a):a,i=i.useState()[0],($e!==null?$e.memoizedState:null)!==i&&(Ge.flags|=1024),a}function pf(){var i=Yr!==0;return Yr=0,i}function mf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Zc(i){if(fs){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}fs=!1}Tr=0,Rn=$e=Ge=null,Ws=!1,zo=Yr=0,qo=null}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Ge.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function Nr(){if($e===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=$e.next;var a=Rn===null?Ge.memoizedState:Rn.next;if(a!==null)Rn=a,$e=i;else{if(i===null)throw Ge.alternate===null?Error(n(467)):Error(n(310));$e=i,i={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Rn===null?Ge.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(i){var a=zo;return zo+=1,qo===null&&(qo=[]),i=qt(qo,i,a),a=Ge,(Rn===null?a.memoizedState:Rn.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?L5:Rm),i}function eu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ho(i);if(i.$$typeof===K)return Si(i)}throw Error(n(438,String(i)))}function wl(i){var a=null,l=Ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Ge.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ju(),Ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=V;return a.index++,l}function Ba(i,a){return typeof a=="function"?a(i):a}function Jc(i){var a=Nr();return nu(a,$e,i)}function nu(i,a,l){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var b=i.baseQueue,x=h.pending;if(x!==null){if(b!==null){var U=b.next;b.next=x.next,x.next=U}a.baseQueue=b=x,h.pending=null}if(x=i.baseState,b===null)i.memoizedState=x;else{a=b.next;var it=U=null,vt=null,Pt=a,Gt=!1;do{var Xt=Pt.lane&-536870913;if(Xt!==Pt.lane?(xn&Xt)===Xt:(Tr&Xt)===Xt){var jt=Pt.revertLane;if(jt===0)vt!==null&&(vt=vt.next={lane:0,revertLane:0,gesture:null,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),Xt===m&&(Gt=!0);else if((Tr&jt)===jt){Pt=Pt.next,jt===m&&(Gt=!0);continue}else Xt={lane:0,revertLane:Pt.revertLane,gesture:null,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},vt===null?(it=vt=Xt,U=x):vt=vt.next=Xt,Ge.lanes|=jt,ou|=jt;Xt=Pt.action,es&&l(x,Xt),x=Pt.hasEagerState?Pt.eagerState:l(x,Xt)}else jt={lane:Xt,revertLane:Pt.revertLane,gesture:Pt.gesture,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},vt===null?(it=vt=jt,U=x):vt=vt.next=jt,Ge.lanes|=Xt,ou|=Xt;Pt=Pt.next}while(Pt!==null&&Pt!==a);if(vt===null?U=x:vt.next=it,!wi(x,i.memoizedState)&&(hi=!0,Gt&&(l=_,l!==null)))throw l;i.memoizedState=x,i.baseState=U,i.baseQueue=vt,h.lastRenderedState=x}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function th(i){var a=Nr(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,b=l.pending,x=a.memoizedState;if(b!==null){l.pending=null;var U=b=b.next;do x=i(x,U.action),U=U.next;while(U!==b);wi(x,a.memoizedState)||(hi=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,h]}function eh(i,a,l){var h=Ge,b=Nr(),x=vn;if(x){if(l===void 0)throw Error(n(407));l=l()}else l=a();var U=!wi(($e||b).memoizedState,l);if(U&&(b.memoizedState=l,hi=!0),b=b.queue,Em(yf.bind(null,h,b,i),[i]),b.getSnapshot!==a||U||Rn!==null&&Rn.memoizedState.tag&1){if(h.flags|=2048,Al(9,{destroy:void 0},gf.bind(null,h,b,l,a),null),pr===null)throw Error(n(349));x||(Tr&127)!==0||ho(h,a,l)}return l}function ho(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ge.updateQueue,a===null?(a=Ju(),Ge.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function gf(i,a,l,h){a.value=l,a.getSnapshot=h,Yd(a)&&vf(i)}function yf(i,a,l){return l(function(){Yd(a)&&vf(i)})}function Yd(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!wi(i,l)}catch{return!0}}function vf(i){var a=lo(i,2);a!==null&&na(a,i,2)}function Go(i){var a=ci();if(typeof i=="function"){var l=i;if(i=l(),es){be(!0);try{l()}finally{be(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:i},a}function Qd(i,a,l,h){return i.baseState=l,nu(i,$e,typeof h=="function"?h:Ba)}function Xd(i,a,l,h,b){if(tp(i))throw Error(n(485));if(i=a.action,i!==null){var x={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){x.listeners.push(U)}};P.T!==null?l(!0):x.isTransition=!1,h(x),l=a.pending,l===null?(x.next=a.pending=x,Wd(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Wd(i,a){var l=a.action,h=a.payload,b=i.state;if(a.isTransition){var x=P.T,U={};P.T=U;try{var it=l(b,h),vt=P.S;vt!==null&&vt(U,it),bf(i,a,it)}catch(Pt){xl(i,a,Pt)}finally{x!==null&&U.types!==null&&(x.types=U.types),P.T=x}}else try{x=l(b,h),bf(i,a,x)}catch(Pt){xl(i,a,Pt)}}function bf(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Zd(i,a,h)},function(h){return xl(i,a,h)}):Zd(i,a,l)}function Zd(i,a,l){a.status="fulfilled",a.value=l,nh(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Wd(i,l)))}function xl(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,nh(a),a=a.next;while(a!==h)}i.action=null}function nh(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function tc(i,a){return a}function Ua(i,a){if(vn){var l=pr.formState;if(l!==null){t:{var h=Ge;if(vn){if(fr){e:{for(var b=fr,x=Sr;b.nodeType!==8;){if(!x){b=null;break e}if(b=za(b.nextSibling),b===null){b=null;break e}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){fr=za(b.nextSibling),h=b.data==="F!";break t}}jo(h)}h=!1}h&&(a=l[0])}}return l=ci(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:a},l.queue=h,l=I5.bind(null,Ge,h),h.dispatch=l,h=Go(!1),x=Cm.bind(null,Ge,!1,h.queue),h=ci(),b={state:a,dispatch:null,action:i,pending:null},h.queue=b,l=Xd.bind(null,Ge,b,x,l),b.dispatch=l,h.memoizedState=i,[a,l,!1]}function fo(i){var a=Nr();return po(a,$e,i)}function po(i,a,l){if(a=nu(i,a,tc)[0],i=Jc(Ba)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ho(a)}catch(U){throw U===wt?dt:U}else h=a;a=Nr();var b=a.queue,x=b.dispatch;return l!==a.memoizedState&&(Ge.flags|=2048,Al(9,{destroy:void 0},rh.bind(null,b,l),null)),[h,x,i]}function rh(i,a){i.action=a}function ih(i){var a=Nr(),l=$e;if(l!==null)return po(a,l,i);Nr(),a=a.memoizedState,l=Nr();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Al(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Ge.updateQueue,a===null&&(a=Ju(),Ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function Jd(){return Nr().memoizedState}function ru(i,a,l,h){var b=ci();Ge.flags|=i,b.memoizedState=Al(1|a,{destroy:void 0},l,h===void 0?null:h)}function iu(i,a,l,h){var b=Nr();h=h===void 0?null:h;var x=b.memoizedState.inst;$e!==null&&h!==null&&ff(h,$e.memoizedState.deps)?b.memoizedState=Al(a,x,l,h):(Ge.flags|=i,b.memoizedState=Al(1|a,x,l,h))}function p5(i,a){ru(8390656,8,i,a)}function Em(i,a){iu(2048,8,i,a)}function qA(i){Ge.flags|=4;var a=Ge.updateQueue;if(a===null)a=Ju(),Ge.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function m5(i){var a=Nr().memoizedState;return qA({ref:a,nextImpl:i}),function(){if((qn&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function g5(i,a){return iu(4,2,i,a)}function y5(i,a){return iu(4,4,i,a)}function v5(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function b5(i,a,l){l=l!=null?l.concat([i]):null,iu(4,4,v5.bind(null,a,i),l)}function Sm(){}function _5(i,a){var l=Nr();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&ff(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function w5(i,a){var l=Nr();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&ff(a,h[1]))return h[0];if(h=i(),es){be(!0);try{i()}finally{be(!1)}}return l.memoizedState=[h,a],h}function Tm(i,a,l){return l===void 0||(Tr&1073741824)!==0&&(xn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=xy(),Ge.lanes|=i,ou|=i,l)}function x5(i,a,l,h){return wi(l,a)?l:dn.current!==null?(i=Tm(i,l,h),wi(i,a)||(hi=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(xn&261930)===0?(hi=!0,i.memoizedState=l):(i=xy(),Ge.lanes|=i,ou|=i,a)}function A5(i,a,l,h,b){var x=B.p;B.p=x!==0&&8>x?x:8;var U=P.T,it={};P.T=it,Cm(i,!1,a,l);try{var vt=b(),Pt=P.S;if(Pt!==null&&Pt(it,vt),vt!==null&&typeof vt=="object"&&typeof vt.then=="function"){var Gt=X(vt,h);_f(i,a,Gt,ba(i))}else _f(i,a,h,ba(i))}catch(Xt){_f(i,a,{then:function(){},status:"rejected",reason:Xt},ba())}finally{B.p=x,U!==null&&it.types!==null&&(U.types=it.types),P.T=U}}function HA(){}function Nm(i,a,l,h){if(i.tag!==5)throw Error(n(476));var b=E5(i).queue;A5(i,b,a,tt,l===null?HA:function(){return S5(i),l(h)})}function E5(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:tt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function S5(i){var a=E5(i);a.next===null&&(a=i.alternate.memoizedState),_f(i,a.next.queue,{},ba())}function Im(){return Si(jf)}function T5(){return Nr().memoizedState}function N5(){return Nr().memoizedState}function GA(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ba();i=We(l);var h=cn(a,i,l);h!==null&&(na(h,a,l),Un(h,a,l)),a={cache:tu()},i.payload=a;return}a=a.return}}function KA(i,a,l){var h=ba();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tp(i)?C5(a,l):(l=Fc(i,a,l,h),l!==null&&(na(l,i,h),R5(l,a,h)))}function I5(i,a,l){var h=ba();_f(i,a,l,h)}function _f(i,a,l,h){var b={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(tp(i))C5(a,b);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var U=a.lastRenderedState,it=x(U,l);if(b.hasEagerState=!0,b.eagerState=it,wi(it,U))return Ku(i,a,b,0),pr===null&&Gu(),!1}catch{}finally{}if(l=Fc(i,a,b,h),l!==null)return na(l,i,h),R5(l,a,h),!0}return!1}function Cm(i,a,l,h){if(h={lane:2,revertLane:o0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tp(i)){if(a)throw Error(n(479))}else a=Fc(i,l,h,2),a!==null&&na(a,i,2)}function tp(i){var a=i.alternate;return i===Ge||a!==null&&a===Ge}function C5(i,a){Ws=fs=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function R5(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Ci(i,l)}}var wf={readContext:Si,use:eu,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};wf.useEffectEvent=lr;var L5={readContext:Si,use:eu,useCallback:function(i,a){return ci().memoizedState=[i,a===void 0?null:a],i},useContext:Si,useEffect:p5,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,ru(4194308,4,v5.bind(null,a,i),l)},useLayoutEffect:function(i,a){return ru(4194308,4,i,a)},useInsertionEffect:function(i,a){ru(4,2,i,a)},useMemo:function(i,a){var l=ci();a=a===void 0?null:a;var h=i();if(es){be(!0);try{i()}finally{be(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=ci();if(l!==void 0){var b=l(a);if(es){be(!0);try{l(a)}finally{be(!1)}}}else b=a;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=KA.bind(null,Ge,i),[h.memoizedState,i]},useRef:function(i){var a=ci();return i={current:i},a.memoizedState=i},useState:function(i){i=Go(i);var a=i.queue,l=I5.bind(null,Ge,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Sm,useDeferredValue:function(i,a){var l=ci();return Tm(l,i,a)},useTransition:function(){var i=Go(!1);return i=A5.bind(null,Ge,i.queue,!0,!1),ci().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Ge,b=ci();if(vn){if(l===void 0)throw Error(n(407));l=l()}else{if(l=a(),pr===null)throw Error(n(349));(xn&127)!==0||ho(h,a,l)}b.memoizedState=l;var x={value:l,getSnapshot:a};return b.queue=x,p5(yf.bind(null,h,x,i),[i]),h.flags|=2048,Al(9,{destroy:void 0},gf.bind(null,h,x,l,a),null),l},useId:function(){var i=ci(),a=pr.identifierPrefix;if(vn){var l=Qs,h=Ys;l=(h&~(1<<32-Qe(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Yr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Xc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Im,useFormState:Ua,useActionState:Ua,useOptimistic:function(i){var a=ci();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Cm.bind(null,Ge,!0,l),l.dispatch=a,[i,a]},useMemoCache:wl,useCacheRefresh:function(){return ci().memoizedState=GA.bind(null,Ge)},useEffectEvent:function(i){var a=ci(),l={impl:i};return a.memoizedState=l,function(){if((qn&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},Rm={readContext:Si,use:eu,useCallback:_5,useContext:Si,useEffect:Em,useImperativeHandle:b5,useInsertionEffect:g5,useLayoutEffect:y5,useMemo:w5,useReducer:Jc,useRef:Jd,useState:function(){return Jc(Ba)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Nr();return x5(l,$e.memoizedState,i,a)},useTransition:function(){var i=Jc(Ba)[0],a=Nr().memoizedState;return[typeof i=="boolean"?i:Ho(i),a]},useSyncExternalStore:eh,useId:T5,useHostTransitionStatus:Im,useFormState:fo,useActionState:fo,useOptimistic:function(i,a){var l=Nr();return Qd(l,$e,i,a)},useMemoCache:wl,useCacheRefresh:N5};Rm.useEffectEvent=m5;var D5={readContext:Si,use:eu,useCallback:_5,useContext:Si,useEffect:Em,useImperativeHandle:b5,useInsertionEffect:g5,useLayoutEffect:y5,useMemo:w5,useReducer:th,useRef:Jd,useState:function(){return th(Ba)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Nr();return $e===null?Tm(l,i,a):x5(l,$e.memoizedState,i,a)},useTransition:function(){var i=th(Ba)[0],a=Nr().memoizedState;return[typeof i=="boolean"?i:Ho(i),a]},useSyncExternalStore:eh,useId:T5,useHostTransitionStatus:Im,useFormState:ih,useActionState:ih,useOptimistic:function(i,a){var l=Nr();return $e!==null?Qd(l,$e,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:wl,useCacheRefresh:N5};D5.useEffectEvent=m5;function Lm(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:v({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Dm={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=ba(),b=We(h);b.payload=a,l!=null&&(b.callback=l),a=cn(i,b,h),a!==null&&(na(a,i,h),Un(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=ba(),b=We(h);b.tag=1,b.payload=a,l!=null&&(b.callback=l),a=cn(i,b,h),a!==null&&(na(a,i,h),Un(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ba(),h=We(l);h.tag=2,a!=null&&(h.callback=a),a=cn(i,h,l),a!==null&&(na(a,i,l),Un(a,i,l))}};function k5(i,a,l,h,b,x,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,x,U):a.prototype&&a.prototype.isPureReactComponent?!io(l,h)||!io(b,x):!0}function P5(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Dm.enqueueReplaceState(a,a.state,null)}function ec(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=v({},l));for(var b in i)l[b]===void 0&&(l[b]=i[b])}return l}function O5(i){Hu(i)}function M5(i){console.error(i)}function j5(i){Hu(i)}function ep(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function V5(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function km(i,a,l){return l=We(l),l.tag=3,l.payload={element:null},l.callback=function(){ep(i,a)},l}function F5(i){return i=We(i),i.tag=3,i}function B5(i,a,l,h){var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var x=h.value;i.payload=function(){return b(x)},i.callback=function(){V5(a,l,h)}}var U=l.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(i.callback=function(){V5(a,l,h),typeof b!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var it=h.stack;this.componentDidCatch(h.value,{componentStack:it!==null?it:""})})}function $A(i,a,l,h,b){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Bo(a,l,b,!0),l=_r.current,l!==null){switch(l.tag){case 31:case 13:return Cn===null?dp():l.alternate===null&&Qr===0&&(Qr=3),l.flags&=-257,l.flags|=65536,l.lanes=b,h===At?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),i0(i,h,b)),!1;case 22:return l.flags|=65536,h===At?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),i0(i,h,b)),!1}throw Error(n(435,l.tag))}return i0(i,h,b),dp(),!1}if(vn)return a=_r.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,h!==ga&&(i=Error(n(422),{cause:h}),Zl(Gs(i,l)))):(h!==ga&&(a=Error(n(423),{cause:h}),Zl(Gs(a,l))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=Gs(h,l),b=km(i.stateNode,h,b),ti(i,b),Qr!==4&&(Qr=2)),!1;var x=Error(n(520),{cause:h});if(x=Gs(x,l),Cf===null?Cf=[x]:Cf.push(x),Qr!==4&&(Qr=2),a===null)return!0;h=Gs(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=b&-b,l.lanes|=i,i=km(l.stateNode,h,i),ti(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(lu===null||!lu.has(x))))return l.flags|=65536,b&=-b,l.lanes|=b,b=F5(b),B5(b,i,l,h),ti(l,b),!1}l=l.return}while(l!==null);return!1}var Pm=Error(n(461)),hi=!1;function ns(i,a,l,h){a.child=i===null?on(a,null,l,h):dr(a,i.child,l,h)}function U5(i,a,l,h,b){l=l.render;var x=a.ref;if("ref"in h){var U={};for(var it in h)it!=="ref"&&(U[it]=h[it])}else U=h;return Uo(a),h=df(i,a,l,U,x,b),it=pf(),i!==null&&!hi?(mf(i,a,b),El(i,a,b)):(vn&&it&&uf(a),a.flags|=1,ns(i,a,h,b),a.child)}function z5(i,a,l,h,b){if(i===null){var x=l.type;return typeof x=="function"&&!Uc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,q5(i,a,x,h,b)):(i=Ql(l.type,null,h,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!zm(i,b)){var U=x.memoizedProps;if(l=l.compare,l=l!==null?l:io,l(U,h)&&i.ref===a.ref)return El(i,a,b)}return a.flags|=1,i=Hs(x,h),i.ref=a.ref,i.return=a,a.child=i}function q5(i,a,l,h,b){if(i!==null){var x=i.memoizedProps;if(io(x,h)&&i.ref===a.ref)if(hi=!1,a.pendingProps=h=x,zm(i,b))(i.flags&131072)!==0&&(hi=!0);else return a.lanes=i.lanes,El(i,a,b)}return Om(i,a,l,h,b)}function H5(i,a,l,h){var b=h.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(h=a.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~x}else h=0,a.child=null;return G5(i,a,x,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ht(a,x!==null?x.cachePool:null),x!==null?br(a,x):Pn(),Kr(a);else return h=a.lanes=536870912,G5(i,a,x!==null?x.baseLanes|l:l,l,h)}else x!==null?(ht(a,x.cachePool),br(a,x),$r(),a.memoizedState=null):(i!==null&&ht(a,null),Pn(),$r());return ns(i,a,b,l),a.child}function xf(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function G5(i,a,l,h,b){var x=at();return x=x===null?null:{parent:jr._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},i!==null&&ht(a,null),Pn(),Kr(a),i!==null&&Bo(i,a,h,!0),a.childLanes=b,null}function np(i,a){return a=ip({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function K5(i,a,l){return dr(a,i.child,null,l),i=np(a,a.pendingProps),i.flags|=2,Xn(a),a.memoizedState=null,i}function YA(i,a,l){var h=a.pendingProps,b=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(vn){if(h.mode==="hidden")return i=np(a,h),a.lanes=536870912,xf(null,i);if(zn(a),(i=fr)?(i=iv(i,Sr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:Ys,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},l=zc(i),l.return=a,a.child=l,Ai=a,fr=null)):i=null,i===null)throw jo(a);return a.lanes=536870912,null}return np(a,h)}var x=i.memoizedState;if(x!==null){var U=x.dehydrated;if(zn(a),b)if(a.flags&256)a.flags&=-257,a=K5(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(n(558));else if(hi||Bo(i,a,l,!1),b=(l&i.childLanes)!==0,hi||b){if(h=pr,h!==null&&(U=Ri(h,l),U!==0&&U!==x.retryLane))throw x.retryLane=U,lo(i,U),na(h,i,U),Pm;dp(),a=K5(i,a,l)}else i=x.treeContext,fr=za(U.nextSibling),Ai=a,vn=!0,ts=null,Sr=!1,i!==null&&Kd(a,i),a=np(a,h),a.flags|=4096;return a}return i=Hs(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function rp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Om(i,a,l,h,b){return Uo(a),l=df(i,a,l,h,void 0,b),h=pf(),i!==null&&!hi?(mf(i,a,b),El(i,a,b)):(vn&&h&&uf(a),a.flags|=1,ns(i,a,l,b),a.child)}function $5(i,a,l,h,b,x){return Uo(a),a.updateQueue=null,l=co(a,h,l,b),Wc(i),h=pf(),i!==null&&!hi?(mf(i,a,x),El(i,a,x)):(vn&&h&&uf(a),a.flags|=1,ns(i,a,l,x),a.child)}function Y5(i,a,l,h,b){if(Uo(a),a.stateNode===null){var x=xi,U=l.contextType;typeof U=="object"&&U!==null&&(x=Si(U)),x=new l(h,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Dm,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=h,x.state=a.memoizedState,x.refs={},pe(a),U=l.contextType,x.context=typeof U=="object"&&U!==null?Si(U):xi,x.state=a.memoizedState,U=l.getDerivedStateFromProps,typeof U=="function"&&(Lm(a,l,U,h),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(U=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),U!==x.state&&Dm.enqueueReplaceState(x,x.state,null),Hr(a,h,x,b),or(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){x=a.stateNode;var it=a.memoizedProps,vt=ec(l,it);x.props=vt;var Pt=x.context,Gt=l.contextType;U=xi,typeof Gt=="object"&&Gt!==null&&(U=Si(Gt));var Xt=l.getDerivedStateFromProps;Gt=typeof Xt=="function"||typeof x.getSnapshotBeforeUpdate=="function",it=a.pendingProps!==it,Gt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(it||Pt!==U)&&P5(a,x,h,U),Te=!1;var jt=a.memoizedState;x.state=jt,Hr(a,h,x,b),or(),Pt=a.memoizedState,it||jt!==Pt||Te?(typeof Xt=="function"&&(Lm(a,l,Xt,h),Pt=a.memoizedState),(vt=Te||k5(a,l,vt,h,jt,Pt,U))?(Gt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Pt),x.props=h,x.state=Pt,x.context=U,h=vt):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,vr(i,a),U=a.memoizedProps,Gt=ec(l,U),x.props=Gt,Xt=a.pendingProps,jt=x.context,Pt=l.contextType,vt=xi,typeof Pt=="object"&&Pt!==null&&(vt=Si(Pt)),it=l.getDerivedStateFromProps,(Pt=typeof it=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U!==Xt||jt!==vt)&&P5(a,x,h,vt),Te=!1,jt=a.memoizedState,x.state=jt,Hr(a,h,x,b),or();var Ut=a.memoizedState;U!==Xt||jt!==Ut||Te||i!==null&&i.dependencies!==null&&$c(i.dependencies)?(typeof it=="function"&&(Lm(a,l,it,h),Ut=a.memoizedState),(Gt=Te||k5(a,l,Gt,h,jt,Ut,vt)||i!==null&&i.dependencies!==null&&$c(i.dependencies))?(Pt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ut,vt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ut,vt)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||U===i.memoizedProps&&jt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&jt===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Ut),x.props=h,x.state=Ut,x.context=vt,h=Gt):(typeof x.componentDidUpdate!="function"||U===i.memoizedProps&&jt===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&jt===i.memoizedState||(a.flags|=1024),h=!1)}return x=h,rp(i,a),h=(a.flags&128)!==0,x||h?(x=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&h?(a.child=dr(a,i.child,null,b),a.child=dr(a,null,l,b)):ns(i,a,l,b),a.memoizedState=x.state,i=a.child):i=El(i,a,b),i}function Q5(i,a,l,h){return bl(),a.flags|=256,ns(i,a,l,h),a.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(i){return{baseLanes:i,cachePool:mt()}}function Vm(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=va),i}function X5(i,a,l){var h=a.pendingProps,b=!1,x=(a.flags&128)!==0,U;if((U=x)||(U=i!==null&&i.memoizedState===null?!1:(Tn.current&2)!==0),U&&(b=!0,a.flags&=-129),U=(a.flags&32)!==0,a.flags&=-33,i===null){if(vn){if(b?Vr(a):$r(),(i=fr)?(i=iv(i,Sr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:Ys,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},l=zc(i),l.return=a,a.child=l,Ai=a,fr=null)):i=null,i===null)throw jo(a);return _0(i)?a.lanes=32:a.lanes=536870912,null}var it=h.children;return h=h.fallback,b?($r(),b=a.mode,it=ip({mode:"hidden",children:it},b),h=Oo(h,b,l,null),it.return=a,h.return=a,it.sibling=h,a.child=it,h=a.child,h.memoizedState=jm(l),h.childLanes=Vm(i,U,l),a.memoizedState=Mm,xf(null,h)):(Vr(a),Fm(a,it))}var vt=i.memoizedState;if(vt!==null&&(it=vt.dehydrated,it!==null)){if(x)a.flags&256?(Vr(a),a.flags&=-257,a=Bm(i,a,l)):a.memoizedState!==null?($r(),a.child=i.child,a.flags|=128,a=null):($r(),it=h.fallback,b=a.mode,h=ip({mode:"visible",children:h.children},b),it=Oo(it,b,l,null),it.flags|=2,h.return=a,it.return=a,h.sibling=it,a.child=h,dr(a,i.child,null,l),h=a.child,h.memoizedState=jm(l),h.childLanes=Vm(i,U,l),a.memoizedState=Mm,a=xf(null,h));else if(Vr(a),_0(it)){if(U=it.nextSibling&&it.nextSibling.dataset,U)var Pt=U.dgst;U=Pt,h=Error(n(419)),h.stack="",h.digest=U,Zl({value:h,source:null,stack:null}),a=Bm(i,a,l)}else if(hi||Bo(i,a,l,!1),U=(l&i.childLanes)!==0,hi||U){if(U=pr,U!==null&&(h=Ri(U,l),h!==0&&h!==vt.retryLane))throw vt.retryLane=h,lo(i,h),na(U,i,h),Pm;b0(it)||dp(),a=Bm(i,a,l)}else b0(it)?(a.flags|=192,a.child=i.child,a=null):(i=vt.treeContext,fr=za(it.nextSibling),Ai=a,vn=!0,ts=null,Sr=!1,i!==null&&Kd(a,i),a=Fm(a,h.children),a.flags|=4096);return a}return b?($r(),it=h.fallback,b=a.mode,vt=i.child,Pt=vt.sibling,h=Hs(vt,{mode:"hidden",children:h.children}),h.subtreeFlags=vt.subtreeFlags&65011712,Pt!==null?it=Hs(Pt,it):(it=Oo(it,b,l,null),it.flags|=2),it.return=a,h.return=a,h.sibling=it,a.child=h,xf(null,h),h=a.child,it=i.child.memoizedState,it===null?it=jm(l):(b=it.cachePool,b!==null?(vt=jr._currentValue,b=b.parent!==vt?{parent:vt,pool:vt}:b):b=mt(),it={baseLanes:it.baseLanes|l,cachePool:b}),h.memoizedState=it,h.childLanes=Vm(i,U,l),a.memoizedState=Mm,xf(i.child,h)):(Vr(a),l=i.child,i=l.sibling,l=Hs(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(U=a.deletions,U===null?(a.deletions=[i],a.flags|=16):U.push(i)),a.child=l,a.memoizedState=null,l)}function Fm(i,a){return a=ip({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ip(i,a){return i=Vi(22,i,null,a),i.lanes=0,i}function Bm(i,a,l){return dr(a,i.child,null,l),i=Fm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function W5(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Jl(i.return,a,l)}function Um(i,a,l,h,b,x){var U=i.memoizedState;U===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:b,treeForkCount:x}:(U.isBackwards=a,U.rendering=null,U.renderingStartTime=0,U.last=h,U.tail=l,U.tailMode=b,U.treeForkCount=x)}function Z5(i,a,l){var h=a.pendingProps,b=h.revealOrder,x=h.tail;h=h.children;var U=Tn.current,it=(U&2)!==0;if(it?(U=U&1|2,a.flags|=128):U&=1,Q(Tn,U),ns(i,a,h,l),h=vn?Xu:0,!it&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W5(i,l,a);else if(i.tag===19)W5(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(l=a.child,b=null;l!==null;)i=l.alternate,i!==null&&Bi(i)===null&&(b=l),l=l.sibling;l=b,l===null?(b=a.child,a.child=null):(b=l.sibling,l.sibling=null),Um(a,!1,b,l,x,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&Bi(i)===null){a.child=b;break}i=b.sibling,b.sibling=l,l=b,b=i}Um(a,!0,l,null,x,h);break;case"together":Um(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function El(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ou|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Bo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,l=Hs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Hs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function zm(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&$c(i)))}function QA(i,a,l){switch(a.tag){case 3:Tt(a,a.stateNode.containerInfo),Fo(a,jr,i.memoizedState.cache),bl();break;case 27:case 5:Mt(a);break;case 4:Tt(a,a.stateNode.containerInfo);break;case 10:Fo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,zn(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Vr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?X5(i,a,l):(Vr(a),i=El(i,a,l),i!==null?i.sibling:null);Vr(a);break;case 19:var b=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Bo(i,a,l,!1),h=(l&a.childLanes)!==0),b){if(h)return Z5(i,a,l);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Q(Tn,Tn.current),h)break;return null;case 22:return a.lanes=0,H5(i,a,l,a.pendingProps);case 24:Fo(a,jr,i.memoizedState.cache)}return El(i,a,l)}function J5(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)hi=!0;else{if(!zm(i,l)&&(a.flags&128)===0)return hi=!1,QA(i,a,l);hi=(i.flags&131072)!==0}else hi=!1,vn&&(a.flags&1048576)!==0&&Gd(a,Xu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(i=Rt(a.elementType),a.type=i,typeof i=="function")Uc(i)?(h=ec(i,h),a.tag=1,a=Y5(null,a,i,h,l)):(a.tag=0,a=Om(null,a,i,h,l));else{if(i!=null){var b=i.$$typeof;if(b===H){a.tag=11,a=U5(null,a,i,h,l);break t}else if(b===z){a.tag=14,a=z5(null,a,i,h,l);break t}}throw a=$(i)||i,Error(n(306,a,""))}}return a;case 0:return Om(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,b=ec(h,a.pendingProps),Y5(i,a,h,b,l);case 3:t:{if(Tt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var x=a.memoizedState;b=x.element,vr(i,a),Hr(a,h,null,l);var U=a.memoizedState;if(h=U.cache,Fo(a,jr,h),h!==x.cache&&_l(a,[jr],l,!0),or(),h=U.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:U.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Q5(i,a,h,l);break t}else if(h!==b){b=Gs(Error(n(424)),a),Zl(b),a=Q5(i,a,h,l);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fr=za(i.firstChild),Ai=a,vn=!0,ts=null,Sr=!0,l=on(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bl(),h===b){a=El(i,a,l);break t}ns(i,a,h,l)}a=a.child}return a;case 26:return rp(i,a),i===null?(l=cv(a.type,null,a.pendingProps,null))?a.memoizedState=l:vn||(l=a.type,i=a.pendingProps,h=_p(ct.current).createElement(l),h[Mn]=a,h[Yn]=i,rs(h,l,i),yr(h),a.stateNode=h):a.memoizedState=cv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Mt(a),i===null&&vn&&(h=a.stateNode=ov(a.type,a.pendingProps,ct.current),Ai=a,Sr=!0,b=fr,fu(a.type)?(w0=b,fr=za(h.firstChild)):fr=b),ns(i,a,a.pendingProps.children,l),rp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&vn&&((b=h=fr)&&(h=S6(h,a.type,a.pendingProps,Sr),h!==null?(a.stateNode=h,Ai=a,fr=za(h.firstChild),Sr=!1,b=!0):b=!1),b||jo(a)),Mt(a),b=a.type,x=a.pendingProps,U=i!==null?i.memoizedProps:null,h=x.children,g0(b,x)?h=null:U!==null&&g0(b,U)&&(a.flags|=32),a.memoizedState!==null&&(b=df(i,a,Am,null,null,l),jf._currentValue=b),rp(i,a),ns(i,a,h,l),a.child;case 6:return i===null&&vn&&((i=l=fr)&&(l=T6(l,a.pendingProps,Sr),l!==null?(a.stateNode=l,Ai=a,fr=null,i=!0):i=!1),i||jo(a)),null;case 13:return X5(i,a,l);case 4:return Tt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=dr(a,null,h,l):ns(i,a,h,l),a.child;case 11:return U5(i,a,a.type,a.pendingProps,l);case 7:return ns(i,a,a.pendingProps,l),a.child;case 8:return ns(i,a,a.pendingProps.children,l),a.child;case 12:return ns(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Fo(a,a.type,h.value),ns(i,a,h.children,l),a.child;case 9:return b=a.type._context,h=a.pendingProps.children,Uo(a),b=Si(b),h=h(b),a.flags|=1,ns(i,a,h,l),a.child;case 14:return z5(i,a,a.type,a.pendingProps,l);case 15:return q5(i,a,a.type,a.pendingProps,l);case 19:return Z5(i,a,l);case 31:return YA(i,a,l);case 22:return H5(i,a,l,a.pendingProps);case 24:return Uo(a),h=Si(jr),i===null?(b=at(),b===null&&(b=pr,x=tu(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=l),b=x),a.memoizedState={parent:h,cache:b},pe(a),Fo(a,jr,b)):((i.lanes&l)!==0&&(vr(i,a),Hr(a,null,null,l),or()),b=i.memoizedState,x=a.memoizedState,b.parent!==h?(b={parent:h,cache:h},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),Fo(a,jr,h)):(h=x.cache,Fo(a,jr,h),h!==b.cache&&_l(a,[jr],l,!0))),ns(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Sl(i){i.flags|=4}function qm(i,a,l,h,b){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(Ty())i.flags|=8192;else throw zt=At,Dt}else i.flags&=-16777217}function ty(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mv(a))if(Ty())i.flags|=8192;else throw zt=At,Dt}function sp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Br():536870912,i.lanes|=a,lh|=a)}function Af(i,a){if(!vn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function wr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var b=i.child;b!==null;)l|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)l|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function XA(i,a,l){var h=a.pendingProps;switch(Gc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(a),null;case 1:return wr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Xs(jr),Et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ei(a)?Sl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hf())),wr(a),null;case 26:var b=a.type,x=a.memoizedState;return i===null?(Sl(a),x!==null?(wr(a),ty(a,x)):(wr(a),qm(a,b,null,h,l))):x?x!==i.memoizedState?(Sl(a),wr(a),ty(a,x)):(wr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Sl(a),wr(a),qm(a,b,i,h,l)),null;case 27:if($t(a),l=ct.current,b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return wr(a),null}i=W.current,Ei(a)?cf(a):(i=ov(b,h,l),a.stateNode=i,Sl(a))}return wr(a),null;case 5:if($t(a),b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return wr(a),null}if(x=W.current,Ei(a))cf(a);else{var U=_p(ct.current);switch(x){case 1:x=U.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=U.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=U.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?U.createElement("select",{is:h.is}):U.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?U.createElement(b,{is:h.is}):U.createElement(b)}}x[Mn]=a,x[Yn]=h;t:for(U=a.child;U!==null;){if(U.tag===5||U.tag===6)x.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===a)break t;for(;U.sibling===null;){if(U.return===null||U.return===a)break t;U=U.return}U.sibling.return=U.return,U=U.sibling}a.stateNode=x;t:switch(rs(x,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Sl(a)}}return wr(a),qm(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Sl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=ct.current,Ei(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,b=Ai,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[Mn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Xy(i.nodeValue,l)),i||jo(a,!0)}else i=_p(i).createTextNode(h),i[Mn]=a,a.stateNode=i}return wr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Ei(a),l!==null){if(i===null){if(!h)throw Error(n(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Mn]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wr(a),i=!1}else l=hf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Xn(a),a):(Xn(a),null);if((a.flags&128)!==0)throw Error(n(558))}return wr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Ei(a),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Mn]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wr(a),b=!1}else b=hf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Xn(a),a):(Xn(a),null)}return Xn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==b&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),sp(a,a.updateQueue),wr(a),null);case 4:return Et(),i===null&&h0(a.stateNode.containerInfo),wr(a),null;case 10:return Xs(a.type),wr(a),null;case 19:if(O(Tn),h=a.memoizedState,h===null)return wr(a),null;if(b=(a.flags&128)!==0,x=h.rendering,x===null)if(b)Af(h,!1);else{if(Qr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=Bi(i),x!==null){for(a.flags|=128,Af(h,!1),i=x.updateQueue,a.updateQueue=i,sp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Yu(l,i),l=l.sibling;return Q(Tn,Tn.current&1|2),vn&&Ds(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&we()>cp&&(a.flags|=128,b=!0,Af(h,!1),a.lanes=4194304)}else{if(!b)if(i=Bi(x),i!==null){if(a.flags|=128,b=!0,i=i.updateQueue,a.updateQueue=i,sp(a,i),Af(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!vn)return wr(a),null}else 2*we()-h.renderingStartTime>cp&&l!==536870912&&(a.flags|=128,b=!0,Af(h,!1),a.lanes=4194304);h.isBackwards?(x.sibling=a.child,a.child=x):(i=h.last,i!==null?i.sibling=x:a.child=x,h.last=x)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=we(),i.sibling=null,l=Tn.current,Q(Tn,b?l&1|2:l&1),vn&&Ds(a,h.treeForkCount),i):(wr(a),null);case 22:case 23:return Xn(a),ei(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(wr(a),a.subtreeFlags&6&&(a.flags|=8192)):wr(a),l=a.updateQueue,l!==null&&sp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&O(rt),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xs(jr),wr(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function WA(i,a){switch(Gc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Xs(jr),Et(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return $t(a),null;case 31:if(a.memoizedState!==null){if(Xn(a),a.alternate===null)throw Error(n(340));bl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Xn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));bl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return O(Tn),null;case 4:return Et(),null;case 10:return Xs(a.type),null;case 22:case 23:return Xn(a),ei(),i!==null&&O(rt),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Xs(jr),null;case 25:return null;default:return null}}function ey(i,a){switch(Gc(a),a.tag){case 3:Xs(jr),Et();break;case 26:case 27:case 5:$t(a);break;case 4:Et();break;case 31:a.memoizedState!==null&&Xn(a);break;case 13:Xn(a);break;case 19:O(Tn);break;case 10:Xs(a.type);break;case 22:case 23:Xn(a),ei(),i!==null&&O(rt);break;case 24:Xs(jr)}}function Ef(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var b=h.next;l=b;do{if((l.tag&i)===i){h=void 0;var x=l.create,U=l.inst;h=x(),U.destroy=h}l=l.next}while(l!==b)}}catch(it){Zn(a,a.return,it)}}function su(i,a,l){try{var h=a.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var x=b.next;h=x;do{if((h.tag&i)===i){var U=h.inst,it=U.destroy;if(it!==void 0){U.destroy=void 0,b=a;var vt=l,Pt=it;try{Pt()}catch(Gt){Zn(b,vt,Gt)}}}h=h.next}while(h!==x)}}catch(Gt){Zn(a,a.return,Gt)}}function ny(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Gr(a,l)}catch(h){Zn(i,i.return,h)}}}function ry(i,a,l){l.props=ec(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Zn(i,a,h)}}function Sf(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(b){Zn(i,a,b)}}function Ko(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(b){Zn(i,a,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(b){Zn(i,a,b)}else l.current=null}function iy(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(b){Zn(i,i.return,b)}}function Hm(i,a,l){try{var h=i.stateNode;b6(h,i.type,l,a),h[Yn]=a}catch(b){Zn(i,i.return,b)}}function sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fu(i.type)||i.tag===4}function Gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ss));else if(h!==4&&(h===27&&fu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Km(i,a,l),i=i.sibling;i!==null;)Km(i,a,l),i=i.sibling}function ap(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&fu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ap(i,a,l),i=i.sibling;i!==null;)ap(i,a,l),i=i.sibling}function ay(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);rs(a,h,l),a[Mn]=i,a[Yn]=l}catch(x){Zn(i,i.return,x)}}var Tl=!1,fi=!1,$m=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ui=null;function ZA(i,a){if(i=i.containerInfo,p0=Np,i=ao(i),ja(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var b=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var U=0,it=-1,vt=-1,Pt=0,Gt=0,Xt=i,jt=null;e:for(;;){for(var Ut;Xt!==l||b!==0&&Xt.nodeType!==3||(it=U+b),Xt!==x||h!==0&&Xt.nodeType!==3||(vt=U+h),Xt.nodeType===3&&(U+=Xt.nodeValue.length),(Ut=Xt.firstChild)!==null;)jt=Xt,Xt=Ut;for(;;){if(Xt===i)break e;if(jt===l&&++Pt===b&&(it=U),jt===x&&++Gt===h&&(vt=U),(Ut=Xt.nextSibling)!==null)break;Xt=jt,jt=Xt.parentNode}Xt=Ut}l=it===-1||vt===-1?null:{start:it,end:vt}}else l=null}l=l||{start:0,end:0}}else l=null;for(m0={focusedElem:i,selectionRange:l},Np=!1,Ui=a;Ui!==null;)if(a=Ui,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ui=i;else for(;Ui!==null;){switch(a=Ui,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)b=i[l],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,b=x.memoizedProps,x=x.memoizedState,h=l.stateNode;try{var De=ec(l.type,b);i=h.getSnapshotBeforeUpdate(De,x),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){Zn(l,l.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)v0(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":v0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,Ui=i;break}Ui=a.return}}function ly(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Il(i,l),h&4&&Ef(5,l);break;case 1:if(Il(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(U){Zn(l,l.return,U)}else{var b=ec(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(b,a,i.__reactInternalSnapshotBeforeUpdate)}catch(U){Zn(l,l.return,U)}}h&64&&ny(l),h&512&&Sf(l,l.return);break;case 3:if(Il(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Gr(i,a)}catch(U){Zn(l,l.return,U)}}break;case 27:a===null&&h&4&&ay(l);case 26:case 5:Il(i,l),a===null&&h&4&&iy(l),h&512&&Sf(l,l.return);break;case 12:Il(i,l);break;case 31:Il(i,l),h&4&&hy(i,l);break;case 13:Il(i,l),h&4&&fy(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=o6.bind(null,l),N6(i,l))));break;case 22:if(h=l.memoizedState!==null||Tl,!h){a=a!==null&&a.memoizedState!==null||fi,b=Tl;var x=fi;Tl=h,(fi=a)&&!x?Cl(i,l,(l.subtreeFlags&8772)!==0):Il(i,l),Tl=b,fi=x}break;case 30:break;default:Il(i,l)}}function uy(i){var a=i.alternate;a!==null&&(i.alternate=null,uy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&oa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ir=null,Zs=!1;function Nl(i,a,l){for(l=l.child;l!==null;)cy(i,a,l),l=l.sibling}function cy(i,a,l){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Wt,l)}catch{}switch(l.tag){case 26:fi||Ko(l,a),Nl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fi||Ko(l,a);var h=Ir,b=Zs;fu(l.type)&&(Ir=l.stateNode,Zs=!1),Nl(i,a,l),Pf(l.stateNode),Ir=h,Zs=b;break;case 5:fi||Ko(l,a);case 6:if(h=Ir,b=Zs,Ir=null,Nl(i,a,l),Ir=h,Zs=b,Ir!==null)if(Zs)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(l.stateNode)}catch(x){Zn(l,a,x)}else try{Ir.removeChild(l.stateNode)}catch(x){Zn(l,a,x)}break;case 18:Ir!==null&&(Zs?(i=Ir,nv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),gh(i)):nv(Ir,l.stateNode));break;case 4:h=Ir,b=Zs,Ir=l.stateNode.containerInfo,Zs=!0,Nl(i,a,l),Ir=h,Zs=b;break;case 0:case 11:case 14:case 15:su(2,l,a),fi||su(4,l,a),Nl(i,a,l);break;case 1:fi||(Ko(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&ry(l,a,h)),Nl(i,a,l);break;case 21:Nl(i,a,l);break;case 22:fi=(h=fi)||l.memoizedState!==null,Nl(i,a,l),fi=h;break;default:Nl(i,a,l)}}function hy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{gh(i)}catch(l){Zn(a,a.return,l)}}}function fy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{gh(i)}catch(l){Zn(a,a.return,l)}}function JA(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new oy),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new oy),a;default:throw Error(n(435,i.tag))}}function op(i,a){var l=JA(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var b=l6.bind(null,i,h);h.then(b,b)}})}function Js(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var b=l[h],x=i,U=a,it=U;t:for(;it!==null;){switch(it.tag){case 27:if(fu(it.type)){Ir=it.stateNode,Zs=!1;break t}break;case 5:Ir=it.stateNode,Zs=!1;break t;case 3:case 4:Ir=it.stateNode.containerInfo,Zs=!0;break t}it=it.return}if(Ir===null)throw Error(n(160));cy(x,U,b),Ir=null,Zs=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)dy(a,i),a=a.sibling}var mo=null;function dy(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Js(a,i),ta(i),h&4&&(su(3,i,i.return),Ef(3,i),su(5,i,i.return));break;case 1:Js(a,i),ta(i),h&512&&(fi||l===null||Ko(l,l.return)),h&64&&Tl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var b=mo;if(Js(a,i),ta(i),h&512&&(fi||l===null||Ko(l,l.return)),h&4){var x=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,b=b.ownerDocument||b;e:switch(h){case"title":x=b.getElementsByTagName("title")[0],(!x||x[Di]||x[Mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(h),b.head.insertBefore(x,b.querySelector("head > title"))),rs(x,h,l),x[Mn]=i,yr(x),h=x;break t;case"link":var U=dv("link","href",b).get(h+(l.href||""));if(U){for(var it=0;it<U.length;it++)if(x=U[it],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){U.splice(it,1);break e}}x=b.createElement(h),rs(x,h,l),b.head.appendChild(x);break;case"meta":if(U=dv("meta","content",b).get(h+(l.content||""))){for(it=0;it<U.length;it++)if(x=U[it],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){U.splice(it,1);break e}}x=b.createElement(h),rs(x,h,l),b.head.appendChild(x);break;default:throw Error(n(468,h))}x[Mn]=i,yr(x),h=x}i.stateNode=h}else pv(b,i.type,i.stateNode);else i.stateNode=fv(b,h,i.memoizedProps);else x!==h?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,h===null?pv(b,i.type,i.stateNode):fv(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Js(a,i),ta(i),h&512&&(fi||l===null||Ko(l,l.return)),l!==null&&h&4&&Hm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Js(a,i),ta(i),h&512&&(fi||l===null||Ko(l,l.return)),i.flags&32){b=i.stateNode;try{Zr(b,"")}catch(De){Zn(i,i.return,De)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,Hm(i,b,l!==null?l.memoizedProps:b)),h&1024&&($m=!0);break;case 6:if(Js(a,i),ta(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Zn(i,i.return,De)}}break;case 3:if(Ap=null,b=mo,mo=wp(a.containerInfo),Js(a,i),mo=b,ta(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{gh(a.containerInfo)}catch(De){Zn(i,i.return,De)}$m&&($m=!1,py(i));break;case 4:h=mo,mo=wp(i.stateNode.containerInfo),Js(a,i),ta(i),mo=h;break;case 12:Js(a,i),ta(i);break;case 31:Js(a,i),ta(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,op(i,h)));break;case 13:Js(a,i),ta(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(up=we()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,op(i,h)));break;case 22:b=i.memoizedState!==null;var vt=l!==null&&l.memoizedState!==null,Pt=Tl,Gt=fi;if(Tl=Pt||b,fi=Gt||vt,Js(a,i),fi=Gt,Tl=Pt,ta(i),h&8192)t:for(a=i.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(l===null||vt||Tl||fi||nc(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){vt=l=a;try{if(x=vt.stateNode,b)U=x.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{it=vt.stateNode;var Xt=vt.memoizedProps.style,jt=Xt!=null&&Xt.hasOwnProperty("display")?Xt.display:null;it.style.display=jt==null||typeof jt=="boolean"?"":(""+jt).trim()}}catch(De){Zn(vt,vt.return,De)}}}else if(a.tag===6){if(l===null){vt=a;try{vt.stateNode.nodeValue=b?"":vt.memoizedProps}catch(De){Zn(vt,vt.return,De)}}}else if(a.tag===18){if(l===null){vt=a;try{var Ut=vt.stateNode;b?rv(Ut,!0):rv(vt.stateNode,!1)}catch(De){Zn(vt,vt.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,op(i,l))));break;case 19:Js(a,i),ta(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,op(i,h)));break;case 30:break;case 21:break;default:Js(a,i),ta(i)}}function ta(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(sy(h)){l=h;break}h=h.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var b=l.stateNode,x=Gm(i);ap(i,x,b);break;case 5:var U=l.stateNode;l.flags&32&&(Zr(U,""),l.flags&=-33);var it=Gm(i);ap(i,it,U);break;case 3:case 4:var vt=l.stateNode.containerInfo,Pt=Gm(i);Km(i,Pt,vt);break;default:throw Error(n(161))}}catch(Gt){Zn(i,i.return,Gt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function py(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;py(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Il(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ly(i,a.alternate,a),a=a.sibling}function nc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:su(4,a,a.return),nc(a);break;case 1:Ko(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ry(a,a.return,l),nc(a);break;case 27:Pf(a.stateNode);case 26:case 5:Ko(a,a.return),nc(a);break;case 22:a.memoizedState===null&&nc(a);break;case 30:nc(a);break;default:nc(a)}i=i.sibling}}function Cl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,b=i,x=a,U=x.flags;switch(x.tag){case 0:case 11:case 15:Cl(b,x,l),Ef(4,x);break;case 1:if(Cl(b,x,l),h=x,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Pt){Zn(h,h.return,Pt)}if(h=x,b=h.updateQueue,b!==null){var it=h.stateNode;try{var vt=b.shared.hiddenCallbacks;if(vt!==null)for(b.shared.hiddenCallbacks=null,b=0;b<vt.length;b++)Fi(vt[b],it)}catch(Pt){Zn(h,h.return,Pt)}}l&&U&64&&ny(x),Sf(x,x.return);break;case 27:ay(x);case 26:case 5:Cl(b,x,l),l&&h===null&&U&4&&iy(x),Sf(x,x.return);break;case 12:Cl(b,x,l);break;case 31:Cl(b,x,l),l&&U&4&&hy(b,x);break;case 13:Cl(b,x,l),l&&U&4&&fy(b,x);break;case 22:x.memoizedState===null&&Cl(b,x,l),Sf(x,x.return);break;case 30:break;default:Cl(b,x,l)}a=a.sibling}}function Ym(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wu(l))}function Qm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wu(i))}function go(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)my(i,a,l,h),a=a.sibling}function my(i,a,l,h){var b=a.flags;switch(a.tag){case 0:case 11:case 15:go(i,a,l,h),b&2048&&Ef(9,a);break;case 1:go(i,a,l,h);break;case 3:go(i,a,l,h),b&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wu(i)));break;case 12:if(b&2048){go(i,a,l,h),i=a.stateNode;try{var x=a.memoizedProps,U=x.id,it=x.onPostCommit;typeof it=="function"&&it(U,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(vt){Zn(a,a.return,vt)}}else go(i,a,l,h);break;case 31:go(i,a,l,h);break;case 13:go(i,a,l,h);break;case 23:break;case 22:x=a.stateNode,U=a.alternate,a.memoizedState!==null?x._visibility&2?go(i,a,l,h):Tf(i,a):x._visibility&2?go(i,a,l,h):(x._visibility|=2,sh(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),b&2048&&Ym(U,a);break;case 24:go(i,a,l,h),b&2048&&Qm(a.alternate,a);break;default:go(i,a,l,h)}}function sh(i,a,l,h,b){for(b=b&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,U=a,it=l,vt=h,Pt=U.flags;switch(U.tag){case 0:case 11:case 15:sh(x,U,it,vt,b),Ef(8,U);break;case 23:break;case 22:var Gt=U.stateNode;U.memoizedState!==null?Gt._visibility&2?sh(x,U,it,vt,b):Tf(x,U):(Gt._visibility|=2,sh(x,U,it,vt,b)),b&&Pt&2048&&Ym(U.alternate,U);break;case 24:sh(x,U,it,vt,b),b&&Pt&2048&&Qm(U.alternate,U);break;default:sh(x,U,it,vt,b)}a=a.sibling}}function Tf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,b=h.flags;switch(h.tag){case 22:Tf(l,h),b&2048&&Ym(h.alternate,h);break;case 24:Tf(l,h),b&2048&&Qm(h.alternate,h);break;default:Tf(l,h)}a=a.sibling}}var Nf=8192;function ah(i,a,l){if(i.subtreeFlags&Nf)for(i=i.child;i!==null;)gy(i,a,l),i=i.sibling}function gy(i,a,l){switch(i.tag){case 26:ah(i,a,l),i.flags&Nf&&i.memoizedState!==null&&F6(l,mo,i.memoizedState,i.memoizedProps);break;case 5:ah(i,a,l);break;case 3:case 4:var h=mo;mo=wp(i.stateNode.containerInfo),ah(i,a,l),mo=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Nf,Nf=16777216,ah(i,a,l),Nf=h):ah(i,a,l));break;default:ah(i,a,l)}}function yy(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function If(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ui=h,by(h,i)}yy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vy(i),i=i.sibling}function vy(i){switch(i.tag){case 0:case 11:case 15:If(i),i.flags&2048&&su(9,i,i.return);break;case 3:If(i);break;case 12:If(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,lp(i)):If(i);break;default:If(i)}}function lp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ui=h,by(h,i)}yy(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:su(8,a,a.return),lp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,lp(a));break;default:lp(a)}i=i.sibling}}function by(i,a){for(;Ui!==null;){var l=Ui;switch(l.tag){case 0:case 11:case 15:su(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Ui=h;else t:for(l=i;Ui!==null;){h=Ui;var b=h.sibling,x=h.return;if(uy(h),h===l){Ui=null;break t}if(b!==null){b.return=x,Ui=b;break t}Ui=x}}}var t6={getCacheForType:function(i){var a=Si(jr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Si(jr).controller.signal}},e6=typeof WeakMap=="function"?WeakMap:Map,qn=0,pr=null,bn=null,xn=0,Wn=0,ya=null,au=!1,oh=!1,Xm=!1,Rl=0,Qr=0,ou=0,rc=0,Wm=0,va=0,lh=0,Cf=null,ea=null,Zm=!1,up=0,_y=0,cp=1/0,hp=null,lu=null,Ni=0,uu=null,uh=null,Ll=0,Jm=0,t0=null,wy=null,Rf=0,e0=null;function ba(){return(qn&2)!==0&&xn!==0?xn&-xn:P.T!==null?o0():Ur()}function xy(){if(va===0)if((xn&536870912)===0||vn){var i=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),va=i}else va=536870912;return i=_r.current,i!==null&&(i.flags|=32),va}function na(i,a,l){(i===pr&&(Wn===2||Wn===9)||i.cancelPendingCommit!==null)&&(ch(i,0),cu(i,xn,va,!1)),Be(i,l),((qn&2)===0||i!==pr)&&(i===pr&&((qn&2)===0&&(rc|=l),Qr===4&&cu(i,xn,va,!1)),$o(i))}function Ay(i,a,l){if((qn&6)!==0)throw Error(n(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||gr(i,a),b=h?i6(i,a):r0(i,a,!0),x=h;do{if(b===0){oh&&!h&&cu(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!n6(l)){b=r0(i,a,!1),x=!1;continue}if(b===2){if(x=a,i.errorRecoveryDisabledLanes&x)var U=0;else U=i.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){a=U;t:{var it=i;b=Cf;var vt=it.current.memoizedState.isDehydrated;if(vt&&(ch(it,U).flags|=256),U=r0(it,U,!1),U!==2){if(Xm&&!vt){it.errorRecoveryDisabledLanes|=x,rc|=x,b=4;break t}x=ea,ea=b,x!==null&&(ea===null?ea=x:ea.push.apply(ea,x))}b=U}if(x=!1,b!==2)continue}}if(b===1){ch(i,0),cu(i,a,0,!0);break}t:{switch(h=i,x=b,x){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:cu(h,a,va,!au);break t;case 2:ea=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(b=up+300-we(),10<b)){if(cu(h,a,va,!au),Je(h,0,!0)!==0)break t;Ll=a,h.timeoutHandle=tv(Ey.bind(null,h,l,ea,hp,Zm,a,va,rc,lh,au,x,"Throttled",-0,0),b);break t}Ey(h,l,ea,hp,Zm,a,va,rc,lh,au,x,null,-0,0)}}break}while(!0);$o(i)}function Ey(i,a,l,h,b,x,U,it,vt,Pt,Gt,Xt,jt,Ut){if(i.timeoutHandle=-1,Xt=a.subtreeFlags,Xt&8192||(Xt&16785408)===16785408){Xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},gy(a,x,Xt);var De=(x&62914560)===x?up-we():(x&4194048)===x?_y-we():0;if(De=B6(Xt,De),De!==null){Ll=x,i.cancelPendingCommit=De(Dy.bind(null,i,a,x,l,h,b,U,it,vt,Gt,Xt,null,jt,Ut)),cu(i,x,U,!Pt);return}}Dy(i,a,x,l,h,b,U,it,vt)}function n6(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var b=l[h],x=b.getSnapshot;b=b.value;try{if(!wi(x(),b))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cu(i,a,l,h){a&=~Wm,a&=~rc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var b=a;0<b;){var x=31-Qe(b),U=1<<x;h[x]=-1,b&=~U}l!==0&&Hi(i,l,a)}function fp(){return(qn&6)===0?(Lf(0),!1):!0}function n0(){if(bn!==null){if(Wn===0)var i=bn.return;else i=bn,Fa=Vo=null,Zc(i),Zt=null,Pe=0,i=bn;for(;i!==null;)ey(i.alternate,i),i=i.return;bn=null}}function ch(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,x6(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ll=0,n0(),pr=i,bn=l=Hs(i.current,null),xn=a,Wn=0,ya=null,au=!1,oh=gr(i,a),Xm=!1,lh=va=Wm=rc=ou=Qr=0,ea=Cf=null,Zm=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var b=31-Qe(h),x=1<<b;a|=i[b],h&=~x}return Rl=a,Gu(),l}function Sy(i,a){Ge=null,P.H=wf,a===wt||a===dt?(a=Yt(),Wn=3):a===Dt?(a=Yt(),Wn=4):Wn=a===Pm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ya=a,bn===null&&(Qr=1,ep(i,Gs(a,i.current)))}function Ty(){var i=_r.current;return i===null?!0:(xn&4194048)===xn?Cn===null:(xn&62914560)===xn||(xn&536870912)!==0?i===Cn:!1}function Ny(){var i=P.H;return P.H=wf,i===null?wf:i}function Iy(){var i=P.A;return P.A=t6,i}function dp(){Qr=4,au||(xn&4194048)!==xn&&_r.current!==null||(oh=!0),(ou&134217727)===0&&(rc&134217727)===0||pr===null||cu(pr,xn,va,!1)}function r0(i,a,l){var h=qn;qn|=2;var b=Ny(),x=Iy();(pr!==i||xn!==a)&&(hp=null,ch(i,a)),a=!1;var U=Qr;t:do try{if(Wn!==0&&bn!==null){var it=bn,vt=ya;switch(Wn){case 8:n0(),U=6;break t;case 3:case 2:case 9:case 6:_r.current===null&&(a=!0);var Pt=Wn;if(Wn=0,ya=null,hh(i,it,vt,Pt),l&&oh){U=0;break t}break;default:Pt=Wn,Wn=0,ya=null,hh(i,it,vt,Pt)}}r6(),U=Qr;break}catch(Gt){Sy(i,Gt)}while(!0);return a&&i.shellSuspendCounter++,Fa=Vo=null,qn=h,P.H=b,P.A=x,bn===null&&(pr=null,xn=0,Gu()),U}function r6(){for(;bn!==null;)Cy(bn)}function i6(i,a){var l=qn;qn|=2;var h=Ny(),b=Iy();pr!==i||xn!==a?(hp=null,cp=we()+500,ch(i,a)):oh=gr(i,a);t:do try{if(Wn!==0&&bn!==null){a=bn;var x=ya;e:switch(Wn){case 1:Wn=0,ya=null,hh(i,a,x,1);break;case 2:case 9:if(Ct(x)){Wn=0,ya=null,Ry(a);break}a=function(){Wn!==2&&Wn!==9||pr!==i||(Wn=7),$o(i)},x.then(a,a);break t;case 3:Wn=7;break t;case 4:Wn=5;break t;case 7:Ct(x)?(Wn=0,ya=null,Ry(a)):(Wn=0,ya=null,hh(i,a,x,7));break;case 5:var U=null;switch(bn.tag){case 26:U=bn.memoizedState;case 5:case 27:var it=bn;if(U?mv(U):it.stateNode.complete){Wn=0,ya=null;var vt=it.sibling;if(vt!==null)bn=vt;else{var Pt=it.return;Pt!==null?(bn=Pt,pp(Pt)):bn=null}break e}}Wn=0,ya=null,hh(i,a,x,5);break;case 6:Wn=0,ya=null,hh(i,a,x,6);break;case 8:n0(),Qr=6;break t;default:throw Error(n(462))}}s6();break}catch(Gt){Sy(i,Gt)}while(!0);return Fa=Vo=null,P.H=h,P.A=b,qn=l,bn!==null?0:(pr=null,xn=0,Gu(),Qr)}function s6(){for(;bn!==null&&!Ae();)Cy(bn)}function Cy(i){var a=J5(i.alternate,i,Rl);i.memoizedProps=i.pendingProps,a===null?pp(i):bn=a}function Ry(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=$5(l,a,a.pendingProps,a.type,void 0,xn);break;case 11:a=$5(l,a,a.pendingProps,a.type.render,a.ref,xn);break;case 5:Zc(a);default:ey(l,a),a=bn=Yu(a,Rl),a=J5(l,a,Rl)}i.memoizedProps=i.pendingProps,a===null?pp(i):bn=a}function hh(i,a,l,h){Fa=Vo=null,Zc(a),Zt=null,Pe=0;var b=a.return;try{if($A(i,b,a,l,xn)){Qr=1,ep(i,Gs(l,i.current)),bn=null;return}}catch(x){if(b!==null)throw bn=b,x;Qr=1,ep(i,Gs(l,i.current)),bn=null;return}a.flags&32768?(vn||h===1?i=!0:oh||(xn&536870912)!==0?i=!1:(au=i=!0,(h===2||h===9||h===3||h===6)&&(h=_r.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ly(a,i)):pp(a)}function pp(i){var a=i;do{if((a.flags&32768)!==0){Ly(a,au);return}i=a.return;var l=XA(a.alternate,a,Rl);if(l!==null){bn=l;return}if(a=a.sibling,a!==null){bn=a;return}bn=a=i}while(a!==null);Qr===0&&(Qr=5)}function Ly(i,a){do{var l=WA(i.alternate,i);if(l!==null){l.flags&=32767,bn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){bn=i;return}bn=i=l}while(i!==null);Qr=6,bn=null}function Dy(i,a,l,h,b,x,U,it,vt){i.cancelPendingCommit=null;do mp();while(Ni!==0);if((qn&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(x=a.lanes|a.childLanes,x|=Vc,aa(i,l,x,U,it,vt),i===pr&&(bn=pr=null,xn=0),uh=a,uu=i,Ll=l,Jm=x,t0=b,wy=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u6(Ft,function(){return jy(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=P.T,P.T=null,b=B.p,B.p=2,U=qn,qn|=4;try{ZA(i,a,l)}finally{qn=U,B.p=b,P.T=h}}Ni=1,ky(),Py(),Oy()}}function ky(){if(Ni===1){Ni=0;var i=uu,a=uh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var h=B.p;B.p=2;var b=qn;qn|=4;try{dy(a,i);var x=m0,U=ao(i.containerInfo),it=x.focusedElem,vt=x.selectionRange;if(U!==it&&it&&it.ownerDocument&&so(it.ownerDocument.documentElement,it)){if(vt!==null&&ja(it)){var Pt=vt.start,Gt=vt.end;if(Gt===void 0&&(Gt=Pt),"selectionStart"in it)it.selectionStart=Pt,it.selectionEnd=Math.min(Gt,it.value.length);else{var Xt=it.ownerDocument||document,jt=Xt&&Xt.defaultView||window;if(jt.getSelection){var Ut=jt.getSelection(),De=it.textContent.length,Ze=Math.min(vt.start,De),cr=vt.end===void 0?Ze:Math.min(vt.end,De);!Ut.extend&&Ze>cr&&(U=cr,cr=Ze,Ze=U);var Nt=Yl(it,Ze),xt=Yl(it,cr);if(Nt&&xt&&(Ut.rangeCount!==1||Ut.anchorNode!==Nt.node||Ut.anchorOffset!==Nt.offset||Ut.focusNode!==xt.node||Ut.focusOffset!==xt.offset)){var kt=Xt.createRange();kt.setStart(Nt.node,Nt.offset),Ut.removeAllRanges(),Ze>cr?(Ut.addRange(kt),Ut.extend(xt.node,xt.offset)):(kt.setEnd(xt.node,xt.offset),Ut.addRange(kt))}}}}for(Xt=[],Ut=it;Ut=Ut.parentNode;)Ut.nodeType===1&&Xt.push({element:Ut,left:Ut.scrollLeft,top:Ut.scrollTop});for(typeof it.focus=="function"&&it.focus(),it=0;it<Xt.length;it++){var Qt=Xt[it];Qt.element.scrollLeft=Qt.left,Qt.element.scrollTop=Qt.top}}Np=!!p0,m0=p0=null}finally{qn=b,B.p=h,P.T=l}}i.current=a,Ni=2}}function Py(){if(Ni===2){Ni=0;var i=uu,a=uh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var h=B.p;B.p=2;var b=qn;qn|=4;try{ly(i,a.alternate,a)}finally{qn=b,B.p=h,P.T=l}}Ni=3}}function Oy(){if(Ni===4||Ni===3){Ni=0,de();var i=uu,a=uh,l=Ll,h=wy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ni=5:(Ni=0,uh=uu=null,My(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(lu=null),rr(l),a=a.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Wt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=P.T,b=B.p,B.p=2,P.T=null;try{for(var x=i.onRecoverableError,U=0;U<h.length;U++){var it=h[U];x(it.value,{componentStack:it.stack})}}finally{P.T=a,B.p=b}}(Ll&3)!==0&&mp(),$o(i),b=i.pendingLanes,(l&261930)!==0&&(b&42)!==0?i===e0?Rf++:(Rf=0,e0=i):Rf=0,Lf(0)}}function My(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Wu(a)))}function mp(){return ky(),Py(),Oy(),jy()}function jy(){if(Ni!==5)return!1;var i=uu,a=Jm;Jm=0;var l=rr(Ll),h=P.T,b=B.p;try{B.p=32>l?32:l,P.T=null,l=t0,t0=null;var x=uu,U=Ll;if(Ni=0,uh=uu=null,Ll=0,(qn&6)!==0)throw Error(n(331));var it=qn;if(qn|=4,vy(x.current),my(x,x.current,U,l),qn=it,Lf(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Wt,x)}catch{}return!0}finally{B.p=b,P.T=h,My(i,a)}}function Vy(i,a,l){a=Gs(l,a),a=km(i.stateNode,a,2),i=cn(i,a,2),i!==null&&(Be(i,2),$o(i))}function Zn(i,a,l){if(i.tag===3)Vy(i,i,l);else for(;a!==null;){if(a.tag===3){Vy(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(lu===null||!lu.has(h))){i=Gs(l,i),l=F5(2),h=cn(a,l,2),h!==null&&(B5(l,h,a,i),Be(h,2),$o(h));break}}a=a.return}}function i0(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new e6;var b=new Set;h.set(a,b)}else b=h.get(a),b===void 0&&(b=new Set,h.set(a,b));b.has(l)||(Xm=!0,b.add(l),i=a6.bind(null,i,a,l),a.then(i,i))}function a6(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,pr===i&&(xn&l)===l&&(Qr===4||Qr===3&&(xn&62914560)===xn&&300>we()-up?(qn&2)===0&&ch(i,0):Wm|=l,lh===xn&&(lh=0)),$o(i)}function Fy(i,a){a===0&&(a=Br()),i=lo(i,a),i!==null&&(Be(i,a),$o(i))}function o6(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Fy(i,l)}function l6(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(l=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),Fy(i,l)}function u6(i,a){return ue(i,a)}var gp=null,fh=null,s0=!1,yp=!1,a0=!1,hu=0;function $o(i){i!==fh&&i.next===null&&(fh===null?gp=fh=i:fh=fh.next=i),yp=!0,s0||(s0=!0,h6())}function Lf(i,a){if(!a0&&yp){a0=!0;do for(var l=!1,h=gp;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var x=0;else{var U=h.suspendedLanes,it=h.pingedLanes;x=(1<<31-Qe(42|i)+1)-1,x&=b&~(U&~it),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,qy(h,x))}else x=xn,x=Je(h,h===pr?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||gr(h,x)||(l=!0,qy(h,x));h=h.next}while(l);a0=!1}}function c6(){By()}function By(){yp=s0=!1;var i=0;hu!==0&&w6()&&(i=hu);for(var a=we(),l=null,h=gp;h!==null;){var b=h.next,x=Uy(h,a);x===0?(h.next=null,l===null?gp=b:l.next=b,b===null&&(fh=l)):(l=h,(i!==0||(x&3)!==0)&&(yp=!0)),h=b}Ni!==0&&Ni!==5||Lf(i),hu!==0&&(hu=0)}function Uy(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var U=31-Qe(x),it=1<<U,vt=b[U];vt===-1?((it&l)===0||(it&h)!==0)&&(b[U]=Dr(it,a)):vt<=a&&(i.expiredLanes|=it),x&=~it}if(a=pr,l=xn,l=Je(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Wn===2||Wn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&se(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||gr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&se(h),rr(l)){case 2:case 8:l=Vt;break;case 32:l=Ft;break;case 268435456:l=ce;break;default:l=Ft}return h=zy.bind(null,i),l=ue(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&se(h),i.callbackPriority=2,i.callbackNode=null,2}function zy(i,a){if(Ni!==0&&Ni!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(mp()&&i.callbackNode!==l)return null;var h=xn;return h=Je(i,i===pr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Ay(i,h,a),Uy(i,we()),i.callbackNode!=null&&i.callbackNode===l?zy.bind(null,i):null)}function qy(i,a){if(mp())return null;Ay(i,a,!0)}function h6(){A6(function(){(qn&6)!==0?ue(ne,c6):By()})}function o0(){if(hu===0){var i=m;i===0&&(i=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),hu=i}return hu}function Hy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pi(""+i)}function Gy(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function f6(i,a,l,h,b){if(a==="submit"&&l&&l.stateNode===b){var x=Hy((b[Yn]||null).action),U=h.submitter;U&&(a=(a=U[Yn]||null)?Hy(a.formAction):U.getAttribute("formAction"),a!==null&&(x=a,U=null));var it=new li("action","action",null,h,b);i.push({event:it,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(hu!==0){var vt=U?Gy(b,U):new FormData(b);Nm(l,{pending:!0,data:vt,method:b.method,action:x},null,vt)}}else typeof x=="function"&&(it.preventDefault(),vt=U?Gy(b,U):new FormData(b),Nm(l,{pending:!0,data:vt,method:b.method,action:x},x,vt))},currentTarget:b}]})}}for(var l0=0;l0<gl.length;l0++){var u0=gl[l0],d6=u0.toLowerCase(),p6=u0[0].toUpperCase()+u0.slice(1);qs(d6,"on"+p6)}qs(ml,"onAnimationEnd"),qs(qu,"onAnimationIteration"),qs(af,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(zd,"onTransitionRun"),qs(qd,"onTransitionStart"),qs(Hd,"onTransitionCancel"),qs(of,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Df));function Ky(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],b=h.event;h=h.listeners;t:{var x=void 0;if(a)for(var U=h.length-1;0<=U;U--){var it=h[U],vt=it.instance,Pt=it.currentTarget;if(it=it.listener,vt!==x&&b.isPropagationStopped())break t;x=it,b.currentTarget=Pt;try{x(b)}catch(Gt){Hu(Gt)}b.currentTarget=null,x=vt}else for(U=0;U<h.length;U++){if(it=h[U],vt=it.instance,Pt=it.currentTarget,it=it.listener,vt!==x&&b.isPropagationStopped())break t;x=it,b.currentTarget=Pt;try{x(b)}catch(Gt){Hu(Gt)}b.currentTarget=null,x=vt}}}}function _n(i,a){var l=a[Li];l===void 0&&(l=a[Li]=new Set);var h=i+"__bubble";l.has(h)||($y(a,i,2,!1),l.add(h))}function c0(i,a,l){var h=0;a&&(h|=4),$y(l,i,h,a)}var vp="_reactListening"+Math.random().toString(36).slice(2);function h0(i){if(!i[vp]){i[vp]=!0,To.forEach(function(l){l!=="selectionchange"&&(m6.has(l)||c0(l,!1,i),c0(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[vp]||(a[vp]=!0,c0("selectionchange",!1,a))}}function $y(i,a,l,h){switch(xv(a)){case 2:var b=q6;break;case 8:b=H6;break;default:b=T0}l=b.bind(null,a,l,i),b=void 0,!Za||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(a,l,{capture:!0,passive:b}):i.addEventListener(a,l,!0):b!==void 0?i.addEventListener(a,l,{passive:b}):i.addEventListener(a,l,!1)}function f0(i,a,l,h,b){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var U=h.tag;if(U===3||U===4){var it=h.stateNode.containerInfo;if(it===b)break;if(U===4)for(U=h.return;U!==null;){var vt=U.tag;if((vt===3||vt===4)&&U.stateNode.containerInfo===b)return;U=U.return}for(;it!==null;){if(U=Gi(it),U===null)return;if(vt=U.tag,vt===5||vt===6||vt===26||vt===27){h=x=U;continue t}it=it.parentNode}}h=h.return}Ca(function(){var Pt=x,Gt=Oi(l),Xt=[];t:{var jt=lf.get(i);if(jt!==void 0){var Ut=li,De=i;switch(i){case"keypress":if(Qi(l)===0)break t;case"keydown":case"keyup":Ut=gn;break;case"focusin":De="focus",Ut=Ns;break;case"focusout":De="blur",Ut=Ns;break;case"beforeblur":case"afterblur":Ut=Ns;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=Us;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=R;break;case ml:case qu:case af:Ut=A;break;case of:Ut=ot;break;case"scroll":case"scrollend":Ut=Ra;break;case"wheel":Ut=Ot;break;case"copy":case"cut":case"paste":Ut=pt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=Kn;break;case"toggle":case"beforetoggle":Ut=tn}var Ze=(a&4)!==0,cr=!Ze&&(i==="scroll"||i==="scrollend"),Nt=Ze?jt!==null?jt+"Capture":null:jt;Ze=[];for(var xt=Pt,kt;xt!==null;){var Qt=xt;if(kt=Qt.stateNode,Qt=Qt.tag,Qt!==5&&Qt!==26&&Qt!==27||kt===null||Nt===null||(Qt=Jr(xt,Nt),Qt!=null&&Ze.push(kf(xt,Qt,kt))),cr)break;xt=xt.return}0<Ze.length&&(jt=new Ut(jt,De,null,l,Gt),Xt.push({event:jt,listeners:Ze}))}}if((a&7)===0){t:{if(jt=i==="mouseover"||i==="pointerover",Ut=i==="mouseout"||i==="pointerout",jt&&l!==ha&&(De=l.relatedTarget||l.fromElement)&&(Gi(De)||De[zr]))break t;if((Ut||jt)&&(jt=Gt.window===Gt?Gt:(jt=Gt.ownerDocument)?jt.defaultView||jt.parentWindow:window,Ut?(De=l.relatedTarget||l.toElement,Ut=Pt,De=De?Gi(De):null,De!==null&&(cr=o(De),Ze=De.tag,De!==cr||Ze!==5&&Ze!==27&&Ze!==6)&&(De=null)):(Ut=null,De=Pt),Ut!==De)){if(Ze=Do,Qt="onMouseLeave",Nt="onMouseEnter",xt="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=Kn,Qt="onPointerLeave",Nt="onPointerEnter",xt="pointer"),cr=Ut==null?jt:Ki(Ut),kt=De==null?jt:Ki(De),jt=new Ze(Qt,xt+"leave",Ut,l,Gt),jt.target=cr,jt.relatedTarget=kt,Qt=null,Gi(Gt)===Pt&&(Ze=new Ze(Nt,xt+"enter",De,l,Gt),Ze.target=kt,Ze.relatedTarget=cr,Qt=Ze),cr=Qt,Ut&&De)e:{for(Ze=g6,Nt=Ut,xt=De,kt=0,Qt=Nt;Qt;Qt=Ze(Qt))kt++;Qt=0;for(var Ye=xt;Ye;Ye=Ze(Ye))Qt++;for(;0<kt-Qt;)Nt=Ze(Nt),kt--;for(;0<Qt-kt;)xt=Ze(xt),Qt--;for(;kt--;){if(Nt===xt||xt!==null&&Nt===xt.alternate){Ze=Nt;break e}Nt=Ze(Nt),xt=Ze(xt)}Ze=null}else Ze=null;Ut!==null&&Yy(Xt,jt,Ut,Ze,!1),De!==null&&cr!==null&&Yy(Xt,cr,De,Ze,!0)}}t:{if(jt=Pt?Ki(Pt):window,Ut=jt.nodeName&&jt.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&jt.type==="file")var Fn=Po;else if(Uu(jt))if(hs)Fn=Oa;else{Fn=Or;var Ve=Kl}else Ut=jt.nodeName,!Ut||Ut.toLowerCase()!=="input"||jt.type!=="checkbox"&&jt.type!=="radio"?Pt&&Co(Pt.elementType)&&(Fn=Po):Fn=jc;if(Fn&&(Fn=Fn(i,Pt))){Cs(Xt,Fn,l,Gt);break t}Ve&&Ve(i,jt,Pt),i==="focusout"&&Pt&&jt.type==="number"&&Pt.memoizedProps.value!=null&&ll(jt,"number",jt.value)}switch(Ve=Pt?Ki(Pt):window,i){case"focusin":(Uu(Ve)||Ve.contentEditable==="true")&&(Rs=Ve,oo=Pt,Mi=null);break;case"focusout":Mi=oo=Rs=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,kn(Xt,l,Gt);break;case"selectionchange":if(pl)break;case"keydown":case"keyup":kn(Xt,l,Gt)}var hn;if(fn)t:{switch(i){case"compositionstart":var An="onCompositionStart";break t;case"compositionend":An="onCompositionEnd";break t;case"compositionupdate":An="onCompositionUpdate";break t}An=void 0}else Da?Is(i,l)&&(An="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(An="onCompositionStart");An&&(bi&&l.locale!=="ko"&&(Da||An!=="onCompositionStart"?An==="onCompositionEnd"&&Da&&(hn=fl()):(Yi=Gt,Ja="value"in Yi?Yi.value:Yi.textContent,Da=!0)),Ve=bp(Pt,An),0<Ve.length&&(An=new St(An,i,null,l,Gt),Xt.push({event:An,listeners:Ve}),hn?An.data=hn:(hn=La(l),hn!==null&&(An.data=hn)))),(hn=ui?Zi(i,l):eo(i,l))&&(An=bp(Pt,"onBeforeInput"),0<An.length&&(Ve=new St("onBeforeInput","beforeinput",null,l,Gt),Xt.push({event:Ve,listeners:An}),Ve.data=hn)),f6(Xt,i,Pt,l,Gt)}Ky(Xt,a)})}function kf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function bp(i,a){for(var l=a+"Capture",h=[];i!==null;){var b=i,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Jr(i,l),b!=null&&h.unshift(kf(i,b,x)),b=Jr(i,a),b!=null&&h.push(kf(i,b,x))),i.tag===3)return h;i=i.return}return[]}function g6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Yy(i,a,l,h,b){for(var x=a._reactName,U=[];l!==null&&l!==h;){var it=l,vt=it.alternate,Pt=it.stateNode;if(it=it.tag,vt!==null&&vt===h)break;it!==5&&it!==26&&it!==27||Pt===null||(vt=Pt,b?(Pt=Jr(l,x),Pt!=null&&U.unshift(kf(l,Pt,vt))):b||(Pt=Jr(l,x),Pt!=null&&U.push(kf(l,Pt,vt)))),l=l.return}U.length!==0&&i.push({event:a,listeners:U})}var y6=/\r\n?/g,v6=/\u0000|\uFFFD/g;function Qy(i){return(typeof i=="string"?i:""+i).replace(y6,`
`).replace(v6,"")}function Xy(i,a){return a=Qy(a),Qy(i)===a}function ur(i,a,l,h,b,x){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Zr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Zr(i,""+h);break;case"className":oi(i,"class",h);break;case"tabIndex":oi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(i,l,h);break;case"style":hl(i,h,x);break;case"data":if(a!=="object"){oi(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Pi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ur(i,a,"name",b.name,b,null),ur(i,a,"formEncType",b.formEncType,b,null),ur(i,a,"formMethod",b.formMethod,b,null),ur(i,a,"formTarget",b.formTarget,b,null)):(ur(i,a,"encType",b.encType,b,null),ur(i,a,"method",b.method,b,null),ur(i,a,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Pi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ss);break;case"onScroll":h!=null&&_n("scroll",i);break;case"onScrollEnd":h!=null&&_n("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Pi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":_n("beforetoggle",i),_n("toggle",i),$i(i,"popover",h);break;case"xlinkActuate":Ar(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ar(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ar(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ar(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ar(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ar(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ar(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ar(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ar(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$i(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ro.get(l)||l,$i(i,l,h))}}function d0(i,a,l,h,b,x){switch(l){case"style":hl(i,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(l=h.__html,l!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Zr(i,h):(typeof h=="number"||typeof h=="bigint")&&Zr(i,""+h);break;case"onScroll":h!=null&&_n("scroll",i);break;case"onScrollEnd":h!=null&&_n("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(b=l.endsWith("Capture"),a=l.slice(2,b?l.length-7:void 0),x=i[Yn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,b),typeof h=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,b);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):$i(i,l,h)}}}function rs(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",i),_n("load",i);var h=!1,b=!1,x;for(x in l)if(l.hasOwnProperty(x)){var U=l[x];if(U!=null)switch(x){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ur(i,a,x,U,l,null)}}b&&ur(i,a,"srcSet",l.srcSet,l,null),h&&ur(i,a,"src",l.src,l,null);return;case"input":_n("invalid",i);var it=x=U=b=null,vt=null,Pt=null;for(h in l)if(l.hasOwnProperty(h)){var Gt=l[h];if(Gt!=null)switch(h){case"name":b=Gt;break;case"type":U=Gt;break;case"checked":vt=Gt;break;case"defaultChecked":Pt=Gt;break;case"value":x=Gt;break;case"defaultValue":it=Gt;break;case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(n(137,a));break;default:ur(i,a,h,Gt,l,null)}}ql(i,x,it,vt,Pt,U,b,!1);return;case"select":_n("invalid",i),h=U=x=null;for(b in l)if(l.hasOwnProperty(b)&&(it=l[b],it!=null))switch(b){case"value":x=it;break;case"defaultValue":U=it;break;case"multiple":h=it;default:ur(i,a,b,it,l,null)}a=x,l=U,i.multiple=!!h,a!=null?vi(i,!!h,a,!1):l!=null&&vi(i,!!h,l,!0);return;case"textarea":_n("invalid",i),x=b=h=null;for(U in l)if(l.hasOwnProperty(U)&&(it=l[U],it!=null))switch(U){case"value":h=it;break;case"defaultValue":b=it;break;case"children":x=it;break;case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(91));break;default:ur(i,a,U,it,l,null)}ua(i,h,b,x);return;case"option":for(vt in l)if(l.hasOwnProperty(vt)&&(h=l[vt],h!=null))switch(vt){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ur(i,a,vt,h,l,null)}return;case"dialog":_n("beforetoggle",i),_n("toggle",i),_n("cancel",i),_n("close",i);break;case"iframe":case"object":_n("load",i);break;case"video":case"audio":for(h=0;h<Df.length;h++)_n(Df[h],i);break;case"image":_n("error",i),_n("load",i);break;case"details":_n("toggle",i);break;case"embed":case"source":case"link":_n("error",i),_n("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in l)if(l.hasOwnProperty(Pt)&&(h=l[Pt],h!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ur(i,a,Pt,h,l,null)}return;default:if(Co(a)){for(Gt in l)l.hasOwnProperty(Gt)&&(h=l[Gt],h!==void 0&&d0(i,a,Gt,h,l,void 0));return}}for(it in l)l.hasOwnProperty(it)&&(h=l[it],h!=null&&ur(i,a,it,h,l,null))}function b6(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,U=null,it=null,vt=null,Pt=null,Gt=null;for(Ut in l){var Xt=l[Ut];if(l.hasOwnProperty(Ut)&&Xt!=null)switch(Ut){case"checked":break;case"value":break;case"defaultValue":vt=Xt;default:h.hasOwnProperty(Ut)||ur(i,a,Ut,null,h,Xt)}}for(var jt in h){var Ut=h[jt];if(Xt=l[jt],h.hasOwnProperty(jt)&&(Ut!=null||Xt!=null))switch(jt){case"type":x=Ut;break;case"name":b=Ut;break;case"checked":Pt=Ut;break;case"defaultChecked":Gt=Ut;break;case"value":U=Ut;break;case"defaultValue":it=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(n(137,a));break;default:Ut!==Xt&&ur(i,a,jt,Ut,h,Xt)}}Xa(i,U,it,vt,Pt,Gt,x,b);return;case"select":Ut=U=it=jt=null;for(x in l)if(vt=l[x],l.hasOwnProperty(x)&&vt!=null)switch(x){case"value":break;case"multiple":Ut=vt;default:h.hasOwnProperty(x)||ur(i,a,x,null,h,vt)}for(b in h)if(x=h[b],vt=l[b],h.hasOwnProperty(b)&&(x!=null||vt!=null))switch(b){case"value":jt=x;break;case"defaultValue":it=x;break;case"multiple":U=x;default:x!==vt&&ur(i,a,b,x,h,vt)}a=it,l=U,h=Ut,jt!=null?vi(i,!!l,jt,!1):!!h!=!!l&&(a!=null?vi(i,!!l,a,!0):vi(i,!!l,l?[]:"",!1));return;case"textarea":Ut=jt=null;for(it in l)if(b=l[it],l.hasOwnProperty(it)&&b!=null&&!h.hasOwnProperty(it))switch(it){case"value":break;case"children":break;default:ur(i,a,it,null,h,b)}for(U in h)if(b=h[U],x=l[U],h.hasOwnProperty(U)&&(b!=null||x!=null))switch(U){case"value":jt=b;break;case"defaultValue":Ut=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==x&&ur(i,a,U,b,h,x)}ul(i,jt,Ut);return;case"option":for(var De in l)if(jt=l[De],l.hasOwnProperty(De)&&jt!=null&&!h.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ur(i,a,De,null,h,jt)}for(vt in h)if(jt=h[vt],Ut=l[vt],h.hasOwnProperty(vt)&&jt!==Ut&&(jt!=null||Ut!=null))switch(vt){case"selected":i.selected=jt&&typeof jt!="function"&&typeof jt!="symbol";break;default:ur(i,a,vt,jt,h,Ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in l)jt=l[Ze],l.hasOwnProperty(Ze)&&jt!=null&&!h.hasOwnProperty(Ze)&&ur(i,a,Ze,null,h,jt);for(Pt in h)if(jt=h[Pt],Ut=l[Pt],h.hasOwnProperty(Pt)&&jt!==Ut&&(jt!=null||Ut!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(n(137,a));break;default:ur(i,a,Pt,jt,h,Ut)}return;default:if(Co(a)){for(var cr in l)jt=l[cr],l.hasOwnProperty(cr)&&jt!==void 0&&!h.hasOwnProperty(cr)&&d0(i,a,cr,void 0,h,jt);for(Gt in h)jt=h[Gt],Ut=l[Gt],!h.hasOwnProperty(Gt)||jt===Ut||jt===void 0&&Ut===void 0||d0(i,a,Gt,jt,h,Ut);return}}for(var Nt in l)jt=l[Nt],l.hasOwnProperty(Nt)&&jt!=null&&!h.hasOwnProperty(Nt)&&ur(i,a,Nt,null,h,jt);for(Xt in h)jt=h[Xt],Ut=l[Xt],!h.hasOwnProperty(Xt)||jt===Ut||jt==null&&Ut==null||ur(i,a,Xt,jt,h,Ut)}function Wy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var b=l[h],x=b.transferSize,U=b.initiatorType,it=b.duration;if(x&&it&&Wy(U)){for(U=0,it=b.responseEnd,h+=1;h<l.length;h++){var vt=l[h],Pt=vt.startTime;if(Pt>it)break;var Gt=vt.transferSize,Xt=vt.initiatorType;Gt&&Wy(Xt)&&(vt=vt.responseEnd,U+=Gt*(vt<it?1:(it-Pt)/(vt-Pt)))}if(--h,a+=8*(x+U)/(b.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var p0=null,m0=null;function _p(i){return i.nodeType===9?i:i.ownerDocument}function Zy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function g0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var y0=null;function w6(){var i=window.event;return i&&i.type==="popstate"?i===y0?!1:(y0=i,!0):(y0=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,x6=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,A6=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(i){return ev.resolve(null).then(i).catch(E6)}:tv;function E6(i){setTimeout(function(){throw i})}function fu(i){return i==="head"}function nv(i,a){var l=a,h=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(b),gh(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Pf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Pf(l);for(var x=l.firstChild;x;){var U=x.nextSibling,it=x.nodeName;x[Di]||it==="SCRIPT"||it==="STYLE"||it==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=U}}else l==="body"&&Pf(i.ownerDocument.body);l=b}while(l);gh(a)}function rv(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function v0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":v0(l),oa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function S6(i,a,l,h){for(;i.nodeType===1;){var b=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Di])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=za(i.nextSibling),i===null)break}return null}function T6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=za(i.nextSibling),i===null))return null;return i}function iv(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=za(i.nextSibling),i===null))return null;return i}function b0(i){return i.data==="$?"||i.data==="$~"}function _0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function N6(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function za(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var w0=null;function sv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return za(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function av(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function ov(i,a,l){switch(a=_p(l),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Pf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);oa(i)}var qa=new Map,lv=new Set;function wp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Dl=B.d;B.d={f:I6,r:C6,D:R6,C:L6,L:D6,m:k6,X:O6,S:P6,M:M6};function I6(){var i=Dl.f(),a=fp();return i||a}function C6(i){var a=yi(i);a!==null&&a.tag===5&&a.type==="form"?S5(a):Dl.r(i)}var dh=typeof document>"u"?null:document;function uv(i,a,l){var h=dh;if(h&&typeof a=="string"&&a){var b=Er(a);b='link[rel="'+i+'"][href="'+b+'"]',typeof l=="string"&&(b+='[crossorigin="'+l+'"]'),lv.has(b)||(lv.add(b),i={rel:i,crossOrigin:l,href:a},h.querySelector(b)===null&&(a=h.createElement("link"),rs(a,"link",i),yr(a),h.head.appendChild(a)))}}function R6(i){Dl.D(i),uv("dns-prefetch",i,null)}function L6(i,a){Dl.C(i,a),uv("preconnect",i,a)}function D6(i,a,l){Dl.L(i,a,l);var h=dh;if(h&&i&&a){var b='link[rel="preload"][as="'+Er(a)+'"]';a==="image"&&l&&l.imageSrcSet?(b+='[imagesrcset="'+Er(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(b+='[imagesizes="'+Er(l.imageSizes)+'"]')):b+='[href="'+Er(i)+'"]';var x=b;switch(a){case"style":x=ph(i);break;case"script":x=mh(i)}qa.has(x)||(i=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),qa.set(x,i),h.querySelector(b)!==null||a==="style"&&h.querySelector(Of(x))||a==="script"&&h.querySelector(Mf(x))||(a=h.createElement("link"),rs(a,"link",i),yr(a),h.head.appendChild(a)))}}function k6(i,a){Dl.m(i,a);var l=dh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+Er(h)+'"][href="'+Er(i)+'"]',x=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=mh(i)}if(!qa.has(x)&&(i=v({rel:"modulepreload",href:i},a),qa.set(x,i),l.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mf(x)))return}h=l.createElement("link"),rs(h,"link",i),yr(h),l.head.appendChild(h)}}}function P6(i,a,l){Dl.S(i,a,l);var h=dh;if(h&&i){var b=os(h).hoistableStyles,x=ph(i);a=a||"default";var U=b.get(x);if(!U){var it={loading:0,preload:null};if(U=h.querySelector(Of(x)))it.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":a},l),(l=qa.get(x))&&x0(i,l);var vt=U=h.createElement("link");yr(vt),rs(vt,"link",i),vt._p=new Promise(function(Pt,Gt){vt.onload=Pt,vt.onerror=Gt}),vt.addEventListener("load",function(){it.loading|=1}),vt.addEventListener("error",function(){it.loading|=2}),it.loading|=4,xp(U,a,h)}U={type:"stylesheet",instance:U,count:1,state:it},b.set(x,U)}}}function O6(i,a){Dl.X(i,a);var l=dh;if(l&&i){var h=os(l).hoistableScripts,b=mh(i),x=h.get(b);x||(x=l.querySelector(Mf(b)),x||(i=v({src:i,async:!0},a),(a=qa.get(b))&&A0(i,a),x=l.createElement("script"),yr(x),rs(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(b,x))}}function M6(i,a){Dl.M(i,a);var l=dh;if(l&&i){var h=os(l).hoistableScripts,b=mh(i),x=h.get(b);x||(x=l.querySelector(Mf(b)),x||(i=v({src:i,async:!0,type:"module"},a),(a=qa.get(b))&&A0(i,a),x=l.createElement("script"),yr(x),rs(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(b,x))}}function cv(i,a,l,h){var b=(b=ct.current)?wp(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ph(l.href),l=os(b).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ph(l.href);var x=os(b).hoistableStyles,U=x.get(i);if(U||(b=b.ownerDocument||b,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,U),(x=b.querySelector(Of(i)))&&!x._p&&(U.instance=x,U.state.loading=5),qa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qa.set(i,l),x||j6(b,i,l,U.state))),a&&h===null)throw Error(n(528,""));return U}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=mh(l),l=os(b).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ph(i){return'href="'+Er(i)+'"'}function Of(i){return'link[rel="stylesheet"]['+i+"]"}function hv(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function j6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),rs(a,"link",l),yr(a),i.head.appendChild(a))}function mh(i){return'[src="'+Er(i)+'"]'}function Mf(i){return"script[async]"+i}function fv(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Er(l.href)+'"]');if(h)return a.instance=h,yr(h),h;var b=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),yr(h),rs(h,"style",b),xp(h,l.precedence,i),a.instance=h;case"stylesheet":b=ph(l.href);var x=i.querySelector(Of(b));if(x)return a.state.loading|=4,a.instance=x,yr(x),x;h=hv(l),(b=qa.get(b))&&x0(h,b),x=(i.ownerDocument||i).createElement("link"),yr(x);var U=x;return U._p=new Promise(function(it,vt){U.onload=it,U.onerror=vt}),rs(x,"link",h),a.state.loading|=4,xp(x,l.precedence,i),a.instance=x;case"script":return x=mh(l.src),(b=i.querySelector(Mf(x)))?(a.instance=b,yr(b),b):(h=l,(b=qa.get(x))&&(h=v({},l),A0(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),yr(b),rs(b,"link",h),i.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,xp(h,l.precedence,i));return a.instance}function xp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,x=b,U=0;U<h.length;U++){var it=h[U];if(it.dataset.precedence===a)x=it;else if(x!==b)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function x0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function A0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ap=null;function dv(i,a,l){if(Ap===null){var h=new Map,b=Ap=new Map;b.set(l,h)}else b=Ap,h=b.get(l),h||(h=new Map,b.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),b=0;b<l.length;b++){var x=l[b];if(!(x[Di]||x[Mn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var U=x.getAttribute(a)||"";U=i+U;var it=h.get(U);it?it.push(x):h.set(U,[x])}}return h}function pv(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function V6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function F6(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ph(h.href),x=a.querySelector(Of(b));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Ep.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=x,yr(x);return}x=a.ownerDocument||a,h=hv(h),(b=qa.get(b))&&x0(h,b),x=x.createElement("link"),yr(x);var U=x;U._p=new Promise(function(it,vt){U.onload=it,U.onerror=vt}),rs(x,"link",h),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Ep.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var E0=0;function B6(i,a){return i.stylesheets&&i.count===0&&Tp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Tp(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&E0===0&&(E0=62500*_6());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Tp(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>E0?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function Ep(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sp=null;function Tp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sp=new Map,a.forEach(U6,i),Sp=null,Ep.call(i))}function U6(i,a){if(!(a.state.loading&4)){var l=Sp.get(i);if(l)var h=l.get(null);else{l=new Map,Sp.set(i,l);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var U=b[x];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(l.set(U.dataset.precedence,U),h=U)}h&&l.set(null,h)}b=a.instance,U=b.getAttribute("data-precedence"),x=l.get(U)||h,x===h&&l.set(null,b),l.set(U,b),this.count++,h=Ep.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),x?x.parentNode.insertBefore(b,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),a.state.loading|=4}}var jf={$$typeof:K,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function z6(i,a,l,h,b,x,U,it,vt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=vt,this.incompleteTransitions=new Map}function gv(i,a,l,h,b,x,U,it,vt,Pt,Gt,Xt){return i=new z6(i,a,l,U,vt,Pt,Gt,Xt,it),a=1,x===!0&&(a|=24),x=Vi(3,null,null,a),i.current=x,x.stateNode=i,a=tu(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:h,isDehydrated:l,cache:a},pe(x),i}function yv(i){return i?(i=xi,i):xi}function vv(i,a,l,h,b,x){b=yv(b),h.context===null?h.context=b:h.pendingContext=b,h=We(a),h.payload={element:l},x=x===void 0?null:x,x!==null&&(h.callback=x),l=cn(i,h,a),l!==null&&(na(l,i,a),Un(l,i,a))}function bv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function S0(i,a){bv(i,a),(i=i.alternate)&&bv(i,a)}function _v(i){if(i.tag===13||i.tag===31){var a=lo(i,67108864);a!==null&&na(a,i,67108864),S0(i,67108864)}}function wv(i){if(i.tag===13||i.tag===31){var a=ba();a=Gn(a);var l=lo(i,a);l!==null&&na(l,i,a),S0(i,a)}}var Np=!0;function q6(i,a,l,h){var b=P.T;P.T=null;var x=B.p;try{B.p=2,T0(i,a,l,h)}finally{B.p=x,P.T=b}}function H6(i,a,l,h){var b=P.T;P.T=null;var x=B.p;try{B.p=8,T0(i,a,l,h)}finally{B.p=x,P.T=b}}function T0(i,a,l,h){if(Np){var b=N0(h);if(b===null)f0(i,a,h,Ip,l),Av(i,h);else if(K6(b,i,a,l,h))h.stopPropagation();else if(Av(i,h),a&4&&-1<G6.indexOf(i)){for(;b!==null;){var x=yi(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var U=Ee(x.pendingLanes);if(U!==0){var it=x;for(it.pendingLanes|=2,it.entangledLanes|=2;U;){var vt=1<<31-Qe(U);it.entanglements[1]|=vt,U&=~vt}$o(x),(qn&6)===0&&(cp=we()+500,Lf(0))}}break;case 31:case 13:it=lo(x,2),it!==null&&na(it,x,2),fp(),S0(x,2)}if(x=N0(h),x===null&&f0(i,a,h,Ip,l),x===b)break;b=x}b!==null&&h.stopPropagation()}else f0(i,a,h,null,l)}}function N0(i){return i=Oi(i),I0(i)}var Ip=null;function I0(i){if(Ip=null,i=Gi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ip=i,null}function xv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case ne:return 2;case Vt:return 8;case Ft:case ie:return 32;case ce:return 268435456;default:return 32}default:return 32}}var C0=!1,du=null,pu=null,mu=null,Vf=new Map,Ff=new Map,gu=[],G6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(i,a){switch(i){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":Vf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(a.pointerId)}}function Bf(i,a,l,h,b,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:x,targetContainers:[b]},a!==null&&(a=yi(a),a!==null&&_v(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function K6(i,a,l,h,b){switch(a){case"focusin":return du=Bf(du,i,a,l,h,b),!0;case"dragenter":return pu=Bf(pu,i,a,l,h,b),!0;case"mouseover":return mu=Bf(mu,i,a,l,h,b),!0;case"pointerover":var x=b.pointerId;return Vf.set(x,Bf(Vf.get(x)||null,i,a,l,h,b)),!0;case"gotpointercapture":return x=b.pointerId,Ff.set(x,Bf(Ff.get(x)||null,i,a,l,h,b)),!0}return!1}function Ev(i){var a=Gi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,gi(i.priority,function(){wv(l)});return}}else if(a===31){if(a=c(l),a!==null){i.blockedOn=a,gi(i.priority,function(){wv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=N0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ha=h,l.target.dispatchEvent(h),ha=null}else return a=yi(l),a!==null&&_v(a),i.blockedOn=l,!1;a.shift()}return!0}function Sv(i,a,l){Cp(i)&&l.delete(a)}function $6(){C0=!1,du!==null&&Cp(du)&&(du=null),pu!==null&&Cp(pu)&&(pu=null),mu!==null&&Cp(mu)&&(mu=null),Vf.forEach(Sv),Ff.forEach(Sv)}function Rp(i,a){i.blockedOn===a&&(i.blockedOn=null,C0||(C0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$6)))}var Lp=null;function Tv(i){Lp!==i&&(Lp=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lp===i&&(Lp=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],b=i[a+2];if(typeof h!="function"){if(I0(h||l)===null)continue;break}var x=yi(l);x!==null&&(i.splice(a,3),a-=3,Nm(x,{pending:!0,data:b,method:l.method,action:h},h,b))}}))}function gh(i){function a(vt){return Rp(vt,i)}du!==null&&Rp(du,i),pu!==null&&Rp(pu,i),mu!==null&&Rp(mu,i),Vf.forEach(a),Ff.forEach(a);for(var l=0;l<gu.length;l++){var h=gu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<gu.length&&(l=gu[0],l.blockedOn===null);)Ev(l),l.blockedOn===null&&gu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var b=l[h],x=l[h+1],U=b[Yn]||null;if(typeof x=="function")U||Tv(l);else if(U){var it=null;if(x&&x.hasAttribute("formAction")){if(b=x,U=x[Yn]||null)it=U.formAction;else if(I0(b)!==null)continue}else it=U.action;typeof it=="function"?l[h+1]=it:(l.splice(h,3),h-=3),Tv(l)}}}function Nv(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(U){return b=U})},focusReset:"manual",scroll:"manual"})}function a(){b!==null&&(b(),b=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),b!==null&&(b(),b=null)}}}function R0(i){this._internalRoot=i}Dp.prototype.render=R0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var l=a.current,h=ba();vv(l,h,i,a,null,null)},Dp.prototype.unmount=R0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;vv(i.current,2,null,i,null,null),fp(),a[zr]=null}};function Dp(i){this._internalRoot=i}Dp.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ur();i={blockedOn:null,target:i,priority:a};for(var l=0;l<gu.length&&a!==0&&a<gu[l].priority;l++);gu.splice(l,0,i),l===0&&Ev(i)}};var Iv=t.version;if(Iv!=="19.2.3")throw Error(n(527,Iv,"19.2.3"));B.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Y6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{Wt=kp.inject(Y6),ye=kp}catch{}}return zf.createRoot=function(i,a){if(!s(i))throw Error(n(299));var l=!1,h="",b=O5,x=M5,U=j5;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(U=a.onRecoverableError)),a=gv(i,1,!1,null,null,l,h,null,b,x,U,Nv),i[zr]=a.current,h0(i),new R0(a)},zf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(n(299));var h=!1,b="",x=O5,U=M5,it=j5,vt=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(it=l.onRecoverableError),l.formState!==void 0&&(vt=l.formState)),a=gv(i,1,!0,a,l??null,h,b,vt,x,U,it,Nv),a.context=yv(null),l=a.current,h=ba(),h=Gn(h),b=We(h),b.callback=null,cn(l,b,h),l=h,a.current.lanes=l,Be(a,l),$o(a),i[zr]=a.current,h0(i),new Dp(a)},zf.version="19.2.3",zf}var Vv;function aE(){if(Vv)return k0.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),k0.exports=sE(),k0.exports}var oE=aE();const lE=Hw(oE),Fv={:{label:"",desc:"   ",color:"text-blue-600",icon:"fa-search",bg:"bg-blue-100"},:{label:"",desc:"    ",color:"text-orange-600",icon:"fa-phone-alt",bg:"bg-orange-100"},:{label:"()",desc:"   ",color:"text-purple-600",icon:"fa-calendar-check",bg:"bg-purple-100"},:{label:"",desc:"     ",color:"text-green-600",icon:"fa-handshake",bg:"bg-green-100"},:{label:"",desc:"  ",color:"text-gray-600",icon:"fa-check-circle",bg:"bg-gray-100"}},Bv=["","","",""],uE=({customers:r,onSelect:t,onAddClick:e,onDelete:n,onToggleFavorite:s,onMenuClick:o})=>{const[u,c]=Re.useState({}),[f,d]=Re.useState(""),p=(D,M)=>{c(k=>({...k,[D]:M}))},v=(D,M)=>{D.preventDefault(),s(M)},w=(D,M)=>{const k=M.toLowerCase();return D.filter(G=>G.name.toLowerCase().includes(k)||G.contact.includes(k)).sort((G,K)=>{if(G.isFavorite&&!K.isFavorite)return-1;if(!G.isFavorite&&K.isFavorite)return 1;const H=G.registrationDate?new Date(G.registrationDate).getTime():0,ut=K.registrationDate?new Date(K.registrationDate).getTime():0;return H!==ut?ut-H:G.name.localeCompare(K.name)})},y=(D,M)=>{const k=w(M,u[D]||"");return F.jsxs("div",{className:"h-full flex flex-col bg-white",children:[F.jsx("div",{className:"p-3 border-b shrink-0",children:F.jsxs("div",{className:"relative",children:[F.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-gray-50 border border-gray-200 rounded-lg py-2 pl-3 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:u[D]||"",onChange:G=>p(D,G.target.value)}),u[D]&&F.jsx("button",{onClick:()=>p(D,""),className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 transition-colors",children:F.jsx("i",{className:"fas fa-times-circle text-sm"})}),F.jsx("i",{className:"fas fa-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"})]})}),F.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[k.map(G=>F.jsxs("div",{onClick:()=>t(G),onContextMenu:K=>v(K,G.id),className:"bg-white border rounded-lg p-4 cursor-pointer shadow-sm active:scale-95 transition-transform",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[G.isFavorite&&F.jsx("i",{className:"fas fa-star text-yellow-400 text-sm"}),F.jsx("h3",{className:"font-bold text-base text-gray-800",children:G.name})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[G.contact&&F.jsx("a",{href:`sms:${G.contact.replace(/\D/g,"")}`,onClick:K=>K.stopPropagation(),className:"text-blue-600 hover:text-blue-800 p-2 transition-colors font-bold",title:"  ",children:F.jsx("i",{className:"fas fa-comments text-sm"})}),F.jsx("button",{onClick:K=>n(G.id,K),className:"text-red-600 hover:text-red-800 p-2 transition-colors font-bold",children:F.jsx("i",{className:"fas fa-trash-alt text-sm"})})]})]}),G.contact&&F.jsx("p",{className:"text-sm text-gray-600",children:G.contact})]},G.id)),k.length===0&&F.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[F.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:F.jsx("i",{className:"fas fa-user text-gray-300 text-2xl"})}),F.jsx("p",{className:"text-gray-400 text-sm",children:" "})]})]})]})},C=(D,M,k,G,K,H=!1)=>F.jsxs("div",{className:"flex-1 min-w-0 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full mr-4 last:mr-0",children:[F.jsx("div",{className:"p-3 border-b-2 border-gray-300",children:F.jsxs("div",{className:"flex justify-between items-start",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("div",{className:`w-8 h-8 rounded-lg ${G.bg} flex items-center justify-center`,children:F.jsx("i",{className:`fas ${G.icon} ${G.color} text-sm`})}),F.jsxs("div",{children:[F.jsx("h2",{className:"font-bold text-gray-800 text-sm leading-tight",children:D}),F.jsx("p",{className:"text-gray-400 text-[10px] mt-0.5",children:M})]})]}),F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx("span",{className:"text-lg font-bold text-gray-800",children:k.length}),F.jsx("span",{className:"text-[10px] text-gray-400 ml-1",children:""})]}),H&&F.jsx("button",{onClick:e,className:"w-6 h-6 rounded-full bg-gray-50 hover:bg-gray-100 flex items-center justify-center text-gray-600 transition-colors",children:F.jsx("i",{className:"fas fa-plus text-xs"})})]})]})}),F.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 custom-scrollbar",children:[k.map((ut,Z)=>F.jsxs("div",{onClick:()=>t(ut),onContextMenu:z=>v(z,ut.id),className:`bg-white border rounded-lg px-3 py-2 cursor-pointer transition-all shadow-sm group relative flex justify-between items-center ${ut.isFavorite?"border-yellow-300 ring-1 ring-yellow-100":"border-gray-200 hover:border-blue-400"}`,children:[F.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[ut.isFavorite&&F.jsx("i",{className:"fas fa-star text-yellow-400 text-[10px]"}),F.jsx("h3",{className:"font-bold text-sm text-gray-700 truncate",children:ut.name})]}),F.jsxs("div",{className:"flex gap-1 ml-2 shrink-0",children:[ut.contact&&F.jsx("a",{href:`sms:${ut.contact.replace(/\D/g,"")}`,onClick:z=>z.stopPropagation(),className:"text-blue-600 hover:text-blue-800 p-1 transition-colors font-bold",title:"  ",children:F.jsx("i",{className:"fas fa-comments text-xs"})}),F.jsx("button",{onClick:z=>n(ut.id,z),className:"text-red-600 hover:text-red-800 p-1 transition-colors font-bold",children:F.jsx("i",{className:"fas fa-trash-alt text-xs"})})]})]},ut.id)),k.length===0&&F.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:[F.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center mb-1",children:F.jsx("i",{className:"fas fa-user text-gray-300 text-xs"})}),F.jsx("p",{className:"text-gray-400 text-xs",children:" "}),H&&F.jsx("button",{onClick:e,className:"mt-2 text-xs bg-primary text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors shadow-sm",children:""})]})]})]});return F.jsxs("div",{className:"flex flex-col w-full h-full bg-gray-100 overflow-hidden",children:[F.jsxs("div",{className:"bg-white border-b p-3 flex items-center gap-3 shadow-sm shrink-0 md:hidden",children:[F.jsx("button",{onClick:o,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 text-gray-700 transition-colors","aria-label":" ",children:F.jsx("i",{className:"fas fa-bars text-lg"})}),F.jsx("h1",{className:"flex-1 text-lg font-bold text-gray-800",children:" "}),F.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary text-white shadow-lg hover:bg-blue-600 transition-colors","aria-label":" ",children:F.jsx("i",{className:"fas fa-plus"})})]}),F.jsx("div",{className:"md:hidden bg-white border-b shrink-0 overflow-x-auto",children:F.jsx("div",{className:"flex p-2 gap-2 min-w-max",children:Bv.map(D=>{const M=Fv[D],k=r.filter(K=>(K.stage||"")===D).length,G=f===D;return F.jsxs("button",{onClick:()=>{d(D)},className:`flex-shrink-0 px-2 py-2 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${G?"bg-primary text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[M.label," (",k,")"]},D)})})}),F.jsx("div",{className:"flex-1 overflow-hidden md:hidden",children:y(f,r.filter(D=>(D.stage||"")===f))}),F.jsx("div",{className:"hidden md:flex md:flex-col w-full h-full",children:F.jsx("div",{className:"flex-1 overflow-x-auto p-3",children:F.jsx("div",{className:"flex h-full",children:Bv.map(D=>{const M=Fv[D],k=r.filter(K=>(K.stage||"")===D),G=w(k,u[D]||"");return F.jsx(h2.Fragment,{children:C(M.label,M.desc,G,M,D,D==="")},D)})})})})]})},Gw=()=>Math.random().toString(36).substr(2,9);function cE(r){if(!r)return!1;const t=r.replace(/\D/g,"");return t.length>=10&&t.length<=11}function hE(r){return r.replace(/\D/g,"")}function fE(r){return`sms:${hE(r)}`}function Kw(r){const t=r.replace(/\D/g,"");if(!t)return r;if(t.length<10)return t;const e=t.slice(0,11);if(!e.startsWith("0"))return e;if(e.startsWith("02")){if(e.length===10)return`${e.slice(0,2)}-${e.slice(2,6)}-${e.slice(6)}`;if(e.length===11)return`${e.slice(0,2)}-${e.slice(2,6)}-${e.slice(6)}`}else if(e.match(/^0(3[1-3]|4[1-2]|5[0-5]|6)\d/)){if(e.length===10)return`${e.slice(0,3)}-${e.slice(3,7)}-${e.slice(7)}`;if(e.length===11)return`${e.slice(0,3)}-${e.slice(3,7)}-${e.slice(7)}`}else if(e.match(/^01[0-9]/)){if(e.length===11)return`${e.slice(0,3)}-${e.slice(3,7)}-${e.slice(7)}`;if(e.length===10)return`${e.slice(0,3)}-${e.slice(3,6)}-${e.slice(6)}`}return e}const dE=["","","","",""],pE=["","","",""],mE=({customer:r,onUpdate:t})=>{var ft;const[e,n]=Re.useState(""),[s,o]=Re.useState(null),[u,c]=Re.useState(""),[f,d]=Re.useState(null),[p,v]=Re.useState(""),[w,y]=Re.useState(null),[C,D]=Re.useState("VIEW"),[M,k]=Re.useState(""),[G,K]=Re.useState(null);Re.useEffect(()=>{K(r)},[r.id]);const H=G||r,ut=(P,B)=>{d(P),v(B)},Z=P=>{const B={[P]:p};P==="rentPrice"&&(B.priceType=p?"rent":"sale");const tt={...H,...B};K(tt),t(tt),d(null)},z=P=>{const B={...H,stage:P.target.value};K(B),t(B)},S=P=>{const B=P.target.value,tt={checkpoint:B};B&&(tt.stage="");const st={...H,...tt};K(st),t(st)},E=P=>{if(P.preventDefault(),!e.trim())return;const B={id:Gw(),text:e,createdAt:Date.now(),memo:""},tt={...H,checklists:[B,...H.checklists]};K(tt),t(tt),n("")},V=P=>{if(!window.confirm("?"))return;const B={...H,checklists:H.checklists.filter(tt=>tt.id!==P)};K(B),t(B)},T=P=>{o(P.id),c(P.text)},I=()=>{if(s){const P={...H,checklists:H.checklists.map(B=>B.id===s?{...B,text:u}:B)};K(P),t(P),o(null)}},L=P=>{y(P),k(P.memo),D(P.memo?"VIEW":"EDIT")},$=()=>{if(w){const P={...H,checklists:H.checklists.map(B=>B.id===w.id?{...B,memo:M}:B)};K(P),t(P),D("VIEW")}};return F.jsxs("div",{className:"flex flex-col h-full bg-white",children:[F.jsxs("div",{className:"border-b border-gray-200",children:[F.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50",children:F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("span",{className:"font-bold text-gray-700",children:" "}),F.jsxs("div",{className:"flex items-center bg-white rounded px-2 py-1 border border-gray-200",children:[F.jsx("span",{className:"text-gray-500 text-xs mr-2 font-bold",children:""}),F.jsx("select",{value:H.stage||"",onChange:z,onClick:P=>P.stopPropagation(),className:"bg-transparent text-sm font-bold text-primary outline-none cursor-pointer",children:dE.map(P=>F.jsx("option",{value:P,children:P},P))})]}),F.jsxs("div",{className:"flex items-center bg-white rounded px-2 py-1 border border-gray-200",children:[F.jsx("span",{className:"text-gray-500 text-xs mr-2 font-bold",children:""}),F.jsxs("select",{value:H.checkpoint||"",onChange:S,onClick:P=>P.stopPropagation(),className:"bg-transparent text-sm font-bold text-purple-600 outline-none cursor-pointer",children:[F.jsx("option",{value:"",children:""}),pE.map(P=>F.jsx("option",{value:P,children:P},P))]})]})]})}),F.jsx("div",{className:"p-4 bg-white space-y-3 text-sm",children:F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("name",H.name),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:":"}),f==="name"?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border border-primary px-1 py-0.5 outline-none",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("name"),onKeyDown:P=>P.key==="Enter"&&Z("name")}):F.jsx("span",{className:"text-gray-800 font-bold group-hover:bg-yellow-100",children:H.name})]}),F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("contact",H.contact),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:":"}),f==="contact"?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border border-primary px-1 py-0.5 outline-none",value:p,onChange:P=>v(Kw(P.target.value)),onBlur:()=>Z("contact"),onKeyDown:P=>P.key==="Enter"&&Z("contact")}):F.jsx("a",{href:`sms:${(ft=H.contact)==null?void 0:ft.replace(/\D/g,"")}`,className:"text-blue-600 font-semibold hover:text-blue-800 hover:underline group-hover:bg-yellow-100",title:"  ",children:H.contact})]}),F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("moveInDate",H.moveInDate),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:":"}),f==="moveInDate"?F.jsx("input",{autoFocus:!0,type:"date",className:"flex-1 border border-primary px-1 py-0.5 outline-none text-xs",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("moveInDate"),onKeyDown:P=>P.key==="Enter"&&Z("moveInDate")}):F.jsx("span",{className:"text-gray-800 font-bold group-hover:bg-yellow-100",children:H.moveInDate||"-"})]}),F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("price",H.price),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:"/:"}),f==="price"?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border border-primary px-1 py-0.5 outline-none",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("price"),onKeyDown:P=>P.key==="Enter"&&Z("price")}):F.jsx("span",{className:"text-gray-800 font-bold group-hover:bg-yellow-100",children:H.price||"-"})]}),F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("rentPrice",H.rentPrice),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:":"}),f==="rentPrice"?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border border-primary px-1 py-0.5 outline-none",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("rentPrice"),onKeyDown:P=>P.key==="Enter"&&Z("rentPrice")}):F.jsx("span",{className:"text-gray-800 font-bold group-hover:bg-yellow-100",children:H.rentPrice||"-"})]}),F.jsxs("div",{className:"flex items-center gap-1.5 group cursor-pointer",onDoubleClick:()=>ut("registrationDate",H.registrationDate),children:[F.jsx("span",{className:"text-gray-800 font-bold",children:":"}),f==="registrationDate"?F.jsx("input",{autoFocus:!0,type:"date",className:"flex-1 border border-primary px-1 py-0.5 outline-none text-xs",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("registrationDate"),onKeyDown:P=>P.key==="Enter"&&Z("registrationDate")}):F.jsx("span",{className:"text-gray-800 font-bold group-hover:bg-yellow-100",children:H.registrationDate||"-"})]}),F.jsx("div",{className:"col-span-1 md:col-span-3 mt-2 group cursor-pointer",onDoubleClick:()=>ut("memo",H.memo),children:f==="memo"?F.jsx("textarea",{autoFocus:!0,rows:9,className:"w-full border border-primary rounded px-2 py-1 outline-none resize-none",value:p,onChange:P=>v(P.target.value),onBlur:()=>Z("memo")}):F.jsx("div",{className:"bg-gray-50 p-2 rounded border border-gray-200 text-xs text-gray-700 h-42 overflow-y-auto group-hover:bg-yellow-50 whitespace-pre-wrap",children:H.memo||"-"})})]})})]}),F.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col p-4 bg-gray-50",children:[F.jsxs("h3",{className:"font-bold text-gray-700 mb-3 flex items-center",children:[F.jsx("i",{className:"fas fa-history mr-2 text-primary"}),""]}),F.jsxs("form",{onSubmit:E,className:"flex gap-2 mb-4",children:[F.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:" ...",value:e,onChange:P=>n(P.target.value)}),F.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-blue-600 transition",children:""})]}),F.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:[H.checklists.map(P=>F.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 group",children:[F.jsxs("div",{className:"flex justify-between items-start mb-2",children:[F.jsx("div",{className:"flex-1 mr-2",onDoubleClick:()=>T(P),children:s===P.id?F.jsx("input",{autoFocus:!0,className:"w-full border-b-2 border-primary outline-none",value:u,onChange:B=>c(B.target.value),onBlur:I,onKeyDown:B=>B.key==="Enter"&&I()}):F.jsx("span",{className:"text-gray-800 font-medium cursor-pointer",title:" ",children:P.text})}),F.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[F.jsx("button",{onClick:()=>L(P),className:"text-gray-400 hover:text-blue-500",children:F.jsx("i",{className:"fas fa-sticky-note"})}),F.jsx("button",{onClick:()=>V(P.id),className:"text-gray-400 hover:text-red-500",children:F.jsx("i",{className:"fas fa-trash-alt"})})]})]}),F.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[F.jsx("span",{children:new Date(P.createdAt).toLocaleString()}),P.memo&&F.jsx("span",{onClick:()=>L(P),className:"text-green-600 font-medium truncate max-w-xs ml-2 cursor-pointer hover:text-green-700 hover:underline",children:P.memo.split(`
`)[0]})]})]},P.id)),H.checklists.length===0&&F.jsx("div",{className:"text-center text-gray-400 py-10",children:"  ."})]})]}),w&&F.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black bg-opacity-50",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-xl",children:[F.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[F.jsx("h4",{className:"font-bold",children:" "}),F.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600",children:F.jsx("i",{className:"fas fa-times"})})]}),F.jsx("div",{className:"p-4",children:C==="VIEW"?F.jsx("div",{className:"min-h-[120px] whitespace-pre-wrap text-gray-700",children:M||F.jsx("span",{className:"text-gray-400 italic",children:" ."})}):F.jsx("textarea",{className:"w-full h-40 border p-2 rounded resize-none focus:ring-1 focus:ring-primary outline-none",value:M,onChange:P=>k(P.target.value),placeholder:" ..."})}),F.jsx("div",{className:"p-4 border-t flex justify-end gap-2 bg-gray-50 rounded-b-lg",children:C==="VIEW"?F.jsx("button",{onClick:()=>D("EDIT"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""}):F.jsx("button",{onClick:$,className:"px-4 py-2 bg-primary text-white rounded hover:bg-blue-600",children:""})})]})})]})},gE=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},yE=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[e++];t[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[e++],u=r[e++],c=r[e++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(f>>10)),t[n++]=String.fromCharCode(56320+(f&1023))}else{const o=r[e++],u=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},Yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],u=s+1<r.length,c=u?r[s+1]:0,f=s+2<r.length,d=f?r[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let w=(c&15)<<2|d>>6,y=d&63;f||(y=64,u||(w=64)),n.push(e[p],e[v],e[w],e[y])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($w(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yE(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=e[r.charAt(s++)],c=s<r.length?e[r.charAt(s)]:0;++s;const d=s<r.length?e[r.charAt(s)]:64;++s;const v=s<r.length?e[r.charAt(s)]:64;if(++s,o==null||c==null||d==null||v==null)throw new vE;const w=o<<2|c>>4;if(n.push(w),d!==64){const y=c<<4&240|d>>2;if(n.push(y),v!==64){const C=d<<6&192|v;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bE=function(r){const t=$w(r);return Yw.encodeByteArray(t,!0)},v1=function(r){return bE(r).replace(/\./g,"")},_E=function(r){try{return Yw.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=()=>Qw().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_E(r[1]);return t&&JSON.parse(t)},f2=()=>{try{return gE()||wE()||xE()||AE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},EE=r=>{var t,e;return(e=(t=f2())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},Xw=r=>{const t=EE(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},Ww=()=>{var r;return(r=f2())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zw(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[v1(JSON.stringify(e)),v1(JSON.stringify(u)),""].join(".")}const nd={};function TE(){const r={prod:[],emulator:[]};for(const t of Object.keys(nd))nd[t]?r.emulator.push(t):r.prod.push(t);return r}function NE(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let zv=!1;function t4(r,t){if(typeof window>"u"||typeof document>"u"||!Y1(window.location.host)||nd[r]===t||nd[r]||zv)return;nd[r]=t;function e(w){return`__firebase__banner__${w}`}const n="__firebase__banner",o=TE().prod.length>0;function u(){const w=document.getElementById(n);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,y){w.setAttribute("width","24"),w.setAttribute("id",y),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zv=!0,u()},w}function p(w,y){w.setAttribute("id",y),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=NE(n),y=e("text"),C=document.getElementById(y)||document.createElement("span"),D=e("learnmore"),M=document.getElementById(D)||document.createElement("a"),k=e("preprendIcon"),G=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;c(K),p(M,D);const H=d();f(G,k),K.append(G,C,M,H),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e4(){var t;const r=(t=f2())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){return!e4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r4(){return!e4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function i4(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)==null?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FirebaseError";class Dc extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=CE,Object.setPrototypeOf(this,Dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s4.prototype.create)}}class s4{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?RE(o,n):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new Dc(s,c,n)}}function RE(r,t){return r.replace(LE,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const LE=/\{\$([^}]+)}/g;function _1(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const o=r[s],u=t[s];if(qv(o)&&qv(u)){if(!_1(o,u))return!1}else if(o!==u)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function qv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){return r&&r._delegate?r._delegate:r}class Bh{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new SE;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PE(t))try{this.getOrInitializeService({instanceIdentifier:sc})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(t=sc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sc){return this.instances.has(t)}getOptions(t=sc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&u.resolve(s)}return s}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&t(o,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:kE(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=sc){return this.component?this.component.multipleInstances?t:sc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kE(r){return r===sc?void 0:r}function PE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new DE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dn||(Dn={}));const ME={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},jE=Dn.INFO,VE={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},FE=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=VE[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class a4{constructor(t){this.name=t,this._logLevel=jE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ME[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...t),this._logHandler(this,Dn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...t),this._logHandler(this,Dn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...t),this._logHandler(this,Dn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...t),this._logHandler(this,Dn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...t),this._logHandler(this,Dn.ERROR,...t)}}const BE=(r,t)=>t.some(e=>r instanceof e);let Hv,Gv;function UE(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o4=new WeakMap,bg=new WeakMap,l4=new WeakMap,j0=new WeakMap,d2=new WeakMap;function qE(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{e(Tu(r.result)),s()},u=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&o4.set(e,r)}).catch(()=>{}),d2.set(t,r),t}function HE(r){if(bg.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});bg.set(r,t)}let _g={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return bg.get(r);if(t==="objectStoreNames")return r.objectStoreNames||l4.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tu(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GE(r){_g=r(_g)}function KE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(V0(this),t,...e);return l4.set(n,t.sort?t.sort():[t]),Tu(n)}:zE().includes(r)?function(...t){return r.apply(V0(this),t),Tu(o4.get(this))}:function(...t){return Tu(r.apply(V0(this),t))}}function $E(r){return typeof r=="function"?KE(r):(r instanceof IDBTransaction&&HE(r),BE(r,UE())?new Proxy(r,_g):r)}function Tu(r){if(r instanceof IDBRequest)return qE(r);if(j0.has(r))return j0.get(r);const t=$E(r);return t!==r&&(j0.set(r,t),d2.set(t,r)),t}const V0=r=>d2.get(r);function YE(r,t,{blocked:e,upgrade:n,blocking:s,terminated:o}={}){const u=indexedDB.open(r,t),c=Tu(u);return n&&u.addEventListener("upgradeneeded",f=>{n(Tu(u.result),f.oldVersion,f.newVersion,Tu(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const QE=["get","getKey","getAll","getAllKeys","count"],XE=["put","add","delete","clear"],F0=new Map;function Kv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(F0.get(t))return F0.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=XE.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||QE.includes(e)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&f.done]))[0]};return F0.set(t,o),o}GE(r=>({...r,get:(t,e,n)=>Kv(t,e)||r.get(t,e,n),has:(t,e)=>!!Kv(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ZE(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function ZE(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wg="@firebase/app",$v="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new a4("@firebase/app"),JE="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",rS="@firebase/app-check",iS="@firebase/auth",sS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",pS="@firebase/messaging-compat",mS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",vS="@firebase/remote-config-compat",bS="@firebase/storage",_S="@firebase/storage-compat",wS="@firebase/firestore",xS="@firebase/ai",AS="@firebase/firestore-compat",ES="firebase",SS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",TS={[wg]:"fire-core",[JE]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[rS]:"fire-app-check",[nS]:"fire-app-check-compat",[iS]:"fire-auth",[sS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[pS]:"fire-fcm-compat",[mS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[vS]:"fire-rc-compat",[bS]:"fire-gcs",[_S]:"fire-gcs-compat",[wS]:"fire-fst",[AS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map,NS=new Map,Ag=new Map;function Yv(r,t){try{r.container.addComponent(t)}catch(e){Vl.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function dd(r){const t=r.name;if(Ag.has(t))return Vl.debug(`There were multiple attempts to register component ${t}.`),!1;Ag.set(t,r);for(const e of w1.values())Yv(e,r);for(const e of NS.values())Yv(e,r);return!0}function u4(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function c4(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nu=new s4("app","Firebase",IS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=SS;function f4(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:xg,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Nu.create("bad-app-name",{appName:String(s)});if(e||(e=Ww()),!e)throw Nu.create("no-options");const o=w1.get(s);if(o){if(_1(e,o.options)&&_1(n,o.config))return o;throw Nu.create("duplicate-app",{appName:s})}const u=new OE(s);for(const f of Ag.values())u.addComponent(f);const c=new CS(e,n,u);return w1.set(s,c),c}function d4(r=xg){const t=w1.get(r);if(!t&&r===xg&&Ww())return f4();if(!t)throw Nu.create("no-app",{appName:r});return t}function Iu(r,t,e){let n=TS[r]??r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${n}" with version "${t}":`];s&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vl.warn(u.join(" "));return}dd(new Bh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",LS=1,pd="firebase-heartbeat-store";let B0=null;function p4(){return B0||(B0=YE(RS,LS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(pd)}catch(e){console.warn(e)}}}}).catch(r=>{throw Nu.create("idb-open",{originalErrorMessage:r.message})})),B0}async function DS(r){try{const e=(await p4()).transaction(pd),n=await e.objectStore(pd).get(m4(r));return await e.done,n}catch(t){if(t instanceof Dc)Vl.warn(t.message);else{const e=Nu.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vl.warn(e.message)}}}async function Qv(r,t){try{const n=(await p4()).transaction(pd,"readwrite");await n.objectStore(pd).put(t,m4(r)),await n.done}catch(e){if(e instanceof Dc)Vl.warn(e.message);else{const n=Nu.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Vl.warn(n.message)}}}function m4(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1024,PS=30;class OS{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jS(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Xv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>PS){const u=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vl.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:n,unsentEntries:s}=MS(this._heartbeatsCache.heartbeats),o=v1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vl.warn(e),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function MS(r,t=kS){const e=[];let n=r.slice();for(const s of r){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Wv(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Wv(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i4()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DS(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Wv(r){return v1(JSON.stringify({version:2,heartbeats:r})).length}function VS(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){dd(new Bh("platform-logger",t=>new WE(t),"PRIVATE")),dd(new Bh("heartbeat",t=>new OS(t),"PRIVATE")),Iu(wg,$v,r),Iu(wg,$v,"esm2020"),Iu("fire-js","")}FS("");var BS="firebase",US="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu(BS,US,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cu,g4;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,S){function E(){}E.prototype=S.prototype,z.F=S.prototype,z.prototype=new E,z.prototype.constructor=z,z.D=function(V,T,I){for(var L=Array(arguments.length-2),$=2;$<arguments.length;$++)L[$-2]=arguments[$];return S.prototype[T].apply(V,L)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,S,E){E||(E=0);const V=Array(16);if(typeof S=="string")for(var T=0;T<16;++T)V[T]=S.charCodeAt(E++)|S.charCodeAt(E++)<<8|S.charCodeAt(E++)<<16|S.charCodeAt(E++)<<24;else for(T=0;T<16;++T)V[T]=S[E++]|S[E++]<<8|S[E++]<<16|S[E++]<<24;S=z.g[0],E=z.g[1],T=z.g[2];let I=z.g[3],L;L=S+(I^E&(T^I))+V[0]+3614090360&4294967295,S=E+(L<<7&4294967295|L>>>25),L=I+(T^S&(E^T))+V[1]+3905402710&4294967295,I=S+(L<<12&4294967295|L>>>20),L=T+(E^I&(S^E))+V[2]+606105819&4294967295,T=I+(L<<17&4294967295|L>>>15),L=E+(S^T&(I^S))+V[3]+3250441966&4294967295,E=T+(L<<22&4294967295|L>>>10),L=S+(I^E&(T^I))+V[4]+4118548399&4294967295,S=E+(L<<7&4294967295|L>>>25),L=I+(T^S&(E^T))+V[5]+1200080426&4294967295,I=S+(L<<12&4294967295|L>>>20),L=T+(E^I&(S^E))+V[6]+2821735955&4294967295,T=I+(L<<17&4294967295|L>>>15),L=E+(S^T&(I^S))+V[7]+4249261313&4294967295,E=T+(L<<22&4294967295|L>>>10),L=S+(I^E&(T^I))+V[8]+1770035416&4294967295,S=E+(L<<7&4294967295|L>>>25),L=I+(T^S&(E^T))+V[9]+2336552879&4294967295,I=S+(L<<12&4294967295|L>>>20),L=T+(E^I&(S^E))+V[10]+4294925233&4294967295,T=I+(L<<17&4294967295|L>>>15),L=E+(S^T&(I^S))+V[11]+2304563134&4294967295,E=T+(L<<22&4294967295|L>>>10),L=S+(I^E&(T^I))+V[12]+1804603682&4294967295,S=E+(L<<7&4294967295|L>>>25),L=I+(T^S&(E^T))+V[13]+4254626195&4294967295,I=S+(L<<12&4294967295|L>>>20),L=T+(E^I&(S^E))+V[14]+2792965006&4294967295,T=I+(L<<17&4294967295|L>>>15),L=E+(S^T&(I^S))+V[15]+1236535329&4294967295,E=T+(L<<22&4294967295|L>>>10),L=S+(T^I&(E^T))+V[1]+4129170786&4294967295,S=E+(L<<5&4294967295|L>>>27),L=I+(E^T&(S^E))+V[6]+3225465664&4294967295,I=S+(L<<9&4294967295|L>>>23),L=T+(S^E&(I^S))+V[11]+643717713&4294967295,T=I+(L<<14&4294967295|L>>>18),L=E+(I^S&(T^I))+V[0]+3921069994&4294967295,E=T+(L<<20&4294967295|L>>>12),L=S+(T^I&(E^T))+V[5]+3593408605&4294967295,S=E+(L<<5&4294967295|L>>>27),L=I+(E^T&(S^E))+V[10]+38016083&4294967295,I=S+(L<<9&4294967295|L>>>23),L=T+(S^E&(I^S))+V[15]+3634488961&4294967295,T=I+(L<<14&4294967295|L>>>18),L=E+(I^S&(T^I))+V[4]+3889429448&4294967295,E=T+(L<<20&4294967295|L>>>12),L=S+(T^I&(E^T))+V[9]+568446438&4294967295,S=E+(L<<5&4294967295|L>>>27),L=I+(E^T&(S^E))+V[14]+3275163606&4294967295,I=S+(L<<9&4294967295|L>>>23),L=T+(S^E&(I^S))+V[3]+4107603335&4294967295,T=I+(L<<14&4294967295|L>>>18),L=E+(I^S&(T^I))+V[8]+1163531501&4294967295,E=T+(L<<20&4294967295|L>>>12),L=S+(T^I&(E^T))+V[13]+2850285829&4294967295,S=E+(L<<5&4294967295|L>>>27),L=I+(E^T&(S^E))+V[2]+4243563512&4294967295,I=S+(L<<9&4294967295|L>>>23),L=T+(S^E&(I^S))+V[7]+1735328473&4294967295,T=I+(L<<14&4294967295|L>>>18),L=E+(I^S&(T^I))+V[12]+2368359562&4294967295,E=T+(L<<20&4294967295|L>>>12),L=S+(E^T^I)+V[5]+4294588738&4294967295,S=E+(L<<4&4294967295|L>>>28),L=I+(S^E^T)+V[8]+2272392833&4294967295,I=S+(L<<11&4294967295|L>>>21),L=T+(I^S^E)+V[11]+1839030562&4294967295,T=I+(L<<16&4294967295|L>>>16),L=E+(T^I^S)+V[14]+4259657740&4294967295,E=T+(L<<23&4294967295|L>>>9),L=S+(E^T^I)+V[1]+2763975236&4294967295,S=E+(L<<4&4294967295|L>>>28),L=I+(S^E^T)+V[4]+1272893353&4294967295,I=S+(L<<11&4294967295|L>>>21),L=T+(I^S^E)+V[7]+4139469664&4294967295,T=I+(L<<16&4294967295|L>>>16),L=E+(T^I^S)+V[10]+3200236656&4294967295,E=T+(L<<23&4294967295|L>>>9),L=S+(E^T^I)+V[13]+681279174&4294967295,S=E+(L<<4&4294967295|L>>>28),L=I+(S^E^T)+V[0]+3936430074&4294967295,I=S+(L<<11&4294967295|L>>>21),L=T+(I^S^E)+V[3]+3572445317&4294967295,T=I+(L<<16&4294967295|L>>>16),L=E+(T^I^S)+V[6]+76029189&4294967295,E=T+(L<<23&4294967295|L>>>9),L=S+(E^T^I)+V[9]+3654602809&4294967295,S=E+(L<<4&4294967295|L>>>28),L=I+(S^E^T)+V[12]+3873151461&4294967295,I=S+(L<<11&4294967295|L>>>21),L=T+(I^S^E)+V[15]+530742520&4294967295,T=I+(L<<16&4294967295|L>>>16),L=E+(T^I^S)+V[2]+3299628645&4294967295,E=T+(L<<23&4294967295|L>>>9),L=S+(T^(E|~I))+V[0]+4096336452&4294967295,S=E+(L<<6&4294967295|L>>>26),L=I+(E^(S|~T))+V[7]+1126891415&4294967295,I=S+(L<<10&4294967295|L>>>22),L=T+(S^(I|~E))+V[14]+2878612391&4294967295,T=I+(L<<15&4294967295|L>>>17),L=E+(I^(T|~S))+V[5]+4237533241&4294967295,E=T+(L<<21&4294967295|L>>>11),L=S+(T^(E|~I))+V[12]+1700485571&4294967295,S=E+(L<<6&4294967295|L>>>26),L=I+(E^(S|~T))+V[3]+2399980690&4294967295,I=S+(L<<10&4294967295|L>>>22),L=T+(S^(I|~E))+V[10]+4293915773&4294967295,T=I+(L<<15&4294967295|L>>>17),L=E+(I^(T|~S))+V[1]+2240044497&4294967295,E=T+(L<<21&4294967295|L>>>11),L=S+(T^(E|~I))+V[8]+1873313359&4294967295,S=E+(L<<6&4294967295|L>>>26),L=I+(E^(S|~T))+V[15]+4264355552&4294967295,I=S+(L<<10&4294967295|L>>>22),L=T+(S^(I|~E))+V[6]+2734768916&4294967295,T=I+(L<<15&4294967295|L>>>17),L=E+(I^(T|~S))+V[13]+1309151649&4294967295,E=T+(L<<21&4294967295|L>>>11),L=S+(T^(E|~I))+V[4]+4149444226&4294967295,S=E+(L<<6&4294967295|L>>>26),L=I+(E^(S|~T))+V[11]+3174756917&4294967295,I=S+(L<<10&4294967295|L>>>22),L=T+(S^(I|~E))+V[2]+718787259&4294967295,T=I+(L<<15&4294967295|L>>>17),L=E+(I^(T|~S))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+S&4294967295,z.g[1]=z.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,z.g[2]=z.g[2]+T&4294967295,z.g[3]=z.g[3]+I&4294967295}n.prototype.v=function(z,S){S===void 0&&(S=z.length);const E=S-this.blockSize,V=this.C;let T=this.h,I=0;for(;I<S;){if(T==0)for(;I<=E;)s(this,z,I),I+=this.blockSize;if(typeof z=="string"){for(;I<S;)if(V[T++]=z.charCodeAt(I++),T==this.blockSize){s(this,V),T=0;break}}else for(;I<S;)if(V[T++]=z[I++],T==this.blockSize){s(this,V),T=0;break}}this.h=T,this.o+=S},n.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var S=1;S<z.length-8;++S)z[S]=0;S=this.o*8;for(var E=z.length-8;E<z.length;++E)z[E]=S&255,S/=256;for(this.v(z),z=Array(16),S=0,E=0;E<4;++E)for(let V=0;V<32;V+=8)z[S++]=this.g[E]>>>V&255;return z};function o(z,S){var E=c;return Object.prototype.hasOwnProperty.call(E,z)?E[z]:E[z]=S(z)}function u(z,S){this.h=S;const E=[];let V=!0;for(let T=z.length-1;T>=0;T--){const I=z[T]|0;V&&I==S||(E[T]=I,V=!1)}this.g=E}var c={};function f(z){return-128<=z&&z<128?o(z,function(S){return new u([S|0],S<0?-1:0)}):new u([z|0],z<0?-1:0)}function d(z){if(isNaN(z)||!isFinite(z))return v;if(z<0)return M(d(-z));const S=[];let E=1;for(let V=0;z>=E;V++)S[V]=z/E|0,E*=4294967296;return new u(S,0)}function p(z,S){if(z.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(z.charAt(0)=="-")return M(p(z.substring(1),S));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=d(Math.pow(S,8));let V=v;for(let I=0;I<z.length;I+=8){var T=Math.min(8,z.length-I);const L=parseInt(z.substring(I,I+T),S);T<8?(T=d(Math.pow(S,T)),V=V.j(T).add(d(L))):(V=V.j(E),V=V.add(d(L)))}return V}var v=f(0),w=f(1),y=f(16777216);r=u.prototype,r.m=function(){if(D(this))return-M(this).m();let z=0,S=1;for(let E=0;E<this.g.length;E++){const V=this.i(E);z+=(V>=0?V:4294967296+V)*S,S*=4294967296}return z},r.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(C(this))return"0";if(D(this))return"-"+M(this).toString(z);const S=d(Math.pow(z,6));var E=this;let V="";for(;;){const T=H(E,S).g;E=k(E,T.j(S));let I=((E.g.length>0?E.g[0]:E.h)>>>0).toString(z);if(E=T,C(E))return I+V;for(;I.length<6;)I="0"+I;V=I+V}},r.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function C(z){if(z.h!=0)return!1;for(let S=0;S<z.g.length;S++)if(z.g[S]!=0)return!1;return!0}function D(z){return z.h==-1}r.l=function(z){return z=k(this,z),D(z)?-1:C(z)?0:1};function M(z){const S=z.g.length,E=[];for(let V=0;V<S;V++)E[V]=~z.g[V];return new u(E,~z.h).add(w)}r.abs=function(){return D(this)?M(this):this},r.add=function(z){const S=Math.max(this.g.length,z.g.length),E=[];let V=0;for(let T=0;T<=S;T++){let I=V+(this.i(T)&65535)+(z.i(T)&65535),L=(I>>>16)+(this.i(T)>>>16)+(z.i(T)>>>16);V=L>>>16,I&=65535,L&=65535,E[T]=L<<16|I}return new u(E,E[E.length-1]&-2147483648?-1:0)};function k(z,S){return z.add(M(S))}r.j=function(z){if(C(this)||C(z))return v;if(D(this))return D(z)?M(this).j(M(z)):M(M(this).j(z));if(D(z))return M(this.j(M(z)));if(this.l(y)<0&&z.l(y)<0)return d(this.m()*z.m());const S=this.g.length+z.g.length,E=[];for(var V=0;V<2*S;V++)E[V]=0;for(V=0;V<this.g.length;V++)for(let T=0;T<z.g.length;T++){const I=this.i(V)>>>16,L=this.i(V)&65535,$=z.i(T)>>>16,ft=z.i(T)&65535;E[2*V+2*T]+=L*ft,G(E,2*V+2*T),E[2*V+2*T+1]+=I*ft,G(E,2*V+2*T+1),E[2*V+2*T+1]+=L*$,G(E,2*V+2*T+1),E[2*V+2*T+2]+=I*$,G(E,2*V+2*T+2)}for(z=0;z<S;z++)E[z]=E[2*z+1]<<16|E[2*z];for(z=S;z<2*S;z++)E[z]=0;return new u(E,0)};function G(z,S){for(;(z[S]&65535)!=z[S];)z[S+1]+=z[S]>>>16,z[S]&=65535,S++}function K(z,S){this.g=z,this.h=S}function H(z,S){if(C(S))throw Error("division by zero");if(C(z))return new K(v,v);if(D(z))return S=H(M(z),S),new K(M(S.g),M(S.h));if(D(S))return S=H(z,M(S)),new K(M(S.g),S.h);if(z.g.length>30){if(D(z)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var E=w,V=S;V.l(z)<=0;)E=ut(E),V=ut(V);var T=Z(E,1),I=Z(V,1);for(V=Z(V,2),E=Z(E,2);!C(V);){var L=I.add(V);L.l(z)<=0&&(T=T.add(E),I=L),V=Z(V,1),E=Z(E,1)}return S=k(z,T.j(S)),new K(T,S)}for(T=v;z.l(S)>=0;){for(E=Math.max(1,Math.floor(z.m()/S.m())),V=Math.ceil(Math.log(E)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),I=d(E),L=I.j(S);D(L)||L.l(z)>0;)E-=V,I=d(E),L=I.j(S);C(I)&&(I=w),T=T.add(I),z=k(z,L)}return new K(T,z)}r.B=function(z){return H(this,z).h},r.and=function(z){const S=Math.max(this.g.length,z.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)&z.i(V);return new u(E,this.h&z.h)},r.or=function(z){const S=Math.max(this.g.length,z.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)|z.i(V);return new u(E,this.h|z.h)},r.xor=function(z){const S=Math.max(this.g.length,z.g.length),E=[];for(let V=0;V<S;V++)E[V]=this.i(V)^z.i(V);return new u(E,this.h^z.h)};function ut(z){const S=z.g.length+1,E=[];for(let V=0;V<S;V++)E[V]=z.i(V)<<1|z.i(V-1)>>>31;return new u(E,z.h)}function Z(z,S){const E=S>>5;S%=32;const V=z.g.length-E,T=[];for(let I=0;I<V;I++)T[I]=S>0?z.i(I+E)>>>S|z.i(I+E+1)<<32-S:z.i(I+E);return new u(T,z.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,g4=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=p,Cu=u}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y4,Xf,v4,Zp,Eg,b4,_4,w4;(function(){var r,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var R=0;R<g.length;++R){var q=g[R];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=e(this);function s(g,R){if(R)t:{var q=n;g=g.split(".");for(var ot=0;ot<g.length-1;ot++){var It=g[ot];if(!(It in q))break t;q=q[It]}g=g[g.length-1],ot=q[g],R=R(ot),R!=ot&&R!=null&&t(q,g,{configurable:!0,writable:!0,value:R})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(R){var q=[],ot;for(ot in R)Object.prototype.hasOwnProperty.call(R,ot)&&q.push([ot,R[ot]]);return q}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(g){var R=typeof g;return R=="object"&&g!=null||R=="function"}function f(g,R,q){return g.call.apply(g.bind,arguments)}function d(g,R,q){return d=f,d.apply(null,arguments)}function p(g,R){var q=Array.prototype.slice.call(arguments,1);return function(){var ot=q.slice();return ot.push.apply(ot,arguments),g.apply(this,ot)}}function v(g,R){function q(){}q.prototype=R.prototype,g.Z=R.prototype,g.prototype=new q,g.prototype.constructor=g,g.Ob=function(ot,It,Ot){for(var oe=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)oe[tn-2]=arguments[tn];return R.prototype[It].apply(ot,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function y(g){const R=g.length;if(R>0){const q=Array(R);for(let ot=0;ot<R;ot++)q[ot]=g[ot];return q}return[]}function C(g,R){for(let ot=1;ot<arguments.length;ot++){const It=arguments[ot];var q=typeof It;if(q=q!="object"?q:It?Array.isArray(It)?"array":q:"null",q=="array"||q=="object"&&typeof It.length=="number"){q=g.length||0;const Ot=It.length||0;g.length=q+Ot;for(let oe=0;oe<Ot;oe++)g[q+oe]=It[oe]}else g.push(It)}}class D{constructor(R,q){this.i=R,this.j=q,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function M(g){u.setTimeout(()=>{throw g},0)}function k(){var g=z;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}class G{constructor(){this.h=this.g=null}add(R,q){const ot=K.get();ot.set(R,q),this.h?this.h.next=ot:this.g=ot,this.h=ot}}var K=new D(()=>new H,g=>g.reset());class H{constructor(){this.next=this.g=this.h=null}set(R,q){this.h=R,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Z=!1,z=new G,S=()=>{const g=Promise.resolve(void 0);ut=()=>{g.then(E)}};function E(){for(var g;g=k();){try{g.h.call(g.g)}catch(q){M(q)}var R=K;R.j(g),R.h<100&&(R.h++,g.next=R.g,R.g=g)}Z=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const q=()=>{};u.addEventListener("test",q,R),u.removeEventListener("test",q,R)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function $(g,R){T.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,R)}v($,T),$.prototype.init=function(g,R){const q=this.type=g.type,ot=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget,R||(q=="mouseover"?R=g.fromElement:q=="mouseout"&&(R=g.toElement)),this.relatedTarget=R,ot?(this.clientX=ot.clientX!==void 0?ot.clientX:ot.pageX,this.clientY=ot.clientY!==void 0?ot.clientY:ot.pageY,this.screenX=ot.screenX||0,this.screenY=ot.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),P=0;function B(g,R,q,ot,It){this.listener=g,this.proxy=null,this.src=R,this.type=q,this.capture=!!ot,this.ha=It,this.key=++P,this.da=this.fa=!1}function tt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function st(g,R,q){for(const ot in g)R.call(q,g[ot],ot,g)}function gt(g,R){for(const q in g)R.call(void 0,g[q],q,g)}function J(g){const R={};for(const q in g)R[q]=g[q];return R}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(g,R){let q,ot;for(let It=1;It<arguments.length;It++){ot=arguments[It];for(q in ot)g[q]=ot[q];for(let Ot=0;Ot<O.length;Ot++)q=O[Ot],Object.prototype.hasOwnProperty.call(ot,q)&&(g[q]=ot[q])}}function W(g){this.src=g,this.g={},this.h=0}W.prototype.add=function(g,R,q,ot,It){const Ot=g.toString();g=this.g[Ot],g||(g=this.g[Ot]=[],this.h++);const oe=ct(g,R,ot,It);return oe>-1?(R=g[oe],q||(R.fa=!1)):(R=new B(R,this.src,Ot,!!ot,It),R.fa=q,g.push(R)),R};function et(g,R){const q=R.type;if(q in g.g){var ot=g.g[q],It=Array.prototype.indexOf.call(ot,R,void 0),Ot;(Ot=It>=0)&&Array.prototype.splice.call(ot,It,1),Ot&&(tt(R),g.g[q].length==0&&(delete g.g[q],g.h--))}}function ct(g,R,q,ot){for(let It=0;It<g.length;++It){const Ot=g[It];if(!Ot.da&&Ot.listener==R&&Ot.capture==!!q&&Ot.ha==ot)return It}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Tt={};function Et(g,R,q,ot,It){if(Array.isArray(R)){for(let Ot=0;Ot<R.length;Ot++)Et(g,R[Ot],q,ot,It);return null}return q=he(q),g&&g[ft]?g.J(R,q,c(ot)?!!ot.capture:!1,It):Mt(g,R,q,!1,ot,It)}function Mt(g,R,q,ot,It,Ot){if(!R)throw Error("Invalid event type");const oe=c(It)?!!It.capture:!!It;let tn=ee(g);if(tn||(g[bt]=tn=new W(g)),q=tn.add(R,q,ot,oe,Ot),q.proxy)return q;if(ot=$t(),q.proxy=ot,ot.src=g,ot.listener=q,g.addEventListener)I||(It=oe),It===void 0&&(It=!1),g.addEventListener(R.toString(),ot,It);else if(g.attachEvent)g.attachEvent(fe(R.toString()),ot);else if(g.addListener&&g.removeListener)g.addListener(ot);else throw Error("addEventListener and attachEvent are unavailable.");return q}function $t(){function g(q){return R.call(g.src,g.listener,q)}const R=lt;return g}function te(g,R,q,ot,It){if(Array.isArray(R))for(var Ot=0;Ot<R.length;Ot++)te(g,R[Ot],q,ot,It);else ot=c(ot)?!!ot.capture:!!ot,q=he(q),g&&g[ft]?(g=g.i,Ot=String(R).toString(),Ot in g.g&&(R=g.g[Ot],q=ct(R,q,ot,It),q>-1&&(tt(R[q]),Array.prototype.splice.call(R,q,1),R.length==0&&(delete g.g[Ot],g.h--)))):g&&(g=ee(g))&&(R=g.g[R.toString()],g=-1,R&&(g=ct(R,q,ot,It)),(q=g>-1?R[g]:null)&&le(q))}function le(g){if(typeof g!="number"&&g&&!g.da){var R=g.src;if(R&&R[ft])et(R.i,g);else{var q=g.type,ot=g.proxy;R.removeEventListener?R.removeEventListener(q,ot,g.capture):R.detachEvent?R.detachEvent(fe(q),ot):R.addListener&&R.removeListener&&R.removeListener(ot),(q=ee(R))?(et(q,g),q.h==0&&(q.src=null,R[bt]=null)):tt(g)}}}function fe(g){return g in Tt?Tt[g]:Tt[g]="on"+g}function lt(g,R){if(g.da)g=!0;else{R=new $(R,this);const q=g.listener,ot=g.ha||g.src;g.fa&&le(g),g=q.call(ot,R)}return g}function ee(g){return g=g[bt],g instanceof W?g:null}var xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(g){return typeof g=="function"?g:(g[xe]||(g[xe]=function(R){return g.handleEvent(R)}),g[xe])}function Bt(){V.call(this),this.i=new W(this),this.M=this,this.G=null}v(Bt,V),Bt.prototype[ft]=!0,Bt.prototype.removeEventListener=function(g,R,q,ot){te(this,g,R,q,ot)};function ue(g,R){var q,ot=g.G;if(ot)for(q=[];ot;ot=ot.G)q.push(ot);if(g=g.M,ot=R.type||R,typeof R=="string")R=new T(R,g);else if(R instanceof T)R.target=R.target||g;else{var It=R;R=new T(ot,g),Q(R,It)}It=!0;let Ot,oe;if(q)for(oe=q.length-1;oe>=0;oe--)Ot=R.g=q[oe],It=se(Ot,ot,!0,R)&&It;if(Ot=R.g=g,It=se(Ot,ot,!0,R)&&It,It=se(Ot,ot,!1,R)&&It,q)for(oe=0;oe<q.length;oe++)Ot=R.g=q[oe],It=se(Ot,ot,!1,R)&&It}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var g=this.i;for(const R in g.g){const q=g.g[R];for(let ot=0;ot<q.length;ot++)tt(q[ot]);delete g.g[R],g.h--}}this.G=null},Bt.prototype.J=function(g,R,q,ot){return this.i.add(String(g),R,!1,q,ot)},Bt.prototype.K=function(g,R,q,ot){return this.i.add(String(g),R,!0,q,ot)};function se(g,R,q,ot){if(R=g.i.g[String(R)],!R)return!0;R=R.concat();let It=!0;for(let Ot=0;Ot<R.length;++Ot){const oe=R[Ot];if(oe&&!oe.da&&oe.capture==q){const tn=oe.listener,sr=oe.ha||oe.src;oe.fa&&et(g.i,oe),It=tn.call(sr,ot)!==!1&&It}}return It&&!ot.defaultPrevented}function Ae(g,R){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:u.setTimeout(g,R||0)}function de(g){g.g=Ae(()=>{g.g=null,g.i&&(g.i=!1,de(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}class we extends V{constructor(R,q){super(),this.m=R,this.l=q,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(g){V.call(this),this.h=g,this.g={}}v(yt,V);var ne=[];function Vt(g){st(g.g,function(R,q){this.g.hasOwnProperty(q)&&le(R)},g),g.g={}}yt.prototype.N=function(){yt.Z.N.call(this),Vt(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=u.JSON.stringify,ie=u.JSON.parse,ce=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function me(){}function Ne(){}var Wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ye(){T.call(this,"d")}v(ye,T);function be(){T.call(this,"c")}v(be,T);var Qe={},ve=null;function rn(){return ve=ve||new Bt}Qe.Ia="serverreachability";function je(g){T.call(this,Qe.Ia,g)}v(je,T);function Fe(g){const R=rn();ue(R,new je(R))}Qe.STAT_EVENT="statevent";function Nn(g,R){T.call(this,Qe.STAT_EVENT,g),this.stat=R}v(Nn,T);function Ie(g){const R=rn();ue(R,new Nn(R,g))}Qe.Ja="timingevent";function Ee(g,R){T.call(this,Qe.Ja,g),this.size=R}v(Ee,T);function Je(g,R){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},R)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function Dr(g,R,q,ot,It,Ot){g.info(function(){if(g.g)if(Ot){var oe="",tn=Ot.split("&");for(let fn=0;fn<tn.length;fn++){var sr=tn[fn].split("=");if(sr.length>1){const Vn=sr[0];sr=sr[1];const ui=Vn.split("_");oe=ui.length>=2&&ui[1]=="type"?oe+(Vn+"="+sr+"&"):oe+(Vn+"=redacted&")}}}else oe=null;else oe=Ot;return"XMLHTTP REQ ("+ot+") [attempt "+It+"]: "+R+`
`+q+`
`+oe})}function Br(g,R,q,ot,It,Ot,oe){g.info(function(){return"XMLHTTP RESP ("+ot+") [ attempt "+It+"]: "+R+`
`+q+`
`+Ot+" "+oe})}function $n(g,R,q,ot){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+aa(g,q)+(ot?" "+ot:"")})}function Be(g,R){g.info(function(){return"TIMEOUT: "+R})}gr.prototype.info=function(){};function aa(g,R){if(!g.g)return R;if(!R)return null;try{const Ot=JSON.parse(R);if(Ot){for(g=0;g<Ot.length;g++)if(Array.isArray(Ot[g])){var q=Ot[g];if(!(q.length<2)){var ot=q[1];if(Array.isArray(ot)&&!(ot.length<1)){var It=ot[0];if(It!="noop"&&It!="stop"&&It!="close")for(let oe=1;oe<ot.length;oe++)ot[oe]=""}}}}return Ft(Ot)}catch{return R}}var Hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ci={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ri;function Gn(){}v(Gn,me),Gn.prototype.g=function(){return new XMLHttpRequest},Ri=new Gn;function rr(g){return encodeURIComponent(String(g))}function Ur(g){var R=1;g=g.split(":");const q=[];for(;R>0&&g.length;)q.push(g.shift()),R--;return g.length&&q.push(g.join(":")),q}function gi(g,R,q,ot){this.j=g,this.i=R,this.l=q,this.S=ot||1,this.V=new yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Mn={},Yn={};function zr(g,R,q){g.M=1,g.A=Ta(Ar(R)),g.u=q,g.R=!0,Li(g,null)}function Li(g,R){g.F=Date.now(),Di(g),g.B=Ar(g.A);var q=g.B,ot=g.S;Array.isArray(ot)||(ot=[String(ot)]),Co(q.i,"t",ot),g.C=0,q=g.j.L,g.h=new ai,g.g=Ce(g.j,q?R:null,!g.u),g.P>0&&(g.O=new we(d(g.Y,g,g.g),g.P)),R=g.V,q=g.g,ot=g.ba;var It="readystatechange";Array.isArray(It)||(It&&(ne[0]=It.toString()),It=ne);for(let Ot=0;Ot<It.length;Ot++){const oe=Et(q,It[Ot],ot||R.handleEvent,!1,R.h||R);if(!oe)break;R.g[oe.key]=oe}R=g.J?J(g.J):{},g.u?(g.v||(g.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,R)):(g.v="GET",g.g.ea(g.B,g.v,null,R)),Fe(),Dr(g.i,g.v,g.B,g.l,g.S,g.u)}gi.prototype.ba=function(g){g=g.target;const R=this.O;R&&Xi(g)==3?R.j():this.Y(g)},gi.prototype.Y=function(g){try{if(g==this.g)t:{const tn=Xi(this.g),sr=this.g.ya(),fn=this.g.ca();if(!(tn<3)&&(tn!=3||this.g&&(this.h.h||this.g.la()||Pr(this.g)))){this.K||tn!=4||sr==7||(sr==8||fn<=0?Fe(3):Fe(2)),Gi(this);var R=this.g.ca();this.X=R;var q=as(this);if(this.o=R==200,Br(this.i,this.v,this.B,this.l,this.S,tn,R),this.o){if(this.U&&!this.L){e:{if(this.g){var ot,It=this.g;if((ot=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ot)){var Ot=ot;break e}}Ot=null}if(g=Ot)$n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,g);else{this.o=!1,this.m=3,Ie(12),Ki(this),yi(this);break t}}if(this.R){g=!0;let Vn;for(;!this.K&&this.C<q.length;)if(Vn=As(this,q),Vn==Yn){tn==4&&(this.m=4,Ie(14),g=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Mn){this.m=4,Ie(15),$n(this.i,this.l,q,"[Invalid Chunk]"),g=!1;break}else $n(this.i,this.l,Vn,null),os(this,Vn);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||q.length!=0||this.h.h||(this.m=1,Ie(16),g=!1),this.o=this.o&&g,!g)$n(this.i,this.l,q,"[Invalid Chunked Response]"),Ki(this),yi(this);else if(q.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),ko(oe),oe.P=!0,Ie(11))}}else $n(this.i,this.l,q,null),os(this,q);tn==4&&Ki(this),this.o&&!this.K&&(tn==4?pt(this.j,this):(this.o=!1,Di(this)))}else js(this.g),R==400&&q.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),Ki(this),yi(this)}}}catch{}finally{}};function as(g){if(!Sa(g))return g.g.la();const R=Pr(g.g);if(R==="")return"";let q="";const ot=R.length,It=Xi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ki(g),yi(g),"";g.h.i=new u.TextDecoder}for(let Ot=0;Ot<ot;Ot++)g.h.h=!0,q+=g.h.i.decode(R[Ot],{stream:!(It&&Ot==ot-1)});return R.length=0,g.h.g+=q,g.C=0,g.h.g}function Sa(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function As(g,R){var q=g.C,ot=R.indexOf(`
`,q);return ot==-1?Yn:(q=Number(R.substring(q,ot)),isNaN(q)?Mn:(ot+=1,ot+q>R.length?Yn:(R=R.slice(ot,ot+q),g.C=ot+q,R)))}gi.prototype.cancel=function(){this.K=!0,Ki(this)};function Di(g){g.T=Date.now()+g.H,oa(g,g.H)}function oa(g,R){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Je(d(g.aa,g),R)}function Gi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}gi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Be(this.i,this.B),this.M!=2&&(Fe(),Ie(17)),Ki(this),this.m=2,yi(this)):oa(this,this.T-g)};function yi(g){g.j.I==0||g.K||pt(g.j,g)}function Ki(g){Gi(g);var R=g.O;R&&typeof R.dispose=="function"&&R.dispose(),g.O=null,Vt(g.V),g.g&&(R=g.g,g.g=null,R.abort(),R.dispose())}function os(g,R){try{var q=g.j;if(q.I!=0&&(q.g==g||Es(q.h,g))){if(!g.L&&Es(q.h,g)&&q.I==3){try{var ot=q.Ba.g.parse(R)}catch{ot=null}if(Array.isArray(ot)&&ot.length==3){var It=ot;if(It[0]==0){t:if(!q.v){if(q.g)if(q.g.F+3e3<g.F)Y(q),Fs(q);else break t;Ns(q),Ie(18)}}else q.xa=It[1],0<q.xa-q.K&&It[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Je(d(q.Va,q),6e3));ls(q.h)<=1&&q.ta&&(q.ta=void 0)}else St(q,11)}else if((g.L||q.g==g)&&Y(q),!L(R))for(It=q.Ba.g.parse(R),R=0;R<It.length;R++){let fn=It[R];const Vn=fn[0];if(!(Vn<=q.K))if(q.K=Vn,fn=fn[1],q.I==2)if(fn[0]=="c"){q.M=fn[1],q.ba=fn[2];const ui=fn[3];ui!=null&&(q.ka=ui,q.j.info("VER="+q.ka));const bi=fn[4];bi!=null&&(q.za=bi,q.j.info("SVER="+q.za));const Qn=fn[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(ot=1.5*Qn,q.O=ot,q.j.info("backChannelRequestTimeoutMs_="+ot)),ot=q;const _i=g.g;if(_i){const Is=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var Ot=ot.h;Ot.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(Ot.j=Ot.l,Ot.g=new Set,Ot.h&&(Qa(Ot,Ot.h),Ot.h=null))}if(ot.G){const La=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(ot.wa=La,wn(ot.J,ot.G,La))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-g.F,q.j.info("Handshake RTT: "+q.T+"ms")),ot=q;var oe=g;if(ot.na=Jt(ot,ot.L?ot.ba:null,ot.W),oe.L){No(ot.h,oe);var tn=oe,sr=ot.O;sr&&(tn.H=sr),tn.D&&(Gi(tn),Di(tn)),ot.g=oe}else dl(ot);q.i.length>0&&cs(q)}else fn[0]!="stop"&&fn[0]!="close"||St(q,7);else q.I==3&&(fn[0]=="stop"||fn[0]=="close"?fn[0]=="stop"?St(q,7):Ra(q):fn[0]!="noop"&&q.l&&q.l.qa(fn),q.A=0)}}Fe(4)}catch{}}var yr=class{constructor(g,R){this.g=g,this.map=R}};function To(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ki(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ls(g){return g.h?1:g.g?g.g.size:0}function Es(g,R){return g.h?g.h==R:g.g?g.g.has(R):!1}function Qa(g,R){g.g?g.g.add(R):g.h=R}function No(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}To.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Io(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let R=g.i;for(const q of g.g.values())R=R.concat(q.G);return R}return y(g.i)}var ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(g,R){if(g){g=g.split("&");for(let q=0;q<g.length;q++){const ot=g[q].indexOf("=");let It,Ot=null;ot>=0?(It=g[q].substring(0,ot),Ot=g[q].substring(ot+1)):It=g[q],R(It,Ot?decodeURIComponent(Ot.replace(/\+/g," ")):"")}}}function oi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;g instanceof oi?(this.l=g.l,pn(this,g.j),this.o=g.o,this.g=g.g,la(this,g.u),this.h=g.h,us(this,Ro(g.i)),this.m=g.m):g&&(R=String(g).match(ol))?(this.l=!1,pn(this,R[1]||"",!0),this.o=kr(R[2]||""),this.g=kr(R[3]||"",!0),la(this,R[4]),this.h=kr(R[5]||"",!0),us(this,R[6]||"",!0),this.m=kr(R[7]||"")):(this.l=!1,this.i=new ua(null,this.l))}oi.prototype.toString=function(){const g=[];var R=this.j;R&&g.push(hr(R,Xa,!0),":");var q=this.g;return(q||R=="file")&&(g.push("//"),(R=this.o)&&g.push(hr(R,Xa,!0),"@"),g.push(rr(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&g.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&g.push("/"),g.push(hr(q,q.charAt(0)=="/"?ll:ql,!0))),(q=this.i.toString())&&g.push("?",q),(q=this.m)&&g.push("#",hr(q,ul)),g.join("")},oi.prototype.resolve=function(g){const R=Ar(this);let q=!!g.j;q?pn(R,g.j):q=!!g.o,q?R.o=g.o:q=!!g.g,q?R.g=g.g:q=g.u!=null;var ot=g.h;if(q)la(R,g.u);else if(q=!!g.h){if(ot.charAt(0)!="/")if(this.g&&!this.h)ot="/"+ot;else{var It=R.h.lastIndexOf("/");It!=-1&&(ot=R.h.slice(0,It+1)+ot)}if(It=ot,It==".."||It==".")ot="";else if(It.indexOf("./")!=-1||It.indexOf("/.")!=-1){ot=It.lastIndexOf("/",0)==0,It=It.split("/");const Ot=[];for(let oe=0;oe<It.length;){const tn=It[oe++];tn=="."?ot&&oe==It.length&&Ot.push(""):tn==".."?((Ot.length>1||Ot.length==1&&Ot[0]!="")&&Ot.pop(),ot&&oe==It.length&&Ot.push("")):(Ot.push(tn),ot=!0)}ot=Ot.join("/")}else ot=It}return q?R.h=ot:q=g.i.toString()!=="",q?us(R,Ro(g.i)):q=!!g.m,q&&(R.m=g.m),R};function Ar(g){return new oi(g)}function pn(g,R,q){g.j=q?kr(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function la(g,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);g.u=R}else g.u=null}function us(g,R,q){R instanceof ua?(g.i=R,Pi(g.i,g.l)):(q||(R=hr(R,vi)),g.i=new ua(R,g.l))}function wn(g,R,q){g.i.set(R,q)}function Ta(g){return wn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function kr(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function hr(g,R,q){return typeof g=="string"?(g=encodeURI(g).replace(R,Er),q&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Er(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Xa=/[#\/\?@]/g,ql=/[#\?:]/g,ll=/[#\?]/g,vi=/[#\?@]/g,ul=/#/g;function ua(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function Zr(g){g.g||(g.g=new Map,g.h=0,g.i&&$i(g.i,function(R,q){g.add(decodeURIComponent(R.replace(/\+/g," ")),q)}))}r=ua.prototype,r.add=function(g,R){Zr(this),this.i=null,g=ca(this,g);let q=this.g.get(g);return q||this.g.set(g,q=[]),q.push(R),this.h+=1,this};function Na(g,R){Zr(g),R=ca(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function cl(g,R){return Zr(g),R=ca(g,R),g.g.has(R)}r.forEach=function(g,R){Zr(this),this.g.forEach(function(q,ot){q.forEach(function(It){g.call(R,It,ot,this)},this)},this)};function hl(g,R){Zr(g);let q=[];if(typeof R=="string")cl(g,R)&&(q=q.concat(g.g.get(ca(g,R))));else for(g=Array.from(g.g.values()),R=0;R<g.length;R++)q=q.concat(g[R]);return q}r.set=function(g,R){return Zr(this),this.i=null,g=ca(this,g),cl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},r.get=function(g,R){return g?(g=hl(this,g),g.length>0?String(g[0]):R):R};function Co(g,R,q){Na(g,R),q.length>0&&(g.i=null,g.g.set(ca(g,R),y(q)),g.h+=q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(let ot=0;ot<R.length;ot++){var q=R[ot];const It=rr(q);q=hl(this,q);for(let Ot=0;Ot<q.length;Ot++){let oe=It;q[Ot]!==""&&(oe+="="+rr(q[Ot])),g.push(oe)}}return this.i=g.join("&")};function Ro(g){const R=new ua;return R.i=g.i,g.g&&(R.g=new Map(g.g),R.h=g.h),R}function ca(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function Pi(g,R){R&&!g.j&&(Zr(g),g.i=null,g.g.forEach(function(q,ot){const It=ot.toLowerCase();ot!=It&&(Na(this,ot),Co(this,It,q))},g)),g.j=R}function Ss(g,R){const q=new gr;if(u.Image){const ot=new Image;ot.onload=p(Oi,q,"TestLoadImage: loaded",!0,R,ot),ot.onerror=p(Oi,q,"TestLoadImage: error",!1,R,ot),ot.onabort=p(Oi,q,"TestLoadImage: abort",!1,R,ot),ot.ontimeout=p(Oi,q,"TestLoadImage: timeout",!1,R,ot),u.setTimeout(function(){ot.ontimeout&&ot.ontimeout()},1e4),ot.src=g}else R(!1)}function ha(g,R){const q=new gr,ot=new AbortController,It=setTimeout(()=>{ot.abort(),Oi(q,"TestPingServer: timeout",!1,R)},1e4);fetch(g,{signal:ot.signal}).then(Ot=>{clearTimeout(It),Ot.ok?Oi(q,"TestPingServer: ok",!0,R):Oi(q,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(It),Oi(q,"TestPingServer: error",!1,R)})}function Oi(g,R,q,ot,It){try{It&&(It.onload=null,It.onerror=null,It.onabort=null,It.ontimeout=null),ot(q)}catch{}}function Ia(){this.g=new ce}function He(g){this.i=g.Sb||null,this.h=g.ab||!1}v(He,me),He.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(g,R){Bt.call(this),this.H=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Wa,Bt),r=Wa.prototype,r.open=function(g,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=R,this.readyState=1,Jr(this)},r.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(R.body=g),(this.H||u).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},r.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}r.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?Ca(this):Jr(this),this.readyState==3&&Lo(this)}},r.Oa=function(g){this.g&&(this.response=this.responseText=g,Ca(this))},r.Na=function(g){this.g&&(this.response=g,Ca(this))},r.ga=function(){this.g&&Ca(this)};function Ca(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Jr(g)}r.setRequestHeader=function(g,R){this.A.append(g,R)},r.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var q=R.next();!q.done;)q=q.value,g.push(q[0]+": "+q[1]),q=R.next();return g.join(`\r
`)};function Jr(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function qr(g){let R="";return st(g,function(q,ot){R+=ot,R+=":",R+=q,R+=`\r
`}),R}function Za(g,R,q){t:{for(ot in q){var ot=!1;break t}ot=!0}ot||(q=qr(q),typeof g=="string"?q!=null&&rr(q):wn(g,R,q))}function jn(g){Bt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(jn,Bt);var Yi=/^https?$/i,Ja=["POST","PUT"];r=jn.prototype,r.Fa=function(g){this.H=g},r.ea=function(g,R,q,ot){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ri.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(Ot){Ts(this,Ot);return}if(g=q||"",q=new Map(this.headers),ot)if(Object.getPrototypeOf(ot)===Object.prototype)for(var It in ot)q.set(It,ot[It]);else if(typeof ot.keys=="function"&&typeof ot.get=="function")for(const Ot of ot.keys())q.set(Ot,ot.get(Ot));else throw Error("Unknown input type for opt_headers: "+String(ot));ot=Array.from(q.keys()).find(Ot=>Ot.toLowerCase()=="content-type"),It=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Ja,R,void 0)>=0)||ot||It||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ot,oe]of q)this.g.setRequestHeader(Ot,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Ot){Ts(this,Ot)}};function Ts(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.o=5,fl(g),fa(g)}function fl(g){g.A||(g.A=!0,ue(g,"complete"),ue(g,"error"))}r.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ue(this,"complete"),ue(this,"abort"),fa(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),jn.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Qi(this):this.Xa())},r.Xa=function(){Qi(this)};function Qi(g){if(g.h&&typeof o<"u"){if(g.v&&Xi(g)==4)setTimeout(g.Ca.bind(g),0);else if(ue(g,"readystatechange"),Xi(g)==4){g.h=!1;try{const Ot=g.ca();t:switch(Ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break t;default:R=!1}var q;if(!(q=R)){var ot;if(ot=Ot===0){let oe=String(g.D).match(ol)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),ot=!Yi.test(oe?oe.toLowerCase():"")}q=ot}if(q)ue(g,"complete"),ue(g,"success");else{g.o=6;try{var It=Xi(g)>2?g.g.statusText:""}catch{It=""}g.l=It+" ["+g.ca()+"]",fl(g)}}finally{fa(g)}}}}function fa(g,R){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const q=g.g;g.g=null,R||ue(g,"ready");try{q.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xi(g){return g.g?g.g.readyState:0}r.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(g){if(this.g){var R=this.g.responseText;return g&&R.indexOf(g)==0&&(R=R.substring(g.length)),ie(R)}};function Pr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function js(g){const R={};g=(g.g&&Xi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let ot=0;ot<g.length;ot++){if(L(g[ot]))continue;var q=Ur(g[ot]);const It=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Ot=R[It]||[];R[It]=Ot,Ot.push(q)}gt(R,function(ot){return ot.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(g,R,q){return q&&q.internalChannelParams&&q.internalChannelParams[g]||R}function Vs(g){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,g),this.Za=li("retryDelaySeedMs",1e4,g),this.Ta=li("forwardChannelMaxRetries",2,g),this.va=li("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new To(g&&g.concurrentRequestLimit),this.Ba=new Ia,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vs.prototype,r.ka=8,r.I=1,r.connect=function(g,R,q,ot){Ie(0),this.W=g,this.H=R||{},q&&ot!==void 0&&(this.H.OSID=q,this.H.OAID=ot),this.F=this.X,this.J=Jt(this,null,this.W),cs(this)};function Ra(g){if(Bs(g),g.I==3){var R=g.V++,q=Ar(g.J);if(wn(q,"SID",g.M),wn(q,"RID",R),wn(q,"TYPE","terminate"),Wi(g,q),R=new gi(g,g.j,R),R.M=2,R.A=Ta(Ar(q)),q=!1,u.navigator&&u.navigator.sendBeacon)try{q=u.navigator.sendBeacon(R.A.toString(),"")}catch{}!q&&u.Image&&(new Image().src=R.A,q=!0),q||(R.g=Ce(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Di(R)}Ht(g)}function Fs(g){g.g&&(ko(g),g.g.cancel(),g.g=null)}function Bs(g){Fs(g),g.v&&(u.clearTimeout(g.v),g.v=null),Y(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function cs(g){if(!ki(g.h)&&!g.m){g.m=!0;var R=g.Ea;ut||S(),Z||(ut(),Z=!0),z.add(R,g),g.D=0}}function to(g,R){return ls(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=R.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Je(d(g.Ea,g,R),_t(g,g.D)),g.D++,!0)}r.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const It=new gi(this,this.j,g);let Ot=this.o;if(this.U&&(Ot?(Ot=J(Ot),Q(Ot,this.U)):Ot=this.U),this.u!==null||this.R||(It.J=Ot,Ot=null),this.S)t:{for(var R=0,q=0;q<this.i.length;q++){e:{var ot=this.i[q];if("__data__"in ot.map&&(ot=ot.map.__data__,typeof ot=="string")){ot=ot.length;break e}ot=void 0}if(ot===void 0)break;if(R+=ot,R>4096){R=q;break t}if(R===4096||q===this.i.length-1){R=q+1;break t}}R=1e3}else R=1e3;R=Us(this,It,R),q=Ar(this.J),wn(q,"RID",g),wn(q,"CVER",22),this.G&&wn(q,"X-HTTP-Session-Id",this.G),Wi(this,q),Ot&&(this.R?R="headers="+rr(qr(Ot))+"&"+R:this.u&&Za(q,this.u,Ot)),Qa(this.h,It),this.Ra&&wn(q,"TYPE","init"),this.S?(wn(q,"$req",R),wn(q,"SID","null"),It.U=!0,zr(It,q,null)):zr(It,q,R),this.I=2}}else this.I==3&&(g?Do(this,g):this.i.length==0||ki(this.h)||Do(this))};function Do(g,R){var q;R?q=R.l:q=g.V++;const ot=Ar(g.J);wn(ot,"SID",g.M),wn(ot,"RID",q),wn(ot,"AID",g.K),Wi(g,ot),g.u&&g.o&&Za(ot,g.u,g.o),q=new gi(g,g.j,q,g.D+1),g.u===null&&(q.J=g.o),R&&(g.i=R.G.concat(g.i)),R=Us(g,q,1e3),q.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Qa(g.h,q),zr(q,ot,R)}function Wi(g,R){g.H&&st(g.H,function(q,ot){wn(R,ot,q)}),g.l&&st({},function(q,ot){wn(R,ot,q)})}function Us(g,R,q){q=Math.min(g.i.length,q);const ot=g.l?d(g.l.Ka,g.l,g):null;t:{var It=g.i;let tn=-1;for(;;){const sr=["count="+q];tn==-1?q>0?(tn=It[0].g,sr.push("ofs="+tn)):tn=0:sr.push("ofs="+tn);let fn=!0;for(let Vn=0;Vn<q;Vn++){var Ot=It[Vn].g;const ui=It[Vn].map;if(Ot-=tn,Ot<0)tn=Math.max(0,It[Vn].g-100),fn=!1;else try{Ot="req"+Ot+"_"||"";try{var oe=ui instanceof Map?ui:Object.entries(ui);for(const[bi,Qn]of oe){let _i=Qn;c(Qn)&&(_i=Ft(Qn)),sr.push(Ot+bi+"="+encodeURIComponent(_i))}}catch(bi){throw sr.push(Ot+"type="+encodeURIComponent("_badmap")),bi}}catch{ot&&ot(ui)}}if(fn){oe=sr.join("&");break t}}oe=void 0}return g=g.i.splice(0,q),R.G=g,oe}function dl(g){if(!g.g&&!g.v){g.Y=1;var R=g.Da;ut||S(),Z||(ut(),Z=!0),z.add(R,g),g.A=0}}function Ns(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Je(d(g.Da,g),_t(g,g.A)),g.A++,!0)}r.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Je(d(this.Wa,this),g)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),Fs(this),A(this))};function ko(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function A(g){g.g=new gi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var R=Ar(g.na);wn(R,"RID","rpc"),wn(R,"SID",g.M),wn(R,"AID",g.K),wn(R,"CI",g.F?"0":"1"),!g.F&&g.ia&&wn(R,"TO",g.ia),wn(R,"TYPE","xmlhttp"),Wi(g,R),g.u&&g.o&&Za(R,g.u,g.o),g.O&&(g.g.H=g.O);var q=g.g;g=g.ba,q.M=1,q.A=Ta(Ar(R)),q.u=null,q.R=!0,Li(q,g)}r.Va=function(){this.C!=null&&(this.C=null,Fs(this),Ns(this),Ie(19))};function Y(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function pt(g,R){var q=null;if(g.g==R){Y(g),ko(g),g.g=null;var ot=2}else if(Es(g.h,R))q=R.G,No(g.h,R),ot=1;else return;if(g.I!=0){if(R.o)if(ot==1){q=R.u?R.u.length:0,R=Date.now()-R.F;var It=g.D;ot=rn(),ue(ot,new Ee(ot,q)),cs(g)}else dl(g);else if(It=R.m,It==3||It==0&&R.X>0||!(ot==1&&to(g,R)||ot==2&&Ns(g)))switch(q&&q.length>0&&(R=g.h,R.i=R.i.concat(q)),It){case 1:St(g,5);break;case 4:St(g,10);break;case 3:St(g,6);break;default:St(g,2)}}}function _t(g,R){let q=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(q*=2),q*R}function St(g,R){if(g.j.info("Error code "+R),R==2){var q=d(g.bb,g),ot=g.Ua;const It=!ot;ot=new oi(ot||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||pn(ot,"https"),Ta(ot),It?Ss(ot.toString(),q):ha(ot.toString(),q)}else Ie(2);g.I=0,g.l&&g.l.pa(R),Ht(g),Bs(g)}r.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function Ht(g){if(g.I=0,g.ja=[],g.l){const R=Io(g.h);(R.length!=0||g.i.length!=0)&&(C(g.ja,R),C(g.ja,g.i),g.h.i.length=0,y(g.i),g.i.length=0),g.l.oa()}}function Jt(g,R,q){var ot=q instanceof oi?Ar(q):new oi(q);if(ot.g!="")R&&(ot.g=R+"."+ot.g),la(ot,ot.u);else{var It=u.location;ot=It.protocol,R=R?R+"."+It.hostname:It.hostname,It=+It.port;const Ot=new oi(null);ot&&pn(Ot,ot),R&&(Ot.g=R),It&&la(Ot,It),q&&(Ot.h=q),ot=Ot}return q=g.G,R=g.wa,q&&R&&wn(ot,q,R),wn(ot,"VER",g.ka),Wi(g,ot),ot}function Ce(g,R,q){if(R&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=g.Aa&&!g.ma?new jn(new He({ab:q})):new jn(g.ma),R.Fa(g.L),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ke(){}r=ke.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ke(){}Ke.prototype.g=function(g,R){return new Ue(g,R)};function Ue(g,R){Bt.call(this),this.g=new Vs(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(g?g["X-WebChannel-Client-Profile"]=R.sa:g={"X-WebChannel-Client-Profile":R.sa}),this.g.U=g,(g=R&&R.Qb)&&!L(g)&&(this.g.u=g),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!L(R)&&(this.g.G=R,g=this.h,g!==null&&R in g&&(g=this.h,R in g&&delete g[R])),this.j=new Kn(this)}v(Ue,Bt),Ue.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){Ra(this.g)},Ue.prototype.o=function(g){var R=this.g;if(typeof g=="string"){var q={};q.__data__=g,g=q}else this.v&&(q={},q.__data__=Ft(g),g=q);R.i.push(new yr(R.Ya++,g)),R.I==3&&cs(R)},Ue.prototype.N=function(){this.g.l=null,delete this.j,Ra(this.g),delete this.g,Ue.Z.N.call(this)};function gn(g){ye.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){t:{for(const q in R){g=q;break t}g=void 0}(this.i=g)&&(g=this.i,R=R!==null&&g in R?R[g]:void 0),this.data=R}else this.data=g}v(gn,ye);function ir(){be.call(this),this.status=1}v(ir,be);function Kn(g){this.g=g}v(Kn,ke),Kn.prototype.ra=function(){ue(this.g,"a")},Kn.prototype.qa=function(g){ue(this.g,new gn(g))},Kn.prototype.pa=function(g){ue(this.g,new ir)},Kn.prototype.oa=function(){ue(this.g,"b")},Ke.prototype.createWebChannel=Ke.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,w4=function(){return new Ke},_4=function(){return rn()},b4=Qe,Eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Zp=Hi,Ci.COMPLETE="complete",v4=Ci,Ne.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,Xf=Ne,jn.prototype.listenOnce=jn.prototype.K,jn.prototype.getLastError=jn.prototype.Ha,jn.prototype.getLastErrorCode=jn.prototype.ya,jn.prototype.getStatus=jn.prototype.ca,jn.prototype.getResponseJson=jn.prototype.La,jn.prototype.getResponseText=jn.prototype.la,jn.prototype.send=jn.prototype.ea,jn.prototype.setWithCredentials=jn.prototype.Fa,y4=jn}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",tb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new a4("@firebase/firestore");function Th(){return xc.logLevel}function ae(r,...t){if(xc.logLevel<=Dn.DEBUG){const e=t.map(p2);xc.debug(`Firestore (${tf}): ${r}`,...e)}}function ks(r,...t){if(xc.logLevel<=Dn.ERROR){const e=t.map(p2);xc.error(`Firestore (${tf}): ${r}`,...e)}}function Ac(r,...t){if(xc.logLevel<=Dn.WARN){const e=t.map(p2);xc.warn(`Firestore (${tf}): ${r}`,...e)}}function p2(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,x4(r,n,e)}function x4(r,t,e){let n=`FIRESTORE (${tf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw ks(n),new Error(n)}function qe(r,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r||x4(t,s,n)}function an(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Dc{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(is.UNAUTHENTICATED)))}shutdown(){}}class qS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class HS{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qe(this.o===void 0,42304);let n=this.i;const s=f=>this.i!==n?(n=this.i,e(f)):Promise.resolve();let o=new jl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jl,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(qe(typeof n.accessToken=="string",31837,{l:n}),new A4(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qe(t===null||typeof t=="string",2055,{h:t}),new is(t)}}class GS{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KS{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new GS(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(is.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $S{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,c4(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qe(this.o===void 0,3512);const n=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>n(o)))};const s=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new eb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=YS(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<e&&(n+=t.charAt(s[o]%62))}return n}}function sn(r,t){return r<t?-1:r>t?1:0}function Sg(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const s=r.charAt(n),o=t.charAt(n);if(s!==o)return U0(s)===U0(o)?sn(s,o):U0(s)?1:-1}return sn(r.length,t.length)}const QS=55296,XS=57343;function U0(r){const t=r.charCodeAt(0);return t>=QS&&t<=XS}function Uh(r,t,e){return r.length===t.length&&r.every(((n,s)=>e(n,t[s])))}function E4(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="__name__";class Xo{constructor(t,e,n){e===void 0?e=0:e>t.length&&Me(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Me(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Xo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xo?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=Xo.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return sn(t.length,e.length)}static compareSegments(t,e){const n=Xo.isNumericId(t),s=Xo.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?Xo.extractNumericId(t).compare(Xo.extractNumericId(e)):Sg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cu.fromString(t.substring(4,t.length-2))}}class Hn extends Xo{construct(t,e,n){return new Hn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new ge(Kt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((s=>s.length>0)))}return new Hn(e)}static emptyPath(){return new Hn([])}}const WS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Xo{construct(t,e,n){return new Fr(t,e,n)}static isValidIdentifier(t){return WS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nb}static keyField(){return new Fr([nb])}static fromServerFormat(t){const e=[];let n="",s=0;const o=()=>{if(n.length===0)throw new ge(Kt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let u=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new ge(Kt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(Kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(n+=c,s++):(o(),s++)}if(o(),u)throw new ge(Kt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fr(e)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.path=t}static fromPath(t){return new _e(Hn.fromString(t))}static fromName(t){return new _e(Hn.fromString(t).popFirst(5))}static empty(){return new _e(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Hn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _e(new Hn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(r,t,e){if(!e)throw new ge(Kt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ZS(r,t,e,n){if(t===!0&&n===!0)throw new ge(Kt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function rb(r){if(!_e.isDocumentKey(r))throw new ge(Kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ib(r){if(_e.isDocumentKey(r))throw new ge(Kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function T4(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Q1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Me(12329,{type:typeof r})}function Ka(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ge(Kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Q1(r);throw new ge(Kt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(r,t){const e={typeString:r};return t&&(e.value=t),e}function Ld(r,t){if(!T4(r))throw new ge(Kt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const s=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const u=r[n];if(s&&typeof u!==s){e=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${n}' field to equal '${o.value}'`;break}}if(e)throw new ge(Kt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=-62135596800,ab=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(t){return On.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*ab);return new On(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ge(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ge(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<sb)throw new ge(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ge(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ab}_compareTo(t){return this.seconds===t.seconds?sn(this.nanoseconds,t.nanoseconds):sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:On._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ld(t,On._jsonSchema))return new On(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}On._jsonSchemaVersion="firestore/timestamp/1.0",On._jsonSchema={type:pi("string",On._jsonSchemaVersion),seconds:pi("number"),nanoseconds:pi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new On(0,0))}static max(){return new Xe(new On(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;class x1{constructor(t,e,n,s){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=s}}function Tg(r){return r.fields.find((t=>t.kind===2))}function ac(r){return r.fields.filter((t=>t.kind!==2))}x1.UNKNOWN_ID=-1;class Jp{constructor(t,e){this.fieldPath=t,this.kind=e}}class gd{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new gd(0,Ea.min())}}function JS(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(n===1e9?new On(e+1,0):new On(e,n));return new Ea(s,_e.empty(),t)}function N4(r){return new Ea(r.readTime,r.key,md)}class Ea{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Ea(Xe.min(),_e.empty(),md)}static max(){return new Ea(Xe.max(),_e.empty(),md)}}function g2(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=_e.comparator(r.documentKey,t.documentKey),e!==0?e:sn(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r){if(r.code!==Kt.FAILED_PRECONDITION||r.message!==I4)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Lt(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Lt?e:Lt.resolve(e)}catch(e){return Lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Lt.reject(e)}static resolve(t){return new Lt(((e,n)=>{e(t)}))}static reject(t){return new Lt(((e,n)=>{n(t)}))}static waitFor(t){return new Lt(((e,n)=>{let s=0,o=0,u=!1;t.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&e()}),(f=>n(f)))})),u=!0,o===s&&e()}))}static or(t){let e=Lt.resolve(!1);for(const n of t)e=e.next((s=>s?Lt.resolve(s):n()));return e}static forEach(t,e){const n=[];return t.forEach(((s,o)=>{n.push(e.call(this,s,o))})),this.waitFor(n)}static mapArray(t,e){return new Lt(((n,s)=>{const o=t.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((p=>{u[d]=p,++c,c===o&&n(u)}),(p=>s(p)))}}))}static doWhile(t,e){return new Lt(((n,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):n()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="SimpleDb";class X1{static open(t,e,n,s){try{return new X1(e,t.transaction(s,n))}catch(o){throw new rd(e,o)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new jl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new rd(t,e.error)):this.S.resolve()},this.transaction.onerror=n=>{const s=y2(n.target.error);this.S.reject(new rd(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(ae(wa,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new eT(e)}}class Ru{static delete(t){return ae(wa,"Removing database:",t),uc(Qw().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!i4())return!1;if(Ru.F())return!0;const t=b1(),e=Ru.M(t),n=0<e&&e<10,s=R4(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static F(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)==null?void 0:t.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(t,e,n){this.name=t,this.version=e,this.N=n,this.B=null,Ru.M(b1())===12.2&&ks("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(ae(wa,"Opening database:",this.name),this.db=await new Promise(((e,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;e(u)},s.onblocked=()=>{n(new rd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?n(new ge(Kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?n(new ge(Kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):n(new rd(t,u))},s.onupgradeneeded=o=>{ae(wa,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{ae(wa,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,s){const o=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const c=X1.open(this.db,t,o?"readonly":"readwrite",n),f=s(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),Lt.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&u<3;if(ae(wa,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function R4(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class tT{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return uc(this.U.delete())}}class rd extends ge{constructor(t,e){super(Kt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Vu(r){return r.name==="IndexedDbTransactionError"}class eT{constructor(t){this.store=t}put(t,e){let n;return e!==void 0?(ae(wa,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(ae(wa,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),uc(n)}add(t){return ae(wa,"ADD",this.store.name,t,t),uc(this.store.add(t))}get(t){return uc(this.store.get(t)).next((e=>(e===void 0&&(e=null),ae(wa,"GET",this.store.name,t,e),e)))}delete(t){return ae(wa,"DELETE",this.store.name,t),uc(this.store.delete(t))}count(){return ae(wa,"COUNT",this.store.name),uc(this.store.count())}J(t,e){const n=this.options(t,e),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(n.range);return new Lt(((u,c)=>{o.onerror=f=>{c(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(n),u=[];return this.H(o,((c,f)=>{u.push(f)})).next((()=>u))}}Y(t,e){const n=this.store.getAll(t,e===null?void 0:e);return new Lt(((s,o)=>{n.onerror=u=>{o(u.target.error)},n.onsuccess=u=>{s(u.target.result)}}))}Z(t,e){ae(wa,"DELETE ALL",this.store.name);const n=this.options(t,e);n.X=!1;const s=this.cursor(n);return this.H(s,((o,u,c)=>c.delete()))}ee(t,e){let n;e?n=t:(n={},e=t);const s=this.cursor(n);return this.H(s,e)}te(t){const e=this.cursor({});return new Lt(((n,s)=>{e.onerror=o=>{const u=y2(o.target.error);s(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next((c=>{c?u.continue():n()})):n()}}))}H(t,e){const n=[];return new Lt(((s,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const c=u.target.result;if(!c)return void s();const f=new tT(c),d=e(c.primaryKey,c.value,f);if(d instanceof Lt){const p=d.catch((v=>(f.done(),Lt.reject(v))));n.push(p)}f.isDone?s():f.G===null?c.continue():c.continue(f.G)}})).next((()=>Lt.waitFor(n)))}options(t,e){let n;return t!==void 0&&(typeof t=="string"?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.X?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function uc(r){return new Lt(((t,e)=>{r.onsuccess=n=>{const s=n.target.result;t(s)},r.onerror=n=>{const s=y2(n.target.error);e(s)}}))}let ob=!1;function y2(r){const t=Ru.M(b1());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(e)>=0){const n=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ob||(ob=!0,setTimeout((()=>{throw n}),0)),n}}return r}const id="IndexBackfiller";class nT{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){ae(id,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();ae(id,`Documents written: ${e}`)}catch(e){Vu(e)?ae(id,"Ignoring IndexedDB error during index backfill: ",e):await kc(e)}await this.re(6e4)}))}}class rT{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const n=new Set;let s=e,o=!0;return Lt.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!n.has(u))return ae(id,`Processing collection: ${u}`),this.oe(t,u,s).next((c=>{s-=c,n.add(u)}));o=!1})))).next((()=>e-s))}oe(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((s=>this.localStore.localDocuments.getNextDocuments(t,e,s,n).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(s,o))).next((c=>(ae(id,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c)))).next((()=>u.size))}))))}_e(t,e){let n=t;return e.changes.forEach(((s,o)=>{const u=N4(o);g2(u,n)>0&&(n=u)})),new Ea(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ga.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function W1(r){return r==null}function yd(r){return r===0&&1/r==-1/0}function iT(r){return typeof r=="number"&&Number.isInteger(r)&&!yd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function xs(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=lb(t)),t=sT(r.get(e),t);return lb(t)}function sT(r,t){let e=t;const n=r.length;for(let s=0;s<n;s++){const o=r.charAt(s);switch(o){case"\0":e+="";break;case A1:e+="";break;default:e+=o}}return e}function lb(r){return r+A1+""}function Zo(r){const t=r.length;if(qe(t>=2,64408,{path:r}),t===2)return qe(r.charAt(0)===A1&&r.charAt(1)==="",56145,{path:r}),Hn.emptyPath();const e=t-2,n=[];let s="";for(let o=0;o<t;){const u=r.indexOf(A1,o);switch((u<0||u>e)&&Me(50515,{path:r}),r.charAt(u+1)){case"":const c=r.substring(o,u);let f;s.length===0?f=c:(s+=c,f=s,s=""),n.push(f);break;case"":s+=r.substring(o,u),s+="\0";break;case"":s+=r.substring(o,u+1);break;default:Me(61167,{path:r})}o=u+2}return new Hn(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="remoteDocuments",Dd="owner",yh="owner",vd="mutationQueues",aT="userId",bo="mutations",ub="batchId",pc="userMutationsIndex",cb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,t){return[r,xs(t)]}function L4(r,t,e){return[r,xs(t),e]}const oT={},zh="documentMutations",E1="remoteDocumentsV14",lT=["prefixPath","collectionGroup","readTime","documentId"],e1="documentKeyIndex",uT=["prefixPath","collectionGroup","documentId"],D4="collectionGroupIndex",cT=["collectionGroup","readTime","prefixPath","documentId"],bd="remoteDocumentGlobal",Ng="remoteDocumentGlobalKey",qh="targets",k4="queryTargetsIndex",hT=["canonicalId","targetId"],Hh="targetDocuments",fT=["targetId","path"],v2="documentTargetsIndex",dT=["path","targetId"],S1="targetGlobalKey",yc="targetGlobal",_d="collectionParents",pT=["collectionId","parent"],Gh="clientMetadata",mT="clientId",Z1="bundles",gT="bundleId",J1="namedQueries",yT="name",b2="indexConfiguration",vT="indexId",Ig="collectionGroupIndex",bT="collectionGroup",sd="indexState",_T=["indexId","uid"],P4="sequenceNumberIndex",wT=["uid","sequenceNumber"],ad="indexEntries",xT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],O4="documentKeyIndex",AT=["indexId","uid","orderedDocumentKey"],tm="documentOverlays",ET=["userId","collectionPath","documentId"],Cg="collectionPathOverlayIndex",ST=["userId","collectionPath","largestBatchId"],M4="collectionGroupOverlayIndex",TT=["userId","collectionGroup","largestBatchId"],_2="globals",NT="name",j4=[vd,bo,zh,oc,qh,Dd,yc,Hh,Gh,bd,_d,Z1,J1],IT=[...j4,tm],V4=[vd,bo,zh,E1,qh,Dd,yc,Hh,Gh,bd,_d,Z1,J1,tm],F4=V4,w2=[...F4,b2,sd,ad],CT=w2,B4=[...w2,_2],RT=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends C4{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Ii(r,t){const e=an(r);return Ru.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Fu(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function U4(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,e){this.comparator=t,this.root=e||ss.EMPTY}insert(t,e){return new Lr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(t){return new Lr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ss.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Op(this.root,t,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Op(this.root,t,this.comparator,!0)}}class Op{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ss{constructor(t,e,n,s,o){this.key=t,this.value=e,this.color=n??ss.RED,this.left=s??ss.EMPTY,this.right=o??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,o){return new ss(t??this.key,e??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const o=n(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,n),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ss.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Me(27949);return t+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1;ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(t,e,n,s,o){return this}insert(t,e,n){return new ss(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.comparator=t,this.data=new Lr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(t){return new fb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof nr)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new nr(this.comparator);return e.data=t,e}}class fb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.fields=t,t.sort(Fr.comparator)}static empty(){return new ia([])}unionWith(t){let e=new nr(Fr.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ia(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Uh(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new z4("Invalid base64 string: "+o):o}})(t);return new mi(e)}static fromUint8Array(t){const e=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(t);return new mi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const LT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(r){if(qe(!!r,39018),typeof r=="string"){let t=0;const e=LT.exec(r);if(qe(!!e,46558,{timestamp:r}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Rr(r.seconds),nanos:Rr(r.nanos)}}function Rr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Bl(r){return typeof r=="string"?mi.fromBase64String(r):mi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="server_timestamp",H4="__type__",G4="__previous_value__",K4="__local_write_time__";function x2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[H4])==null?void 0:n.stringValue)===q4}function em(r){const t=r.mapValue.fields[G4];return x2(t)?em(t):t}function wd(r){const t=Fl(r.mapValue.fields[K4].timestampValue);return new On(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,e,n,s,o,u,c,f,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p}}const T1="(default)";class Ec{constructor(t,e){this.projectId=t,this.database=e||T1}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===T1}isEqual(t){return t instanceof Ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__type__",$4="__max__",Eu={mapValue:{fields:{__type__:{stringValue:$4}}}},E2="__vector__",Kh="value",n1={nullValue:"NULL_VALUE"};function Du(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?x2(r)?4:Y4(r)?9007199254740991:nm(r)?10:11:Me(28295,{value:r})}function rl(r,t){if(r===t)return!0;const e=Du(r);if(e!==Du(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wd(r).isEqual(wd(t));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Fl(s.timestampValue),c=Fl(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(s,o){return Bl(s.bytesValue).isEqual(Bl(o.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(s,o){return Rr(s.geoPointValue.latitude)===Rr(o.geoPointValue.latitude)&&Rr(s.geoPointValue.longitude)===Rr(o.geoPointValue.longitude)})(r,t);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Rr(s.integerValue)===Rr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Rr(s.doubleValue),c=Rr(o.doubleValue);return u===c?yd(u)===yd(c):isNaN(u)&&isNaN(c)}return!1})(r,t);case 9:return Uh(r.arrayValue.values||[],t.arrayValue.values||[],rl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(hb(u)!==hb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!rl(u[f],c[f])))return!1;return!0})(r,t);default:return Me(52216,{left:r})}}function xd(r,t){return(r.values||[]).find((e=>rl(e,t)))!==void 0}function ku(r,t){if(r===t)return 0;const e=Du(r),n=Du(t);if(e!==n)return sn(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return sn(r.booleanValue,t.booleanValue);case 2:return(function(o,u){const c=Rr(o.integerValue||o.doubleValue),f=Rr(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(r,t);case 3:return db(r.timestampValue,t.timestampValue);case 4:return db(wd(r),wd(t));case 5:return Sg(r.stringValue,t.stringValue);case 6:return(function(o,u){const c=Bl(o),f=Bl(u);return c.compareTo(f)})(r.bytesValue,t.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const p=sn(c[d],f[d]);if(p!==0)return p}return sn(c.length,f.length)})(r.referenceValue,t.referenceValue);case 8:return(function(o,u){const c=sn(Rr(o.latitude),Rr(u.latitude));return c!==0?c:sn(Rr(o.longitude),Rr(u.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pb(r.arrayValue,t.arrayValue);case 10:return(function(o,u){var w,y,C,D;const c=o.fields||{},f=u.fields||{},d=(w=c[Kh])==null?void 0:w.arrayValue,p=(y=f[Kh])==null?void 0:y.arrayValue,v=sn(((C=d==null?void 0:d.values)==null?void 0:C.length)||0,((D=p==null?void 0:p.values)==null?void 0:D.length)||0);return v!==0?v:pb(d,p)})(r.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Eu.mapValue&&u===Eu.mapValue)return 0;if(o===Eu.mapValue)return 1;if(u===Eu.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const w=Sg(f[v],p[v]);if(w!==0)return w;const y=ku(c[f[v]],d[p[v]]);if(y!==0)return y}return sn(f.length,p.length)})(r.mapValue,t.mapValue);default:throw Me(23264,{he:e})}}function db(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return sn(r,t);const e=Fl(r),n=Fl(t),s=sn(e.seconds,n.seconds);return s!==0?s:sn(e.nanos,n.nanos)}function pb(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const o=ku(e[s],n[s]);if(o)return o}return sn(e.length,n.length)}function $h(r){return Lg(r)}function Lg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const n=Fl(e);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return Bl(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return _e.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let n="[",s=!0;for(const o of e.values||[])s?s=!1:n+=",",n+=Lg(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(e){const n=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of n)o?o=!1:s+=",",s+=`${u}:${Lg(e.fields[u])}`;return s+"}"})(r.mapValue):Me(61005,{value:r})}function r1(r){switch(Du(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=em(r);return t?16+r1(t):16;case 5:return 2*r.stringValue.length;case 6:return Bl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+r1(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return Fu(n.fields,((o,u)=>{s+=o.length+r1(u)})),s})(r.mapValue);default:throw Me(13486,{value:r})}}function Ad(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Dg(r){return!!r&&"integerValue"in r}function Ed(r){return!!r&&"arrayValue"in r}function mb(r){return!!r&&"nullValue"in r}function gb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function i1(r){return!!r&&"mapValue"in r}function nm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[A2])==null?void 0:n.stringValue)===E2}function od(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Fu(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=od(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=od(r.arrayValue.values[e]);return t}return{...r}}function Y4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$4}const Q4={mapValue:{fields:{[A2]:{stringValue:E2},[Kh]:{arrayValue:{}}}}};function kT(r){return"nullValue"in r?n1:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ad(Ec.empty(),_e.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?nm(r)?Q4:{mapValue:{}}:Me(35942,{value:r})}function PT(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ad(Ec.empty(),_e.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?Q4:"mapValue"in r?nm(r)?{mapValue:{}}:Eu:Me(61959,{value:r})}function yb(r,t){const e=ku(r.value,t.value);return e!==0?e:r.inclusive&&!t.inclusive?-1:!r.inclusive&&t.inclusive?1:0}function vb(r,t){const e=ku(r.value,t.value);return e!==0?e:r.inclusive&&!t.inclusive?1:!r.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.value=t}static empty(){return new ws({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!i1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=od(e)}setAll(t){let e=Fr.emptyPath(),n={},s=[];t.forEach(((u,c)=>{if(!e.isImmediateParentOf(c)){const f=this.getFieldsMap(e);this.applyChanges(f,n,s),n={},s=[],e=c.popLast()}u?n[c.lastSegment()]=od(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,n,s)}delete(t){const e=this.field(t.popLast());i1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];i1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){Fu(e,((s,o)=>t[s]=o));for(const s of n)delete t[s]}clone(){return new ws(od(this.value))}}function X4(r){const t=[];return Fu(r.fields,((e,n)=>{const s=new Fr([e]);if(i1(n)){const o=X4(n.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)})),new ia(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,e,n,s,o,u,c){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(t){return new Wr(t,0,Xe.min(),Xe.min(),Xe.min(),ws.empty(),0)}static newFoundDocument(t,e,n,s){return new Wr(t,1,e,Xe.min(),n,s,0)}static newNoDocument(t,e){return new Wr(t,2,e,Xe.min(),Xe.min(),ws.empty(),0)}static newUnknownDocument(t,e){return new Wr(t,3,e,Xe.min(),Xe.min(),ws.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Wr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e){this.position=t,this.inclusive=e}}function bb(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const o=t[s],u=r.position[s];if(o.field.isKeyField()?n=_e.comparator(_e.fromName(u.referenceValue),e.key):n=ku(u,e.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function _b(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!rl(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e="asc"){this.field=t,this.dir=e}}function OT(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{}class En extends W4{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new MT(t,e,n):e==="array-contains"?new FT(t,n):e==="in"?new r3(t,n):e==="not-in"?new BT(t,n):e==="array-contains-any"?new UT(t,n):new En(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new jT(t,n):new VT(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ku(e,this.value)):e!==null&&Du(this.value)===Du(e)&&this.matchesComparison(ku(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends W4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new er(t,e)}matches(t){return Qh(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qh(r){return r.op==="and"}function kg(r){return r.op==="or"}function S2(r){return Z4(r)&&Qh(r)}function Z4(r){for(const t of r.filters)if(t instanceof er)return!1;return!0}function Pg(r){if(r instanceof En)return r.field.canonicalString()+r.op.toString()+$h(r.value);if(S2(r))return r.filters.map((t=>Pg(t))).join(",");{const t=r.filters.map((e=>Pg(e))).join(",");return`${r.op}(${t})`}}function J4(r,t){return r instanceof En?(function(n,s){return s instanceof En&&n.op===s.op&&n.field.isEqual(s.field)&&rl(n.value,s.value)})(r,t):r instanceof er?(function(n,s){return s instanceof er&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,u,c)=>o&&J4(u,s.filters[c])),!0):!1})(r,t):void Me(19439)}function t3(r,t){const e=r.filters.concat(t);return er.create(e,r.op)}function e3(r){return r instanceof En?(function(e){return`${e.field.canonicalString()} ${e.op} ${$h(e.value)}`})(r):r instanceof er?(function(e){return e.op.toString()+" {"+e.getFilters().map(e3).join(" ,")+"}"})(r):"Filter"}class MT extends En{constructor(t,e,n){super(t,e,n),this.key=_e.fromName(n.referenceValue)}matches(t){const e=_e.comparator(t.key,this.key);return this.matchesComparison(e)}}class jT extends En{constructor(t,e){super(t,"in",e),this.keys=n3("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class VT extends En{constructor(t,e){super(t,"not-in",e),this.keys=n3("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function n3(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((n=>_e.fromName(n.referenceValue)))}class FT extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ed(e)&&xd(e.arrayValue,this.value)}}class r3 extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&xd(this.value.arrayValue,e)}}class BT extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!xd(this.value.arrayValue,e)}}class UT extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ed(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>xd(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,e=null,n=[],s=[],o=null,u=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Og(r,t=null,e=[],n=[],s=null,o=null,u=null){return new zT(r,t,e,n,s,o,u)}function Sc(r){const t=an(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>Pg(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),W1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>$h(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>$h(n))).join(",")),t.Te=e}return t.Te}function kd(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!OT(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!J4(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_b(r.startAt,t.startAt)&&_b(r.endAt,t.endAt)}function N1(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function I1(r,t){return r.filters.filter((e=>e instanceof En&&e.field.isEqual(t)))}function wb(r,t,e){let n=n1,s=!0;for(const o of I1(r,t)){let u=n1,c=!0;switch(o.op){case"<":case"<=":u=kT(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,c=!1;break;case"!=":case"not-in":u=n1}yb({value:n,inclusive:s},{value:u,inclusive:c})<0&&(n=u,s=c)}if(e!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(t)){const u=e.position[o];yb({value:n,inclusive:s},{value:u,inclusive:e.inclusive})<0&&(n=u,s=e.inclusive);break}}return{value:n,inclusive:s}}function xb(r,t,e){let n=Eu,s=!0;for(const o of I1(r,t)){let u=Eu,c=!0;switch(o.op){case">=":case">":u=PT(o.value),c=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,c=!1;break;case"!=":case"not-in":u=Eu}vb({value:n,inclusive:s},{value:u,inclusive:c})>0&&(n=u,s=c)}if(e!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(t)){const u=e.position[o];vb({value:n,inclusive:s},{value:u,inclusive:e.inclusive})>0&&(n=u,s=e.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,e=null,n=[],s=[],o=null,u="F",c=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qT(r,t,e,n,s,o,u,c){return new ef(r,t,e,n,s,o,u,c)}function rm(r){return new ef(r)}function Ab(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function i3(r){return r.collectionGroup!==null}function ld(r){const t=an(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new nr(Fr.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Sd(o,n))})),e.has(Fr.keyField().canonicalString())||t.Ie.push(new Sd(Fr.keyField(),n))}return t.Ie}function $a(r){const t=an(r);return t.Ee||(t.Ee=HT(t,ld(r))),t.Ee}function HT(r,t){if(r.limitType==="F")return Og(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Sd(s.field,o)}));const e=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return Og(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function Mg(r,t){const e=r.filters.concat([t]);return new ef(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function jg(r,t,e){return new ef(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function im(r,t){return kd($a(r),$a(t))&&r.limitType===t.limitType}function s3(r){return`${Sc($a(r))}|lt:${r.limitType}`}function Nh(r){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((s=>e3(s))).join(", ")}]`),W1(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>$h(s))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>$h(s))).join(",")),`Target(${n})`})($a(r))}; limitType=${r.limitType})`}function Pd(r,t){return t.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,t)&&(function(n,s){for(const o of ld(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(r,t)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(r,t)&&(function(n,s){return!(n.startAt&&!(function(u,c,f){const d=bb(u,c,f);return u.inclusive?d<=0:d<0})(n.startAt,ld(n),s)||n.endAt&&!(function(u,c,f){const d=bb(u,c,f);return u.inclusive?d>=0:d>0})(n.endAt,ld(n),s))})(r,t)}function GT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function a3(r){return(t,e)=>{let n=!1;for(const s of ld(r)){const o=KT(s,t,e);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function KT(r,t,e){const n=r.field.isKeyField()?_e.comparator(t.key,e.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?ku(f,d):Me(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Me(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Fu(this.inner,((e,n)=>{for(const[s,o]of n)t(s,o)}))}isEmpty(){return U4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Lr(_e.comparator);function xa(){return $T}const o3=new Lr(_e.comparator);function Wf(...r){let t=o3;for(const e of r)t=t.insert(e.key,e);return t}function l3(r){let t=o3;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Jo(){return ud()}function u3(){return ud()}function ud(){return new Ul((r=>r.toString()),((r,t)=>r.isEqual(t)))}const YT=new Lr(_e.comparator),QT=new nr(_e.comparator);function mn(...r){let t=QT;for(const e of r)t=t.add(e);return t}const XT=new nr(sn);function WT(){return XT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(t)?"-0":t}}function c3(r){return{integerValue:""+r}}function ZT(r,t){return iT(t)?c3(t):T2(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function JT(r,t,e){return r instanceof Td?(function(s,o){const u={fields:{[H4]:{stringValue:q4},[K4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&x2(o)&&(o=em(o)),o&&(u.fields[G4]=o),{mapValue:u}})(e,t):r instanceof Xh?f3(r,t):r instanceof Wh?d3(r,t):(function(s,o){const u=h3(s,o),c=Eb(u)+Eb(s.Ae);return Dg(u)&&Dg(s.Ae)?c3(c):T2(s.serializer,c)})(r,t)}function tN(r,t,e){return r instanceof Xh?f3(r,t):r instanceof Wh?d3(r,t):e}function h3(r,t){return r instanceof Nd?(function(n){return Dg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(t)?t:{integerValue:0}:null}class Td extends sm{}class Xh extends sm{constructor(t){super(),this.elements=t}}function f3(r,t){const e=p3(t);for(const n of r.elements)e.some((s=>rl(s,n)))||e.push(n);return{arrayValue:{values:e}}}class Wh extends sm{constructor(t){super(),this.elements=t}}function d3(r,t){let e=p3(t);for(const n of r.elements)e=e.filter((s=>!rl(s,n)));return{arrayValue:{values:e}}}class Nd extends sm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Eb(r){return Rr(r.integerValue||r.doubleValue)}function p3(r){return Ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,e){this.field=t,this.transform=e}}function nN(r,t){return r.field.isEqual(t.field)&&(function(n,s){return n instanceof Xh&&s instanceof Xh||n instanceof Wh&&s instanceof Wh?Uh(n.elements,s.elements,rl):n instanceof Nd&&s instanceof Nd?rl(n.Ae,s.Ae):n instanceof Td&&s instanceof Td})(r.transform,t.transform)}class rN{constructor(t,e){this.version=t,this.transformResults=e}}class Ps{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ps}static exists(t){return new Ps(void 0,t)}static updateTime(t){return new Ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function s1(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class am{}function m3(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new om(r.key,Ps.none()):new nf(r.key,r.data,Ps.none());{const e=r.data,n=ws.empty();let s=new nr(Fr.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?n.delete(o):n.set(o,u),s=s.add(o)}return new zl(r.key,n,new ia(s.toArray()),Ps.none())}}function iN(r,t,e){r instanceof nf?(function(s,o,u){const c=s.value.clone(),f=Tb(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(r,t,e):r instanceof zl?(function(s,o,u){if(!s1(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Tb(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(g3(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,t,e):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function cd(r,t,e,n){return r instanceof nf?(function(o,u,c,f){if(!s1(o.precondition,u))return c;const d=o.value.clone(),p=Nb(o.fieldTransforms,f,u);return d.setAll(p),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(r,t,e,n):r instanceof zl?(function(o,u,c,f){if(!s1(o.precondition,u))return c;const d=Nb(o.fieldTransforms,f,u),p=u.data;return p.setAll(g3(o)),p.setAll(d),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(r,t,e,n):(function(o,u,c){return s1(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(r,t,e)}function sN(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),o=h3(n.transform,s||null);o!=null&&(e===null&&(e=ws.empty()),e.set(n.field,o))}return e||null}function Sb(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Uh(n,s,((o,u)=>nN(o,u)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nf extends am{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zl extends am{constructor(t,e,n,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function g3(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function Tb(r,t,e){const n=new Map;qe(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let s=0;s<e.length;s++){const o=r[s],u=o.transform,c=t.data.field(o.field);n.set(o.field,tN(u,c,e[s]))}return n}function Nb(r,t,e){const n=new Map;for(const s of r){const o=s.transform,u=e.data.field(s.field);n.set(s.field,JT(o,u,t))}return n}class om extends am{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y3 extends am{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&iN(o,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=cd(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=cd(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=u3();return this.mutations.forEach((s=>{const o=t.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=e.has(s.key)?null:c;const f=m3(u,c);f!==null&&n.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Xe.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),mn())}isEqual(t){return this.batchId===t.batchId&&Uh(this.mutations,t.mutations,((e,n)=>Sb(e,n)))&&Uh(this.baseMutations,t.baseMutations,((e,n)=>Sb(e,n)))}}class I2{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){qe(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let s=(function(){return YT})();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,n[u].version);return new I2(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di,Ln;function oN(r){switch(r){case Kt.OK:return Me(64938);case Kt.CANCELLED:case Kt.UNKNOWN:case Kt.DEADLINE_EXCEEDED:case Kt.RESOURCE_EXHAUSTED:case Kt.INTERNAL:case Kt.UNAVAILABLE:case Kt.UNAUTHENTICATED:return!1;case Kt.INVALID_ARGUMENT:case Kt.NOT_FOUND:case Kt.ALREADY_EXISTS:case Kt.PERMISSION_DENIED:case Kt.FAILED_PRECONDITION:case Kt.ABORTED:case Kt.OUT_OF_RANGE:case Kt.UNIMPLEMENTED:case Kt.DATA_LOSS:return!0;default:return Me(15467,{code:r})}}function v3(r){if(r===void 0)return ks("GRPC error has no .code"),Kt.UNKNOWN;switch(r){case di.OK:return Kt.OK;case di.CANCELLED:return Kt.CANCELLED;case di.UNKNOWN:return Kt.UNKNOWN;case di.DEADLINE_EXCEEDED:return Kt.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return Kt.RESOURCE_EXHAUSTED;case di.INTERNAL:return Kt.INTERNAL;case di.UNAVAILABLE:return Kt.UNAVAILABLE;case di.UNAUTHENTICATED:return Kt.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return Kt.INVALID_ARGUMENT;case di.NOT_FOUND:return Kt.NOT_FOUND;case di.ALREADY_EXISTS:return Kt.ALREADY_EXISTS;case di.PERMISSION_DENIED:return Kt.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return Kt.FAILED_PRECONDITION;case di.ABORTED:return Kt.ABORTED;case di.OUT_OF_RANGE:return Kt.OUT_OF_RANGE;case di.UNIMPLEMENTED:return Kt.UNIMPLEMENTED;case di.DATA_LOSS:return Kt.DATA_LOSS;default:return Me(39323,{code:r})}}(Ln=di||(di={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Cu([4294967295,4294967295],0);function Ib(r){const t=lN().encode(r),e=new g4;return e.update(t),new Uint8Array(e.digest())}function Cb(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Cu([e,n],0),new Cu([s,o],0)]}class R2{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Zf(`Invalid padding: ${e}`);if(n<0)throw new Zf(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cu.fromNumber(this.ge)}ye(t,e,n){let s=t.add(e.multiply(Cu.fromNumber(n)));return s.compare(uN)===1&&(s=new Cu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Ib(t),[n,s]=Cb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(n,s,o);if(!this.we(u))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new R2(o,s,e);return n.forEach((c=>u.insert(c))),u}insert(t){if(this.ge===0)return;const e=Ib(t),[n,s]=Cb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(n,s,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,e,n,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,Od.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new lm(Xe.min(),s,new Lr(sn),xa(),mn())}}class Od{constructor(t,e,n,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Od(n,e,mn(),mn(),mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,e,n,s){this.be=t,this.removedTargetIds=e,this.key=n,this.De=s}}class b3{constructor(t,e){this.targetId=t,this.Ce=e}}class _3{constructor(t,e,n=mi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class Rb{constructor(){this.ve=0,this.Fe=Lb(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=mn(),e=mn(),n=mn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:Me(38017,{changeType:o})}})),new Od(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=Lb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cN{constructor(t){this.Ge=t,this.ze=new Map,this.je=xa(),this.Je=Mp(),this.He=Mp(),this.Ye=new Lr(sn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Me(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,n=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(N1(o))if(n===0){const u=new _e(o.path);this.et(e,u,Wr.newNoDocument(u,Xe.min()))}else qe(n===1,20013,{expectedCount:n});else{const u=this._t(e);if(u!==n){const c=this.ut(t),f=c?this.ct(c,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=e;let u,c;try{u=Bl(n).toUint8Array()}catch(f){if(f instanceof z4)return Ac("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new R2(u,s,o)}catch(f){return Ac(f instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let s=0;return n.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&N1(c.target)){const f=new _e(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Wr.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let n=mn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const s=new lm(t,e,this.Ye,this.je,n);return this.je=xa(),this.Je=Mp(),this.He=Mp(),this.Ye=new Lr(sn),s}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Rb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new nr(sn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new nr(sn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ae("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Mp(){return new Lr(_e.comparator)}function Lb(){return new Lr(_e.comparator)}const hN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class pN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Vg(r,t){return r.useProto3Json||W1(t)?t:{value:t}}function Zh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w3(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function mN(r,t){return Zh(r,t.toTimestamp())}function Os(r){return qe(!!r,49232),Xe.fromTimestamp((function(e){const n=Fl(e);return new On(n.seconds,n.nanos)})(r))}function L2(r,t){return Fg(r,t).canonicalString()}function Fg(r,t){const e=(function(s){return new Hn(["projects",s.projectId,"databases",s.database])})(r).child("documents");return t===void 0?e:e.child(t)}function x3(r){const t=Hn.fromString(r);return qe(L3(t),10190,{key:t.toString()}),t}function C1(r,t){return L2(r.databaseId,t.path)}function vc(r,t){const e=x3(t);if(e.get(1)!==r.databaseId.projectId)throw new ge(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new ge(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new _e(S3(e))}function A3(r,t){return L2(r.databaseId,t)}function E3(r){const t=x3(r);return t.length===4?Hn.emptyPath():S3(t)}function Bg(r){return new Hn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S3(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Db(r,t,e){return{name:C1(r,t),fields:e.value.mapValue.fields}}function gN(r,t,e){const n=vc(r,t.name),s=Os(t.updateTime),o=t.createTime?Os(t.createTime):Xe.min(),u=new ws({mapValue:{fields:t.fields}}),c=Wr.newFoundDocument(n,s,o,u);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function yN(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(qe(p===void 0||typeof p=="string",58123),mi.fromBase64String(p||"")):(qe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),mi.fromUint8Array(p||new Uint8Array))})(r,t.targetChange.resumeToken),u=t.targetChange.cause,c=u&&(function(d){const p=d.code===void 0?Kt.UNKNOWN:v3(d.code);return new ge(p,d.message||"")})(u);e=new _3(n,s,o,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=vc(r,n.document.name),o=Os(n.document.updateTime),u=n.document.createTime?Os(n.document.createTime):Xe.min(),c=new ws({mapValue:{fields:n.document.fields}}),f=Wr.newFoundDocument(s,o,u,c),d=n.targetIds||[],p=n.removedTargetIds||[];e=new a1(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=vc(r,n.document),o=n.readTime?Os(n.readTime):Xe.min(),u=Wr.newNoDocument(s,o),c=n.removedTargetIds||[];e=new a1([],c,u.key,u)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=vc(r,n.document),o=n.removedTargetIds||[];e=new a1([],o,s,null)}else{if(!("filter"in t))return Me(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,u=new aN(s,o),c=n.targetId;e=new b3(c,u)}}return e}function R1(r,t){let e;if(t instanceof nf)e={update:Db(r,t.key,t.value)};else if(t instanceof om)e={delete:C1(r,t.key)};else if(t instanceof zl)e={update:Db(r,t.key,t.data),updateMask:AN(t.fieldMask)};else{if(!(t instanceof y3))return Me(16599,{Vt:t.type});e={verify:C1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(o,u){const c=u.transform;if(c instanceof Td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nd)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:u.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:mN(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)})(r,t.precondition)),e}function Ug(r,t){const e=t.currentDocument?(function(o){return o.updateTime!==void 0?Ps.updateTime(Os(o.updateTime)):o.exists!==void 0?Ps.exists(o.exists):Ps.none()})(t.currentDocument):Ps.none(),n=t.updateTransforms?t.updateTransforms.map((s=>(function(u,c){let f=null;if("setToServerValue"in c)qe(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new Td;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];f=new Xh(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];f=new Wh(p)}else"increment"in c?f=new Nd(u,c.increment):Me(16584,{proto:c});const d=Fr.fromServerFormat(c.fieldPath);return new eN(d,f)})(r,s))):[];if(t.update){t.update.name;const s=vc(r,t.update.name),o=new ws({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(f){const d=f.fieldPaths||[];return new ia(d.map((p=>Fr.fromServerFormat(p))))})(t.updateMask);return new zl(s,o,u,e,n)}return new nf(s,o,e,n)}if(t.delete){const s=vc(r,t.delete);return new om(s,e)}if(t.verify){const s=vc(r,t.verify);return new y3(s,e)}return Me(1463,{proto:t})}function vN(r,t){return r&&r.length>0?(qe(t!==void 0,14353),r.map((e=>(function(s,o){let u=s.updateTime?Os(s.updateTime):Os(o);return u.isEqual(Xe.min())&&(u=Os(o)),new rN(u,s.transformResults||[])})(e,t)))):[]}function T3(r,t){return{documents:[A3(r,t.path)]}}function N3(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=A3(r,s);const o=(function(d){if(d.length!==0)return R3(er.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((p=>(function(w){return{field:Ih(w.field),direction:_N(w.dir)}})(p)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const c=Vg(r,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function I3(r){let t=E3(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){qe(n===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(v){const w=C3(v);return w instanceof er&&S2(w)?w.getFilters():[w]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((w=>(function(C){return new Sd(Ch(C.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(e.orderBy));let c=null;e.limit&&(c=(function(v){let w;return w=typeof v=="object"?v.value:v,W1(w)?null:w})(e.limit));let f=null;e.startAt&&(f=(function(v){const w=!!v.before,y=v.values||[];return new Yh(y,w)})(e.startAt));let d=null;return e.endAt&&(d=(function(v){const w=!v.before,y=v.values||[];return new Yh(y,w)})(e.endAt)),qT(t,s,u,o,c,"F",f,d)}function bN(r,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function C3(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ch(e.unaryFilter.field);return En.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ch(e.unaryFilter.field);return En.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ch(e.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ch(e.unaryFilter.field);return En.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(r):r.fieldFilter!==void 0?(function(e){return En.create(Ch(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return er.create(e.compositeFilter.filters.map((n=>C3(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(e.compositeFilter.op))})(r):Me(30097,{filter:r})}function _N(r){return hN[r]}function wN(r){return fN[r]}function xN(r){return dN[r]}function Ih(r){return{fieldPath:r.canonicalString()}}function Ch(r){return Fr.fromServerFormat(r.fieldPath)}function R3(r){return r instanceof En?(function(e){if(e.op==="=="){if(gb(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NAN"}};if(mb(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gb(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NAN"}};if(mb(e.value))return{unaryFilter:{field:Ih(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(e.field),op:wN(e.op),value:e.value}}})(r):r instanceof er?(function(e){const n=e.getFilters().map((s=>R3(s)));return n.length===1?n[0]:{compositeFilter:{op:xN(e.op),filters:n}}})(r):Me(54877,{filter:r})}function AN(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function L3(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,e,n,s,o=Xe.min(),u=Xe.min(),c=mi.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(t){return new Ml(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t){this.yt=t}}function EN(r,t){let e;if(t.document)e=gN(r.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=_e.fromSegments(t.noDocument.path),s=Nc(t.noDocument.readTime);e=Wr.newNoDocument(n,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Me(56709);{const n=_e.fromSegments(t.unknownDocument.path),s=Nc(t.unknownDocument.version);e=Wr.newUnknownDocument(n,s)}}return t.readTime&&e.setReadTime((function(s){const o=new On(s[0],s[1]);return Xe.fromTimestamp(o)})(t.readTime)),e}function kb(r,t){const e=t.key,n={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:L1(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=(function(o,u){return{name:C1(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Zh(o,u.version.toTimestamp()),createTime:Zh(o,u.createTime.toTimestamp())}})(r.yt,t);else if(t.isNoDocument())n.noDocument={path:e.path.toArray(),readTime:Tc(t.version)};else{if(!t.isUnknownDocument())return Me(57904,{document:t});n.unknownDocument={path:e.path.toArray(),version:Tc(t.version)}}return n}function L1(r){const t=r.toTimestamp();return[t.seconds,t.nanoseconds]}function Tc(r){const t=r.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nc(r){const t=new On(r.seconds,r.nanoseconds);return Xe.fromTimestamp(t)}function cc(r,t){const e=(t.baseMutations||[]).map((o=>Ug(r.yt,o)));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){const c=t.mutations[o+1];u.updateTransforms=c.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const n=t.mutations.map((o=>Ug(r.yt,o))),s=On.fromMillis(t.localWriteTimeMs);return new N2(t.batchId,s,e,n)}function Jf(r){const t=Nc(r.readTime),e=r.lastLimboFreeSnapshotVersion!==void 0?Nc(r.lastLimboFreeSnapshotVersion):Xe.min();let n;return n=(function(o){return o.documents!==void 0})(r.query)?(function(o){const u=o.documents.length;return qe(u===1,1966,{count:u}),$a(rm(E3(o.documents[0])))})(r.query):(function(o){return $a(I3(o))})(r.query),new Ml(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,t,e,mi.fromBase64String(r.resumeToken))}function k3(r,t){const e=Tc(t.snapshotVersion),n=Tc(t.lastLimboFreeSnapshotVersion);let s;s=N1(t.target)?T3(r.yt,t.target):N3(r.yt,t.target).ft;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sc(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function P3(r){const t=I3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jg(t,t.limit,"L"):t}function z0(r,t){return new C2(t.largestBatchId,Ug(r.yt,t.overlayMutation))}function Pb(r,t){const e=t.path.lastSegment();return[r,xs(t.path.popLast()),e]}function Ob(r,t,e,n){return{indexId:r,uid:t,sequenceNumber:e,readTime:Tc(n.readTime),documentKey:xs(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{getBundleMetadata(t,e){return Mb(t).get(e).next((n=>{if(n)return(function(o){return{id:o.bundleId,createTime:Nc(o.createTime),version:o.version}})(n)}))}saveBundleMetadata(t,e){return Mb(t).put((function(s){return{bundleId:s.id,createTime:Tc(Os(s.createTime)),version:s.version}})(e))}getNamedQuery(t,e){return jb(t).get(e).next((n=>{if(n)return(function(o){return{name:o.name,query:P3(o.bundledQuery),readTime:Nc(o.readTime)}})(n)}))}saveNamedQuery(t,e){return jb(t).put((function(s){return{name:s.name,readTime:Tc(Os(s.readTime)),bundledQuery:s.bundledQuery}})(e))}}function Mb(r){return Ii(r,Z1)}function jb(r){return Ii(r,J1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const n=e.uid||"";return new um(t,n)}getOverlay(t,e){return qf(t).get(Pb(this.userId,e)).next((n=>n?z0(this.serializer,n):null))}getOverlays(t,e){const n=Jo();return Lt.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(t,e,n){const s=[];return n.forEach(((o,u)=>{const c=new C2(e,u);s.push(this.St(t,c))})),Lt.waitFor(s)}removeOverlaysForBatchId(t,e,n){const s=new Set;e.forEach((u=>s.add(xs(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const c=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,n+1],!1,!0);o.push(qf(t).Z(Cg,c))})),Lt.waitFor(o)}getOverlaysForCollection(t,e,n){const s=Jo(),o=xs(e),u=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return qf(t).J(Cg,u).next((c=>{for(const f of c){const d=z0(this.serializer,f);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(t,e,n,s){const o=Jo();let u;const c=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return qf(t).ee({index:M4,range:c},((f,d,p)=>{const v=z0(this.serializer,d);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):p.done()})).next((()=>o))}St(t,e){return qf(t).put((function(s,o,u){const[c,f,d]=Pb(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:R1(s.yt,u.mutation)}})(this.serializer,this.userId,e))}}function qf(r){return Ii(r,tm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{bt(t){return Ii(t,_2)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const n=e==null?void 0:e.value;return n?mi.fromUint8Array(n):mi.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(Rr(t.integerValue));else if("doubleValue"in t){const n=Rr(t.doubleValue);isNaN(n)?this.Ft(e,13):(this.Ft(e,15),yd(n)?e.Mt(0):e.Mt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ft(e,20),typeof n=="string"&&(n=Fl(n)),e.xt(`${n.seconds||""}`),e.Mt(n.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Bl(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Ft(e,45),e.Mt(n.latitude||0),e.Mt(n.longitude||0)}else"mapValue"in t?Y4(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):nm(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):Me(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const n=t.fields||{};this.Ft(e,55);for(const s of Object.keys(n))this.Ot(s,e),this.Ct(n[s],e)}kt(t,e){var u,c;const n=t.fields||{};this.Ft(e,53);const s=Kh,o=((c=(u=n[s].arrayValue)==null?void 0:u.values)==null?void 0:c.length)||0;this.Ft(e,15),e.Mt(Rr(o)),this.Ot(s,e),this.Ct(n[s],e)}Qt(t,e){const n=t.values||[];this.Ft(e,50);for(const s of n)this.Ct(s,e)}Lt(t,e){this.Ft(e,37),_e.fromName(t).path.forEach((n=>{this.Ft(e,60),this.Ut(n,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}hc.Kt=new hc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=255;function NN(r){if(r===0)return 8;let t=0;return r>>4||(t+=4,r<<=4),r>>6||(t+=2,r<<=2),r>>7||(t+=1),t}function Vb(r){const t=64-(function(n){let s=0;for(let o=0;o<8;++o){const u=NN(255&n[o]);if(s+=u,u!==8)break}return s})(r);return Math.ceil(t/8)}class IN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Gt(n.value),n=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Jt(n.value),n=e.next();this.Ht()}Yt(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const s=e.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const s=e.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(t){const e=this.en(t),n=Vb(e);this.tn(1+n),this.buffer[this.position++]=255&n;for(let s=e.length-n;s<e.length;++s)this.buffer[this.position++]=255&e[s]}nn(t){const e=this.en(t),n=Vb(e);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let s=e.length-n;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}rn(){this.sn(bh),this.sn(255)}_n(){this.an(bh),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(t),n=!!(128&e[0]);e[0]^=n?255:128;for(let s=1;s<e.length;++s)e[s]^=n?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===bh?(this.sn(bh),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===bh?(this.an(bh),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class CN{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class RN{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Hf{constructor(){this.cn=new IN,this.ln=new CN(this.cn),this.hn=new RN(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,e,n,s){this.Tn=t,this.In=e,this.En=n,this.dn=s}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,n=new Uint8Array(e);return n.set(this.dn,0),e!==t?n.set([0],this.dn.length):++n[n.length-1],new fc(this.Tn,this.In,this.En,n)}Rn(t,e,n){return{indexId:this.Tn,uid:t,arrayValue:o1(this.En),directionalValue:o1(this.dn),orderedDocumentKey:o1(e),documentKey:n.path.toArray()}}Vn(t,e,n){const s=this.Rn(t,e,n);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function vu(r,t){let e=r.Tn-t.Tn;return e!==0?e:(e=Fb(r.En,t.En),e!==0?e:(e=Fb(r.dn,t.dn),e!==0?e:_e.comparator(r.In,t.In)))}function Fb(r,t){for(let e=0;e<r.length&&e<t.length;++e){const n=r[e]-t[e];if(n!==0)return n}return r.length-t.length}function o1(r){return r4()?(function(e){let n="";for(let s=0;s<e.length;s++)n+=String.fromCharCode(e[s]);return n})(r):r}function Bb(r){return typeof r!="string"?r:(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(r)}class Ub{constructor(t){this.mn=new nr(((e,n)=>Fr.comparator(e.field,n.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const n=e;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(t){if(qe(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=Tg(t);if(e!==void 0&&!this.wn(e))return!1;const n=ac(t);let s=new Set,o=0,u=0;for(;o<n.length&&this.wn(n[o]);++o)s=s.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const f=n[o];if(!this.Sn(c,f)||!this.bn(this.fn[u++],f))return!1}++o}for(;o<n.length;++o){const c=n[o];if(u>=this.fn.length||!this.bn(this.fn[u++],c))return!1}return!0}Dn(){if(this.pn)return null;let t=new nr(Fr.comparator);const e=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")e.push(new Jp(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),e.push(new Jp(n.field,0))}for(const n of this.fn)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),e.push(new Jp(n.field,n.dir==="asc"?0:1)));return new x1(x1.UNKNOWN_ID,this.collectionId,e,gd.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const n=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===n}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(r){var e,n;if(qe(r instanceof En||r instanceof er,20012),r instanceof En){if(r instanceof r3){const s=((n=(e=r.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((o=>En.create(r.field,"==",o))))||[];return er.create(s,"or")}return r}const t=r.filters.map((s=>O3(s)));return er.create(t,r.op)}function LN(r){if(r.getFilters().length===0)return[];const t=Hg(O3(r));return qe(M3(t),7391),zg(t)||qg(t)?[t]:t.getFilters()}function zg(r){return r instanceof En}function qg(r){return r instanceof er&&S2(r)}function M3(r){return zg(r)||qg(r)||(function(e){if(e instanceof er&&kg(e)){for(const n of e.getFilters())if(!zg(n)&&!qg(n))return!1;return!0}return!1})(r)}function Hg(r){if(qe(r instanceof En||r instanceof er,34018),r instanceof En)return r;if(r.filters.length===1)return Hg(r.filters[0]);const t=r.filters.map((n=>Hg(n)));let e=er.create(t,r.op);return e=D1(e),M3(e)?e:(qe(e instanceof er,64498),qe(Qh(e),40251),qe(e.filters.length>1,57927),e.filters.reduce(((n,s)=>D2(n,s))))}function D2(r,t){let e;return qe(r instanceof En||r instanceof er,38388),qe(t instanceof En||t instanceof er,25473),e=r instanceof En?t instanceof En?(function(s,o){return er.create([s,o],"and")})(r,t):zb(r,t):t instanceof En?zb(t,r):(function(s,o){if(qe(s.filters.length>0&&o.filters.length>0,48005),Qh(s)&&Qh(o))return t3(s,o.getFilters());const u=kg(s)?s:o,c=kg(s)?o:s,f=u.filters.map((d=>D2(d,c)));return er.create(f,"or")})(r,t),D1(e)}function zb(r,t){if(Qh(t))return t3(t,r.getFilters());{const e=t.filters.map((n=>D2(r,n)));return er.create(e,"or")}}function D1(r){if(qe(r instanceof En||r instanceof er,11850),r instanceof En)return r;const t=r.getFilters();if(t.length===1)return D1(t[0]);if(Z4(r))return r;const e=t.map((s=>D1(s))),n=[];return e.forEach((s=>{s instanceof En?n.push(s):s instanceof er&&(s.op===r.op?n.push(...s.filters):n.push(s))})),n.length===1?n[0]:er.create(n,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.Cn=new k2}addToCollectionParentIndex(t,e){return this.Cn.add(e),Lt.resolve()}getCollectionParents(t,e){return Lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Lt.resolve()}deleteFieldIndex(t,e){return Lt.resolve()}deleteAllFieldIndexes(t){return Lt.resolve()}createTargetIndexes(t,e){return Lt.resolve()}getDocumentsMatchingTarget(t,e){return Lt.resolve(null)}getIndexType(t,e){return Lt.resolve(0)}getFieldIndexes(t,e){return Lt.resolve([])}getNextCollectionGroupToUpdate(t){return Lt.resolve(null)}getMinOffset(t,e){return Lt.resolve(Ea.min())}getMinOffsetFromCollectionGroup(t,e){return Lt.resolve(Ea.min())}updateCollectionGroup(t,e,n){return Lt.resolve()}updateIndexEntries(t,e){return Lt.resolve()}}class k2{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new nr(Hn.comparator),o=!s.has(n);return this.index[e]=s.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new nr(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="IndexedDbIndexManager",jp=new Uint8Array(0);class kN{constructor(t,e){this.databaseId=e,this.vn=new k2,this.Fn=new Ul((n=>Sc(n)),((n,s)=>kd(n,s))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const n=e.lastSegment(),s=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const o={collectionId:n,parent:xs(s)};return Hb(t).put(o)}return Lt.resolve()}getCollectionParents(t,e){const n=[],s=IDBKeyRange.bound([e,""],[E4(e),""],!1,!0);return Hb(t).J(s).next((o=>{for(const u of o){if(u.collectionId!==e)break;n.push(Zo(u.parent))}return n}))}addFieldIndex(t,e){const n=Gf(t),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(e);delete s.indexId;const o=n.add(s);if(e.indexState){const u=wh(t);return o.next((c=>{u.put(Ob(c,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return o.next()}deleteFieldIndex(t,e){const n=Gf(t),s=wh(t),o=_h(t);return n.delete(e.indexId).next((()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=Gf(t),n=_h(t),s=wh(t);return e.Z().next((()=>n.Z())).next((()=>s.Z()))}createTargetIndexes(t,e){return Lt.forEach(this.Mn(e),(n=>this.getIndexType(t,n).next((s=>{if(s===0||s===1){const o=new Ub(n).Dn();if(o!=null)return this.addFieldIndex(t,o)}}))))}getDocumentsMatchingTarget(t,e){const n=_h(t);let s=!0;const o=new Map;return Lt.forEach(this.Mn(e),(u=>this.xn(t,u).next((c=>{s&&(s=!!c),o.set(u,c)})))).next((()=>{if(s){let u=mn();const c=[];return Lt.forEach(o,((f,d)=>{ae(qb,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(f)} to execute ${Sc(e)}`);const p=(function(K,H){const ut=Tg(H);if(ut===void 0)return null;for(const Z of I1(K,ut.fieldPath))switch(Z.op){case"array-contains-any":return Z.value.arrayValue.values||[];case"array-contains":return[Z.value]}return null})(d,f),v=(function(K,H){const ut=new Map;for(const Z of ac(H))for(const z of I1(K,Z.fieldPath))switch(z.op){case"==":case"in":ut.set(Z.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return ut.set(Z.fieldPath.canonicalString(),z.value),Array.from(ut.values())}return null})(d,f),w=(function(K,H){const ut=[];let Z=!0;for(const z of ac(H)){const S=z.kind===0?wb(K,z.fieldPath,K.startAt):xb(K,z.fieldPath,K.startAt);ut.push(S.value),Z&&(Z=S.inclusive)}return new Yh(ut,Z)})(d,f),y=(function(K,H){const ut=[];let Z=!0;for(const z of ac(H)){const S=z.kind===0?xb(K,z.fieldPath,K.endAt):wb(K,z.fieldPath,K.endAt);ut.push(S.value),Z&&(Z=S.inclusive)}return new Yh(ut,Z)})(d,f),C=this.On(f,d,w),D=this.On(f,d,y),M=this.Nn(f,d,v),k=this.Bn(f.indexId,p,C,w.inclusive,D,y.inclusive,M);return Lt.forEach(k,(G=>n.Y(G,e.limit).next((K=>{K.forEach((H=>{const ut=_e.fromSegments(H.documentKey);u.has(ut)||(u=u.add(ut),c.push(ut))}))}))))})).next((()=>c))}return Lt.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=LN(er.create(t.filters,"and")).map((n=>Og(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,n,s,o,u,c){const f=(e!=null?e.length:1)*Math.max(n.length,o.length),d=f/(e!=null?e.length:1),p=[];for(let v=0;v<f;++v){const w=e?this.Ln(e[v/d]):jp,y=this.kn(t,w,n[v%d],s),C=this.qn(t,w,o[v%d],u),D=c.map((M=>this.kn(t,w,M,!0)));p.push(...this.createRange(y,C,D))}return p}kn(t,e,n,s){const o=new fc(t,_e.empty(),e,n);return s?o:o.An()}qn(t,e,n,s){const o=new fc(t,_e.empty(),e,n);return s?o.An():o}xn(t,e){const n=new Ub(e),s=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next((o=>{let u=null;for(const c of o)n.yn(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u}))}getIndexType(t,e){let n=2;const s=this.Mn(e);return Lt.forEach(s,(o=>this.xn(t,o).next((u=>{u?n!==0&&u.fields.length<(function(f){let d=new nr(Fr.comparator),p=!1;for(const v of f.filters)for(const w of v.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?p=!0:d=d.add(w.field));for(const v of f.orderBy)v.field.isKeyField()||(d=d.add(v.field));return d.size+(p?1:0)})(o)&&(n=1):n=0})))).next((()=>(function(u){return u.limit!==null})(e)&&s.length>1&&n===2?1:n))}Qn(t,e){const n=new Hf;for(const s of ac(t)){const o=e.data.field(s.fieldPath);if(o==null)return null;const u=n.Pn(s.kind);hc.Kt.Dt(o,u)}return n.un()}Ln(t){const e=new Hf;return hc.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const n=new Hf;return hc.Kt.Dt(Ad(this.databaseId,e),n.Pn((function(o){const u=ac(o);return u.length===0?0:u[u.length-1].kind})(t))),n.un()}Nn(t,e,n){if(n===null)return[];let s=[];s.push(new Hf);let o=0;for(const u of ac(t)){const c=n[o++];for(const f of s)if(this.Un(e,u.fieldPath)&&Ed(c))s=this.Kn(s,u,c);else{const d=f.Pn(u.kind);hc.Kt.Dt(c,d)}}return this.Wn(s)}On(t,e,n){return this.Nn(t,e,n.position)}Wn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].un();return e}Kn(t,e,n){const s=[...t],o=[];for(const u of n.arrayValue.values||[])for(const c of s){const f=new Hf;f.seed(c.un()),hc.Kt.Dt(u,f.Pn(e.kind)),o.push(f)}return o}Un(t,e){return!!t.filters.find((n=>n instanceof En&&n.field.isEqual(e)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(t,e){const n=Gf(t),s=wh(t);return(e?n.J(Ig,IDBKeyRange.bound(e,e)):n.J()).next((o=>{const u=[];return Lt.forEach(o,(c=>s.get([c.indexId,this.uid]).next((f=>{u.push((function(p,v){const w=v?new gd(v.sequenceNumber,new Ea(Nc(v.readTime),new _e(Zo(v.documentKey)),v.largestBatchId)):gd.empty(),y=p.fields.map((([C,D])=>new Jp(Fr.fromServerFormat(C),D)));return new x1(p.indexId,p.collectionGroup,y,w)})(c,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((n,s)=>{const o=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:sn(n.collectionGroup,s.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,n){const s=Gf(t),o=wh(t);return this.Gn(t).next((u=>s.J(Ig,IDBKeyRange.bound(e,e)).next((c=>Lt.forEach(c,(f=>o.put(Ob(f.indexId,this.uid,u,n))))))))}updateIndexEntries(t,e){const n=new Map;return Lt.forEach(e,((s,o)=>{const u=n.get(s.collectionGroup);return(u?Lt.resolve(u):this.getFieldIndexes(t,s.collectionGroup)).next((c=>(n.set(s.collectionGroup,c),Lt.forEach(c,(f=>this.zn(t,s,f).next((d=>{const p=this.jn(o,f);return d.isEqual(p)?Lt.resolve():this.Jn(t,o,f,d,p)})))))))}))}Hn(t,e,n,s){return _h(t).put(s.Rn(this.uid,this.$n(n,e.key),e.key))}Yn(t,e,n,s){return _h(t).delete(s.Vn(this.uid,this.$n(n,e.key),e.key))}zn(t,e,n){const s=_h(t);let o=new nr(vu);return s.ee({index:O4,range:IDBKeyRange.only([n.indexId,this.uid,o1(this.$n(n,e))])},((u,c)=>{o=o.add(new fc(n.indexId,e,Bb(c.arrayValue),Bb(c.directionalValue)))})).next((()=>o))}jn(t,e){let n=new nr(vu);const s=this.Qn(e,t);if(s==null)return n;const o=Tg(e);if(o!=null){const u=t.data.field(o.fieldPath);if(Ed(u))for(const c of u.arrayValue.values||[])n=n.add(new fc(e.indexId,t.key,this.Ln(c),s))}else n=n.add(new fc(e.indexId,t.key,jp,s));return n}Jn(t,e,n,s,o){ae(qb,"Updating index entries for document '%s'",e.key);const u=[];return(function(f,d,p,v,w){const y=f.getIterator(),C=d.getIterator();let D=vh(y),M=vh(C);for(;D||M;){let k=!1,G=!1;if(D&&M){const K=p(D,M);K<0?G=!0:K>0&&(k=!0)}else D!=null?G=!0:k=!0;k?(v(M),M=vh(C)):G?(w(D),D=vh(y)):(D=vh(y),M=vh(C))}})(s,o,vu,(c=>{u.push(this.Hn(t,e,n,c))}),(c=>{u.push(this.Yn(t,e,n,c))})),Lt.waitFor(u)}Gn(t){let e=1;return wh(t).ee({index:P4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,s,o)=>{o.done(),e=s.sequenceNumber+1})).next((()=>e))}createRange(t,e,n){n=n.sort(((u,c)=>vu(u,c))).filter(((u,c,f)=>!c||vu(u,f[c-1])!==0));const s=[];s.push(t);for(const u of n){const c=vu(u,t),f=vu(u,e);if(c===0)s[0]=t.An();else if(c>0&&f<0)s.push(u),s.push(u.An());else if(f>0)break}s.push(e);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const c=s[u].Vn(this.uid,jp,_e.empty()),f=s[u+1].Vn(this.uid,jp,_e.empty());o.push(IDBKeyRange.bound(c,f))}return o}Zn(t,e){return vu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Gb)}getMinOffset(t,e){return Lt.mapArray(this.Mn(e),(n=>this.xn(t,n).next((s=>s||Me(44426))))).next(Gb)}}function Hb(r){return Ii(r,_d)}function _h(r){return Ii(r,ad)}function Gf(r){return Ii(r,b2)}function wh(r){return Ii(r,sd)}function Gb(r){qe(r.length!==0,28825);let t=r[0].indexState.offset,e=t.largestBatchId;for(let n=1;n<r.length;n++){const s=r[n].indexState.offset;g2(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new Ea(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j3=41943040;class _s{static withCacheSize(t){return new _s(t,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(r,t,e){const n=r.store(bo),s=r.store(zh),o=[],u=IDBKeyRange.only(e.batchId);let c=0;const f=n.ee({range:u},((p,v,w)=>(c++,w.delete())));o.push(f.next((()=>{qe(c===1,47070,{batchId:e.batchId})})));const d=[];for(const p of e.mutations){const v=L4(t,p.key.path,e.batchId);o.push(s.delete(v)),d.push(p.key)}return Lt.waitFor(o).next((()=>d))}function k1(r){if(!r)return 0;let t;if(r.document)t=r.document;else if(r.unknownDocument)t=r.unknownDocument;else{if(!r.noDocument)throw Me(14731);t=r.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(j3,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class cm{constructor(t,e,n,s){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=s,this.Xn={}}static wt(t,e,n,s){qe(t.uid!=="",64387);const o=t.isAuthenticated()?t.uid:"";return new cm(o,e,n,s)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).ee({index:pc,range:n},((s,o,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,n,s){const o=Rh(t),u=bu(t);return u.add({}).next((c=>{qe(typeof c=="number",49019);const f=new N2(c,e,n,s),d=(function(y,C,D){const M=D.baseMutations.map((G=>R1(y.yt,G))),k=D.mutations.map((G=>R1(y.yt,G)));return{userId:C,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:M,mutations:k}})(this.serializer,this.userId,f),p=[];let v=new nr(((w,y)=>sn(w.canonicalString(),y.canonicalString())));for(const w of s){const y=L4(this.userId,w.key.path,c);v=v.add(w.key.path.popLast()),p.push(u.put(d)),p.push(o.put(y,oT))}return v.forEach((w=>{p.push(this.indexManager.addToCollectionParentIndex(t,w))})),t.addOnCommittedListener((()=>{this.Xn[c]=f.keys()})),Lt.waitFor(p).next((()=>f))}))}lookupMutationBatch(t,e){return bu(t).get(e).next((n=>n?(qe(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:e}),cc(this.serializer,n)):null))}er(t,e){return this.Xn[e]?Lt.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((n=>{if(n){const s=n.keys();return this.Xn[e]=s,s}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return bu(t).ee({index:pc,range:s},((u,c,f)=>{c.userId===this.userId&&(qe(c.batchId>=n,47524,{tr:n}),o=cc(this.serializer,c)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=gc;return bu(t).ee({index:pc,range:e,reverse:!0},((s,o,u)=>{n=o.batchId,u.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,gc],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).J(pc,e).next((n=>n.map((s=>cc(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=t1(this.userId,e.path),s=IDBKeyRange.lowerBound(n),o=[];return Rh(t).ee({range:s},((u,c,f)=>{const[d,p,v]=u,w=Zo(p);if(d===this.userId&&e.path.isEqual(w))return bu(t).get(v).next((y=>{if(!y)throw Me(61480,{nr:u,batchId:v});qe(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:v}),o.push(cc(this.serializer,y))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new nr(sn);const s=[];return e.forEach((o=>{const u=t1(this.userId,o.path),c=IDBKeyRange.lowerBound(u),f=Rh(t).ee({range:c},((d,p,v)=>{const[w,y,C]=d,D=Zo(y);w===this.userId&&o.path.isEqual(D)?n=n.add(C):v.done()}));s.push(f)})),Lt.waitFor(s).next((()=>this.rr(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1,o=t1(this.userId,n),u=IDBKeyRange.lowerBound(o);let c=new nr(sn);return Rh(t).ee({range:u},((f,d,p)=>{const[v,w,y]=f,C=Zo(w);v===this.userId&&n.isPrefixOf(C)?C.length===s&&(c=c.add(y)):p.done()})).next((()=>this.rr(t,c)))}rr(t,e){const n=[],s=[];return e.forEach((o=>{s.push(bu(t).get(o).next((u=>{if(u===null)throw Me(35274,{batchId:o});qe(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),n.push(cc(this.serializer,u))})))})),Lt.waitFor(s).next((()=>n))}removeMutationBatch(t,e){return V3(t.le,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),Lt.forEach(n,(s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return Lt.resolve();const n=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Rh(t).ee({range:n},((o,u,c)=>{if(o[0]===this.userId){const f=Zo(o[1]);s.push(f)}else c.done()})).next((()=>{qe(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(t,e){return F3(t,this.userId,e)}_r(t){return B3(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:gc,lastStreamToken:""}))}}function F3(r,t,e){const n=t1(t,e.path),s=n[1],o=IDBKeyRange.lowerBound(n);let u=!1;return Rh(r).ee({range:o,X:!0},((c,f,d)=>{const[p,v,w]=c;p===t&&v===s&&(u=!0),d.done()})).next((()=>u))}function bu(r){return Ii(r,bo)}function Rh(r){return Ii(r,zh)}function B3(r){return Ii(r,vd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ic(0)}static cr(){return new Ic(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const n=new Ic(e.highestTargetId);return e.highestTargetId=n.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>Xe.fromTimestamp(new On(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.lr(t).next((s=>(s.highestListenSequenceNumber=e,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.hr(t,s))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((n=>(n.targetCount+=1,this.Tr(e,n),this.hr(t,n))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>xh(t).delete(e.targetId))).next((()=>this.lr(t))).next((n=>(qe(n.targetCount>0,8065),n.targetCount-=1,this.hr(t,n))))}removeTargets(t,e,n){let s=0;const o=[];return xh(t).ee(((u,c)=>{const f=Jf(c);f.sequenceNumber<=e&&n.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(t,f)))})).next((()=>Lt.waitFor(o))).next((()=>s))}forEachTarget(t,e){return xh(t).ee(((n,s)=>{const o=Jf(s);e(o)}))}lr(t){return $b(t).get(S1).next((e=>(qe(e!==null,2888),e)))}hr(t,e){return $b(t).put(S1,e)}Pr(t,e){return xh(t).put(k3(this.serializer,e))}Tr(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const n=Sc(e),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return xh(t).ee({range:s,index:k4},((u,c,f)=>{const d=Jf(c);kd(e,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(t,e,n){const s=[],o=Au(t);return e.forEach((u=>{const c=xs(u.path);s.push(o.put({targetId:n,path:c})),s.push(this.referenceDelegate.addReference(t,n,u))})),Lt.waitFor(s)}removeMatchingKeys(t,e,n){const s=Au(t);return Lt.forEach(e,(o=>{const u=xs(o.path);return Lt.waitFor([s.delete([n,u]),this.referenceDelegate.removeReference(t,n,o)])}))}removeMatchingKeysForTargetId(t,e){const n=Au(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),s=Au(t);let o=mn();return s.ee({range:n,X:!0},((u,c,f)=>{const d=Zo(u[1]),p=new _e(d);o=o.add(p)})).next((()=>o))}containsKey(t,e){const n=xs(e.path),s=IDBKeyRange.bound([n],[E4(n)],!1,!0);let o=0;return Au(t).ee({index:v2,X:!0,range:s},(([u,c],f,d)=>{u!==0&&(o++,d.done())})).next((()=>o>0))}At(t,e){return xh(t).get(e).next((n=>n?Jf(n):null))}}function xh(r){return Ii(r,qh)}function $b(r){return Ii(r,yc)}function Au(r){return Ii(r,Hh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LruGarbageCollector",ON=1048576;function Qb([r,t],[e,n]){const s=sn(r,e);return s===0?sn(t,n):s}class MN{constructor(t){this.Ir=t,this.buffer=new nr(Qb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();Qb(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class U3{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ae(Yb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vu(e)?ae(Yb,"Ignoring IndexedDB error during garbage collection: ",e):await kc(e)}await this.Vr(3e5)}))}}class jN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return Lt.resolve(Ga.ce);const n=new MN(e);return this.mr.forEachTarget(t,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Lt.resolve(Kb)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,s,o,u,c,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(t,s)))).next((v=>(n=v,c=Date.now(),this.removeTargets(t,n,e)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,n)))).next((v=>(d=Date.now(),Th()<=Dn.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),Lt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function z3(r,t){return new jN(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e){this.db=t,this.garbageCollector=z3(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((n,s)=>e(s)))}addReference(t,e,n){return Vp(t,n)}removeReference(t,e,n){return Vp(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Vp(t,e)}br(t,e){return(function(s,o){let u=!1;return B3(s).te((c=>F3(s,c,o).next((f=>(f&&(u=!0),Lt.resolve(!f)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(t,((u,c)=>{if(c<=e){const f=this.br(t,u).next((d=>{if(!d)return o++,n.getEntry(t,u).next((()=>(n.removeEntry(u,Xe.min()),Au(t).delete((function(v){return[0,xs(v.path)]})(u)))))}));s.push(f)}})).next((()=>Lt.waitFor(s))).next((()=>n.apply(t))).next((()=>o))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Vp(t,e)}Sr(t,e){const n=Au(t);let s,o=Ga.ce;return n.ee({index:v2},(([u,c],{path:f,sequenceNumber:d})=>{u===0?(o!==Ga.ce&&e(new _e(Zo(s)),o),o=d,s=f):o=Ga.ce})).next((()=>{o!==Ga.ce&&e(new _e(Zo(s)),o)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Vp(r,t){return Au(r).put((function(n,s){return{targetId:0,path:xs(n.path),sequenceNumber:s}})(t,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.changes=new Ul((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Wr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Lt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return ic(t).put(n)}removeEntry(t,e,n){return ic(t).delete((function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],L1(u),c[c.length-1]]})(e,n))}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.Dr(t,n))))}getEntry(t,e){let n=Wr.newInvalidDocument(e);return ic(t).ee({index:e1,range:IDBKeyRange.only(Kf(e))},((s,o)=>{n=this.Cr(e,o)})).next((()=>n))}vr(t,e){let n={size:0,document:Wr.newInvalidDocument(e)};return ic(t).ee({index:e1,range:IDBKeyRange.only(Kf(e))},((s,o)=>{n={document:this.Cr(e,o),size:k1(o)}})).next((()=>n))}getEntries(t,e){let n=xa();return this.Fr(t,e,((s,o)=>{const u=this.Cr(s,o);n=n.insert(s,u)})).next((()=>n))}Mr(t,e){let n=xa(),s=new Lr(_e.comparator);return this.Fr(t,e,((o,u)=>{const c=this.Cr(o,u);n=n.insert(o,c),s=s.insert(o,k1(u))})).next((()=>({documents:n,Or:s})))}Fr(t,e,n){if(e.isEmpty())return Lt.resolve();let s=new nr(Zb);e.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(Kf(s.first()),Kf(s.last())),u=s.getIterator();let c=u.getNext();return ic(t).ee({index:e1,range:o},((f,d,p)=>{const v=_e.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&Zb(c,v)<0;)n(c,null),c=u.getNext();c&&c.isEqual(v)&&(n(c,d),c=u.hasNext()?u.getNext():null),c?p.j(Kf(c)):p.done()})).next((()=>{for(;c;)n(c,null),c=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,n,s,o){const u=e.path,c=[u.popLast().toArray(),u.lastSegment(),L1(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(t).J(IDBKeyRange.bound(c,f,!0)).next((d=>{o==null||o.incrementDocumentReadCount(d.length);let p=xa();for(const v of d){const w=this.Cr(_e.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);w.isFoundDocument()&&(Pd(e,w)||s.has(w.key))&&(p=p.insert(w.key,w))}return p}))}getAllFromCollectionGroup(t,e,n,s){let o=xa();const u=Wb(e,n),c=Wb(e,Ea.max());return ic(t).ee({index:D4,range:IDBKeyRange.bound(u,c,!0)},((f,d,p)=>{const v=this.Cr(_e.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(v.key,v),o.size===s&&p.done()})).next((()=>o))}newChangeBuffer(t){return new BN(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return Xb(t).get(Ng).next((e=>(qe(!!e,20021),e)))}Dr(t,e){return Xb(t).put(Ng,e)}Cr(t,e){if(e){const n=EN(this.serializer,e);if(!(n.isNoDocument()&&n.version.isEqual(Xe.min())))return n}return Wr.newInvalidDocument(t)}}function H3(r){return new FN(r)}class BN extends q3{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Ul((n=>n.toString()),((n,s)=>n.isEqual(s)))}applyChanges(t){const e=[];let n=0,s=new nr(((o,u)=>sn(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const c=this.Br.get(o);if(e.push(this.Nr.removeEntry(t,o,c.readTime)),u.isValidDocument()){const f=kb(this.Nr.serializer,u);s=s.add(o.path.popLast());const d=k1(f);n+=d-c.size,e.push(this.Nr.addEntry(t,o,f))}else if(n-=c.size,this.trackRemovals){const f=kb(this.Nr.serializer,u.convertToNoDocument(Xe.min()));e.push(this.Nr.addEntry(t,o,f))}})),s.forEach((o=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,o))})),e.push(this.Nr.updateMetadata(t,n)),Lt.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((n=>(this.Br.set(e,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:n,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:n.get(o).readTime})})),n)))}}function Xb(r){return Ii(r,bd)}function ic(r){return Ii(r,E1)}function Kf(r){const t=r.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wb(r,t){const e=t.documentKey.path.toArray();return[r,L1(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Zb(r,t){const e=r.path.toArray(),n=t.path.toArray();let s=0;for(let o=0;o<e.length-2&&o<n.length-2;++o)if(s=sn(e[o],n[o]),s)return s;return s=sn(e.length,n.length),s||(s=sn(e[e.length-2],n[n.length-2]),s||sn(e[e.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(n=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(n!==null&&cd(n.mutation,s,ia.empty(),On.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,mn()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=mn()){const s=Jo();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,n).next((o=>{let u=Wf();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const n=Jo();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,mn())))}populateOverlays(t,e,n){const s=[];return n.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((u,c)=>{e.set(u,c)}))}))}computeViews(t,e,n,s){let o=xa();const u=ud(),c=(function(){return ud()})();return e.forEach(((f,d)=>{const p=n.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof zl)?o=o.insert(d.key,d):p!==void 0?(u.set(d.key,p.mutation.getFieldMask()),cd(p.mutation,d,p.mutation.getFieldMask(),On.now())):u.set(d.key,ia.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,p)=>u.set(d,p))),e.forEach(((d,p)=>c.set(d,new UN(p,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(t,e){const n=ud();let s=new Lr(((u,c)=>u-c)),o=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let p=n.get(f)||ia.empty();p=c.applyToLocalView(d,p),n.set(f,p);const v=(s.get(c.batchId)||mn()).add(f);s=s.insert(c.batchId,v)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,p=f.value,v=u3();p.forEach((w=>{if(!o.has(w)){const y=m3(e.get(w),n.get(w));y!==null&&v.set(w,y),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,v))}return Lt.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,s){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):i3(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-o.size):Lt.resolve(Jo());let c=md,f=o;return u.next((d=>Lt.forEach(d,((p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?Lt.resolve():this.remoteDocumentCache.getEntry(t,p).next((w=>{f=f.insert(p,w)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,mn()))).next((p=>({batchId:c,changes:l3(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _e(e)).next((n=>{let s=Wf();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const o=e.collectionGroup;let u=Wf();return this.indexManager.getCollectionParents(t,o).next((c=>Lt.forEach(c,(f=>{const d=(function(v,w){return new ef(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,n,s).next((p=>{p.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,s)))).next((u=>{o.forEach(((f,d)=>{const p=d.getKey();u.get(p)===null&&(u=u.insert(p,Wr.newInvalidDocument(p)))}));let c=Wf();return u.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&cd(p.mutation,d,ia.empty(),On.now()),Pd(e,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:Os(s.createTime)}})(e)),Lt.resolve()}getNamedQuery(t,e){return Lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:P3(s.bundledQuery),readTime:Os(s.readTime)}})(e)),Lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.overlays=new Lr(_e.comparator),this.qr=new Map}getOverlay(t,e){return Lt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Jo();return Lt.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((s,o)=>{this.St(t,e,o)})),Lt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Lt.resolve()}getOverlaysForCollection(t,e,n){const s=Jo(),o=e.length+1,u=new _e(e.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>n&&s.set(f.getKey(),f)}return Lt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let o=new Lr(((d,p)=>d-p));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>n){let p=o.get(d.largestBatchId);p===null&&(p=Jo(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Jo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>c.set(d,p))),!(c.size()>=s)););return Lt.resolve(c)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new C2(e,n));let o=this.qr.get(e);o===void 0&&(o=mn(),this.qr.set(e,o)),this.qr.set(e,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(t){return Lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Qr=new nr(zi.$r),this.Ur=new nr(zi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new zi(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new zi(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new _e(new Hn([])),n=new zi(e,t),s=new zi(e,t+1),o=[];return this.Ur.forEachInRange([n,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new _e(new Hn([])),n=new zi(e,t),s=new zi(e,t+1);let o=mn();return this.Ur.forEachInRange([n,s],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new zi(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class zi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return _e.comparator(t.key,e.key)||sn(t.Yr,e.Yr)}static Kr(t,e){return sn(t.Yr,e.Yr)||_e.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new nr(zi.$r)}checkEmpty(t){return Lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new N2(o,e,n,s);this.mutationQueue.push(u);for(const c of s)this.Zr=this.Zr.add(new zi(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Lt.resolve(u)}lookupMutationBatch(t,e){return Lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ei(n),o=s<0?0:s;return Lt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Lt.resolve(this.mutationQueue.length===0?gc:this.tr-1)}getAllMutationBatches(t){return Lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new zi(e,0),s=new zi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Lt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new nr(sn);return e.forEach((s=>{const o=new zi(s,0),u=new zi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{n=n.add(c.Yr)}))})),Lt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let o=n;_e.isDocumentKey(o)||(o=o.child(""));const u=new zi(new _e(o),0);let c=new nr(sn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Yr)),!0)}),u),Lt.resolve(this.ti(c))}ti(t){const e=[];return t.forEach((n=>{const s=this.Xr(n);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){qe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Lt.forEach(e.mutations,(s=>{const o=new zi(s.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new zi(e,0),s=this.Zr.firstAfterOrEqual(n);return Lt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.ri=t,this.docs=(function(){return new Lr(_e.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),o=s?s.size:0,u=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Lt.resolve(n?n.document.mutableCopy():Wr.newInvalidDocument(e))}getEntries(t,e){let n=xa();return e.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():Wr.newInvalidDocument(s))})),Lt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let o=xa();const u=e.path,c=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||g2(N4(p),n)<=0||(s.has(p.key)||Pd(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Lt.resolve(o)}getAllFromCollectionGroup(t,e,n,s){Me(9500)}ii(t,e){return Lt.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new $N(this)}getSize(t){return Lt.resolve(this.size)}}class $N extends q3{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(n)})),Lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.persistence=t,this.si=new Ul((e=>Sc(e)),kd),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new P2,this.targetCount=0,this.ai=Ic.ur()}forEachTarget(t,e){return this.si.forEach(((n,s)=>e(s))),Lt.resolve()}getLastRemoteSnapshotVersion(t){return Lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),Lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ic(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Lt.resolve()}updateTargetData(t,e){return this.Pr(e),Lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Lt.resolve()}removeTargets(t,e,n){let s=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)})),Lt.waitFor(o).next((()=>s))}getTargetCount(t){return Lt.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return Lt.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),Lt.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((u=>{o.push(s.markPotentiallyOrphaned(t,u))})),Lt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Lt.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return Lt.resolve(n)}containsKey(t,e){return Lt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ga(0),this.li=!1,this.li=!0,this.hi=new HN,this.referenceDelegate=t(this),this.Pi=new YN(this),this.indexManager=new DN,this.remoteDocumentCache=(function(s){return new KN(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new D3(e),this.Ii=new zN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new qN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new GN(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){ae("MemoryPersistence","Starting transaction:",t);const s=new QN(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(t,e){return Lt.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class QN extends C4{constructor(t){super(),this.currentSequenceNumber=t}}class hm{constructor(t){this.persistence=t,this.Ri=new P2,this.Vi=null}static mi(t){return new hm(t)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),Lt.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),Lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lt.forEach(this.fi,(n=>{const s=_e.fromPath(n);return this.gi(t,s).next((o=>{o||e.removeEntry(s,Xe.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Lt.or([()=>Lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class P1{constructor(t,e){this.persistence=t,this.pi=new Ul((n=>xs(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=z3(this,e)}static mi(t,e){return new P1(t,e)}Ei(){}di(t){return Lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return Lt.forEach(this.pi,((n,s)=>this.br(t,n,s).next((o=>o?Lt.resolve():e(s)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,(u=>this.br(t,u,e).next((c=>{c||(n++,o.removeEntry(u,Xe.min()))})))).next((()=>o.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Lt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Lt.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=r1(t.data.value)),e}br(t,e,n){return Lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Lt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t){this.serializer=t}k(t,e,n,s){const o=new X1("createOrUpgrade",e);n<1&&s>=1&&((function(f){f.createObjectStore(Dd)})(t),(function(f){f.createObjectStore(vd,{keyPath:aT}),f.createObjectStore(bo,{keyPath:ub,autoIncrement:!0}).createIndex(pc,cb,{unique:!0}),f.createObjectStore(zh)})(t),Jb(t),(function(f){f.createObjectStore(oc)})(t));let u=Lt.resolve();return n<3&&s>=3&&(n!==0&&((function(f){f.deleteObjectStore(Hh),f.deleteObjectStore(qh),f.deleteObjectStore(yc)})(t),Jb(t)),u=u.next((()=>(function(f){const d=f.store(yc),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xe.min().toTimestamp(),targetCount:0};return d.put(S1,p)})(o)))),n<4&&s>=4&&(n!==0&&(u=u.next((()=>(function(f,d){return d.store(bo).J().next((v=>{f.deleteObjectStore(bo),f.createObjectStore(bo,{keyPath:ub,autoIncrement:!0}).createIndex(pc,cb,{unique:!0});const w=d.store(bo),y=v.map((C=>w.put(C)));return Lt.waitFor(y)}))})(t,o)))),u=u.next((()=>{(function(f){f.createObjectStore(Gh,{keyPath:mT})})(t)}))),n<5&&s>=5&&(u=u.next((()=>this.yi(o)))),n<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(bd)})(t),this.wi(o))))),n<7&&s>=7&&(u=u.next((()=>this.Si(o)))),n<8&&s>=8&&(u=u.next((()=>this.bi(t,o)))),n<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t)}))),n<10&&s>=10&&(u=u.next((()=>this.Di(o)))),n<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(Z1,{keyPath:gT})})(t),(function(f){f.createObjectStore(J1,{keyPath:yT})})(t)}))),n<12&&s>=12&&(u=u.next((()=>{(function(f){const d=f.createObjectStore(tm,{keyPath:ET});d.createIndex(Cg,ST,{unique:!1}),d.createIndex(M4,TT,{unique:!1})})(t)}))),n<13&&s>=13&&(u=u.next((()=>(function(f){const d=f.createObjectStore(E1,{keyPath:lT});d.createIndex(e1,uT),d.createIndex(D4,cT)})(t))).next((()=>this.Ci(t,o))).next((()=>t.deleteObjectStore(oc)))),n<14&&s>=14&&(u=u.next((()=>this.Fi(t,o)))),n<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(b2,{keyPath:vT,autoIncrement:!0}).createIndex(Ig,bT,{unique:!1}),f.createObjectStore(sd,{keyPath:_T}).createIndex(P4,wT,{unique:!1}),f.createObjectStore(ad,{keyPath:xT}).createIndex(O4,AT,{unique:!1})})(t)))),n<16&&s>=16&&(u=u.next((()=>{e.objectStore(sd).clear()})).next((()=>{e.objectStore(ad).clear()}))),n<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(_2,{keyPath:NT})})(t)}))),n<18&&s>=18&&r4()&&(u=u.next((()=>{e.objectStore(sd).clear()})).next((()=>{e.objectStore(ad).clear()}))),u}wi(t){let e=0;return t.store(oc).ee(((n,s)=>{e+=k1(s)})).next((()=>{const n={byteSize:e};return t.store(bd).put(Ng,n)}))}yi(t){const e=t.store(vd),n=t.store(bo);return e.J().next((s=>Lt.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,gc],[o.userId,o.lastAcknowledgedBatchId]);return n.J(pc,u).next((c=>Lt.forEach(c,(f=>{qe(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=cc(this.serializer,f);return V3(t,o.userId,d).next((()=>{}))}))))}))))}Si(t){const e=t.store(Hh),n=t.store(oc);return t.store(yc).get(S1).next((s=>{const o=[];return n.ee(((u,c)=>{const f=new Hn(u),d=(function(v){return[0,xs(v)]})(f);o.push(e.get(d).next((p=>p?Lt.resolve():(v=>e.put({targetId:0,path:xs(v),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>Lt.waitFor(o)))}))}bi(t,e){t.createObjectStore(_d,{keyPath:pT});const n=e.store(_d),s=new k2,o=u=>{if(s.add(u)){const c=u.lastSegment(),f=u.popLast();return n.put({collectionId:c,parent:xs(f)})}};return e.store(oc).ee({X:!0},((u,c)=>{const f=new Hn(u);return o(f.popLast())})).next((()=>e.store(zh).ee({X:!0},(([u,c,f],d)=>{const p=Zo(c);return o(p.popLast())}))))}Di(t){const e=t.store(qh);return e.ee(((n,s)=>{const o=Jf(s),u=k3(this.serializer,o);return e.put(u)}))}Ci(t,e){const n=e.store(oc),s=[];return n.ee(((o,u)=>{const c=e.store(E1),f=(function(v){return v.document?new _e(Hn.fromString(v.document.name).popFirst(5)):v.noDocument?_e.fromSegments(v.noDocument.path):v.unknownDocument?_e.fromSegments(v.unknownDocument.path):Me(36783)})(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(c.put(d))})).next((()=>Lt.waitFor(s)))}Fi(t,e){const n=e.store(bo),s=H3(this.serializer),o=new O2(hm.mi,this.serializer.yt);return n.J().next((u=>{const c=new Map;return u.forEach((f=>{let d=c.get(f.userId)??mn();cc(this.serializer,f).keys().forEach((p=>d=d.add(p))),c.set(f.userId,d)})),Lt.forEach(c,((f,d)=>{const p=new is(d),v=um.wt(this.serializer,p),w=o.getIndexManager(p),y=cm.wt(p,this.serializer,w,o.referenceDelegate);return new G3(s,y,v,w).recalculateAndSaveOverlaysForDocumentKeys(new Rg(e,Ga.ce),f).next()}))}))}}function Jb(r){r.createObjectStore(Hh,{keyPath:fT}).createIndex(v2,dT,{unique:!0}),r.createObjectStore(qh,{keyPath:"targetId"}).createIndex(k4,hT,{unique:!0}),r.createObjectStore(yc)}const _u="IndexedDbPersistence",q0=18e5,H0=5e3,G0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WN="main";class M2{constructor(t,e,n,s,o,u,c,f,d,p,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Mi=o,this.window=u,this.document=c,this.xi=d,this.Oi=p,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!M2.v())throw new ge(Kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VN(this,s),this.$i=e+WN,this.serializer=new D3(f),this.Ui=new Ru(this.$i,this.Ni,new XN(this.serializer)),this.hi=new TN,this.Pi=new PN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=H3(this.serializer),this.Ii=new SN,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&ks(_u,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(Kt.FAILED_PRECONDITION,G0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Ga(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Fp(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(Vu(t))return ae(_u,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ae(_u,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return $f(t).get(yh).next((e=>Lt.resolve(this.es(e))))}ts(t){return Fp(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,q0)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const n=Ii(e,Gh);return n.J().next((s=>{const o=this.ss(s,q0),u=s.filter((c=>o.indexOf(c)===-1));return Lt.forEach(u,(c=>n.delete(c.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?Lt.resolve(!0):$f(t).get(yh).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,H0)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new ge(Kt.FAILED_PRECONDITION,G0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fp(t).J().next((n=>this.ss(n,H0).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(o||u&&c)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&ae(_u,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Dd,Gh],(t=>{const e=new Rg(t,Ga.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((n=>this.rs(n.updateTimeMs,e)&&!this.us(n.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>Fp(t).J().next((e=>this.ss(e,q0).map((n=>n.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return cm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new kN(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return um.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,n){ae(_u,"Starting transaction:",t);const s=e==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?RT:f===17?B4:f===16?CT:f===15?w2:f===14?F4:f===13?V4:f===12?IT:f===11?j4:void Me(60245)})(this.Ni);let u;return this.Ui.runTransaction(t,s,o,(c=>(u=new Rg(c,this.ci?this.ci.next():Ga.ce),e==="readwrite-primary"?this.Hi(u).next((f=>!!f||this.Yi(u))).next((f=>{if(!f)throw ks(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ge(Kt.FAILED_PRECONDITION,I4);return n(u)})).next((f=>this.Xi(u).next((()=>f)))):this.Is(u).next((()=>n(u)))))).then((c=>(u.raiseOnCommittedEvent(),c)))}Is(t){return $f(t).get(yh).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,H0)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ge(Kt.FAILED_PRECONDITION,G0)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $f(t).put(yh,e)}static v(){return Ru.v()}Zi(t){const e=$f(t);return e.get(yh).next((n=>this.es(n)?(ae(_u,"Releasing primary lease."),e.delete(yh)):Lt.resolve()))}rs(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(ks(`Detected an update time that is in the future: ${t} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var t;typeof((t=this.window)==null?void 0:t.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;n4()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){var e;try{const n=((e=this.Ki)==null?void 0:e.getItem(this._s(t)))!==null;return ae(_u,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ks(_u,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){ks("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function $f(r){return Ii(r,Dd)}function Fp(r){return Ii(r,Gh)}function ZN(r,t){let e=r.projectId;return r.isDefaultDatabase||(e+="."+r.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=s}static As(t,e){let n=mn(),s=mn();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new j2(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return n4()?8:R4(b1())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,s){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,s,n).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new JN;return this.Ss(t,e,u).next((c=>{if(o.result=c,this.Vs)return this.bs(t,e,u,c.size)}))})).next((()=>o.result))}bs(t,e,n,s){return n.documentReadCount<this.fs?(Th()<=Dn.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Nh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Lt.resolve()):(Th()<=Dn.DEBUG&&ae("QueryEngine","Query:",Nh(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Th()<=Dn.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Nh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$a(e))):Lt.resolve())}ys(t,e){if(Ab(e))return Lt.resolve(null);let n=$a(e);return this.indexManager.getIndexType(t,n).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=jg(e,null,"F"),n=$a(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((o=>{const u=mn(...o);return this.ps.getDocuments(t,u).next((c=>this.indexManager.getMinOffset(t,n).next((f=>{const d=this.Ds(e,c);return this.Cs(e,d,u,f.readTime)?this.ys(t,jg(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,n,s){return Ab(e)||s.isEqual(Xe.min())?Lt.resolve(null):this.ps.getDocuments(t,n).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,n,s)?Lt.resolve(null):(Th()<=Dn.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nh(e)),this.vs(t,u,e,JS(s,md)).next((c=>c)))}))}Ds(t,e){let n=new nr(a3(t));return e.forEach(((s,o)=>{Pd(t,o)&&(n=n.add(o))})),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,n){return Th()<=Dn.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Nh(e)),this.ps.getDocumentsMatchingQuery(t,e,Ea.min(),n)}vs(t,e,n,s){return this.ps.getDocumentsMatchingQuery(t,n,s).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="LocalStore",t8=3e8;class e8{constructor(t,e,n,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Lr(sn),this.xs=new Ul((o=>Sc(o)),kd),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new G3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function $3(r,t,e,n){return new e8(r,t,e,n)}async function Y3(r,t){const e=an(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((o=>{const u=[],c=[];let f=mn();for(const d of s){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(n,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function n8(r,t){const e=an(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,p){const v=d.batch,w=v.keys();let y=Lt.resolve();return w.forEach((C=>{y=y.next((()=>p.getEntry(f,C))).next((D=>{const M=d.docVersions.get(C);qe(M!==null,48541),D.version.compareTo(M)<0&&(v.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),p.addEntry(D)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(f,v)))})(e,n,t,o).next((()=>o.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let f=mn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(n,s)))}))}function Q3(r){const t=an(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function r8(r,t){const e=an(r),n=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const c=[];t.targetChanges.forEach(((p,v)=>{const w=s.get(v);if(!w)return;c.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,v))));let y=w.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?y=y.withResumeToken(mi.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,n)),s=s.insert(v,y),(function(D,M,k){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=t8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(w,y,p)&&c.push(e.Pi.updateTargetData(o,y))}));let f=xa(),d=mn();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(i8(o,u,t.documentUpdates).next((p=>{f=p.ks,d=p.qs}))),!n.isEqual(Xe.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));c.push(p)}return Lt.waitFor(c).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=s,o)))}function i8(r,t,e){let n=mn(),s=mn();return e.forEach((o=>n=n.add(o))),t.getEntries(r,n).next((o=>{let u=xa();return e.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(t.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(c,f)):ae(V2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function s8(r,t){const e=an(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=gc),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function a8(r,t){const e=an(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return e.Pi.getTargetData(n,t).next((o=>o?(s=o,Lt.resolve(s)):e.Pi.allocateTargetId(n).next((u=>(s=new Ml(t,u,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=e.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function Gg(r,t,e){const n=an(r),s=n.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",o,(u=>n.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Vu(u))throw u;ae(V2,`Failed to update sequence numbers for target ${t}: ${u}`)}n.Ms=n.Ms.remove(t),n.xs.delete(s.target)}function t_(r,t,e){const n=an(r);let s=Xe.min(),o=mn();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,p){const v=an(f),w=v.xs.get(p);return w!==void 0?Lt.resolve(v.Ms.get(w)):v.Pi.getTargetData(d,p)})(n,u,$a(t)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,t,e?s:Xe.min(),e?o:mn()))).next((c=>(o8(n,GT(t),c),{documents:c,Qs:o})))))}function o8(r,t,e){let n=r.Os.get(t)||Xe.min();e.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(t,n)}class e_{constructor(){this.activeTargetIds=WT()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X3{constructor(){this.Mo=new e_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new e_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(n_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ae(n_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp=null;function Kg(){return Bp===null?Bp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bp++,"0x"+Bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="RestConnection",u8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c8{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===T1?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(t,e,n,s,o){const u=Kg(),c=this.zo(t,e.toUriEncodedString());ae(K0,`Sending RPC '${t}' ${u}:`,c,n);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(c),p=Y1(d);return this.Jo(t,c,f,n,p).then((v=>(ae(K0,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Ac(K0,`RPC '${t}' ${u} failed with error: `,v,"url: ",c,"request:",n),v}))}Ho(t,e,n,s,o,u){return this.Go(t,e,n,s,o)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tf})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),n&&n.headers.forEach(((s,o)=>t[o]=s))}zo(t,e){const n=u8[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class f8 extends c8{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,o){const u=Kg();return new Promise(((c,f)=>{const d=new y4;d.setWithCredentials(!0),d.listenOnce(v4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Zp.NO_ERROR:const v=d.getResponseJson();ae(ps,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),c(v);break;case Zp.TIMEOUT:ae(ps,`RPC '${t}' ${u} timed out`),f(new ge(Kt.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const w=d.getStatus();if(ae(ps,`RPC '${t}' ${u} failed with status:`,w,"response text:",d.getResponseText()),w>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const D=(function(k){const G=k.toLowerCase().replace(/_/g,"-");return Object.values(Kt).indexOf(G)>=0?G:Kt.UNKNOWN})(C.status);f(new ge(D,C.message))}else f(new ge(Kt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ge(Kt.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ae(ps,`RPC '${t}' ${u} completed.`)}}));const p=JSON.stringify(s);ae(ps,`RPC '${t}' ${u} sending request:`,s),d.send(e,"POST",p,n,15)}))}T_(t,e,n){const s=Kg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=w4(),c=_4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,n),f.encodeInitMessageHeaders=!0;const p=o.join("");ae(ps,`Creating RPC '${t}' stream ${s}: ${p}`,f);const v=u.createWebChannel(p,f);this.I_(v);let w=!1,y=!1;const C=new h8({Yo:M=>{y?ae(ps,`Not sending because RPC '${t}' stream ${s} is closed:`,M):(w||(ae(ps,`Opening RPC '${t}' stream ${s} transport.`),v.open(),w=!0),ae(ps,`RPC '${t}' stream ${s} sending:`,M),v.send(M))},Zo:()=>v.close()}),D=(M,k,G)=>{M.listen(k,(K=>{try{G(K)}catch(H){setTimeout((()=>{throw H}),0)}}))};return D(v,Xf.EventType.OPEN,(()=>{y||(ae(ps,`RPC '${t}' stream ${s} transport opened.`),C.o_())})),D(v,Xf.EventType.CLOSE,(()=>{y||(y=!0,ae(ps,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(v))})),D(v,Xf.EventType.ERROR,(M=>{y||(y=!0,Ac(ps,`RPC '${t}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),C.a_(new ge(Kt.UNAVAILABLE,"The operation could not be completed")))})),D(v,Xf.EventType.MESSAGE,(M=>{var k;if(!y){const G=M.data[0];qe(!!G,16349);const K=G,H=(K==null?void 0:K.error)||((k=K[0])==null?void 0:k.error);if(H){ae(ps,`RPC '${t}' stream ${s} received error:`,H);const ut=H.status;let Z=(function(E){const V=di[E];if(V!==void 0)return v3(V)})(ut),z=H.message;Z===void 0&&(Z=Kt.INTERNAL,z="Unknown error status: "+ut+" with message "+H.message),y=!0,C.a_(new ge(Z,z)),v.close()}else ae(ps,`RPC '${t}' stream ${s} received:`,G),C.u_(G)}})),D(c,b4.STAT_EVENT,(M=>{M.stat===Eg.PROXY?ae(ps,`RPC '${t}' stream ${s} detected buffering proxy`):M.stat===Eg.NOPROXY&&ae(ps,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(){return typeof window<"u"?window:null}function l1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r){return new pN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(t,e,n=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-n);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="PersistentStream";class Z3{constructor(t,e,n,s,o,u,c,f){this.Mi=t,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W3(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Kt.RESOURCE_EXHAUSTED?(ks(e.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Kt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===e&&this.G_(n,s)}),(n=>{t((()=>{const s=new ge(Kt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ae(i_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ae(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p8 extends Z3{constructor(t,e,n,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=yN(this.serializer,t),n=(function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Os(u.readTime):Xe.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=Bg(this.serializer),e.addTarget=(function(o,u){let c;const f=u.target;if(c=N1(f)?{documents:T3(o,f)}:{query:N3(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=w3(o,u.resumeToken);const d=Vg(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Xe.min())>0){c.readTime=Zh(o,u.snapshotVersion.toTimestamp());const d=Vg(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,t);const n=bN(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=Bg(this.serializer),e.removeTarget=t,this.q_(e)}}class m8 extends Z3{constructor(t,e,n,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return qe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=vN(t.writeResults,t.commitTime),n=Os(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=Bg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>R1(this.serializer,n)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class y8 extends g8{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ge(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,Fg(e,n),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(Kt.UNKNOWN,o.toString())}))}Ho(t,e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(t,Fg(e,n),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Kt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(e),this.aa=!1):ae("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="RemoteStore";class b8{constructor(t,e,n,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{Pc(this)&&(ae(Cc,"Restarting streams for network reachability change."),await(async function(f){const d=an(f);d.Ea.add(4),await Md(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dm(d)})(this))}))})),this.Ra=new v8(n,s)}}async function dm(r){if(Pc(r))for(const t of r.da)await t(!0)}async function Md(r){for(const t of r.da)await t(!1)}function J3(r,t){const e=an(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),z2(e)?U2(e):rf(e).O_()&&B2(e,t))}function F2(r,t){const e=an(r),n=rf(e);e.Ia.delete(t),n.O_()&&tx(e,t),e.Ia.size===0&&(n.O_()?n.L_():Pc(e)&&e.Ra.set("Unknown"))}function B2(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xe.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rf(r).Y_(t)}function tx(r,t){r.Va.Ue(t),rf(r).Z_(t)}function U2(r){r.Va=new cN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),rf(r).start(),r.Ra.ua()}function z2(r){return Pc(r)&&!rf(r).x_()&&r.Ia.size>0}function Pc(r){return an(r).Ea.size===0}function ex(r){r.Va=void 0}async function _8(r){r.Ra.set("Online")}async function w8(r){r.Ia.forEach(((t,e)=>{B2(r,t)}))}async function x8(r,t){ex(r),z2(r)?(r.Ra.ha(t),U2(r)):r.Ra.set("Unknown")}async function A8(r,t,e){if(r.Ra.set("Online"),t instanceof _3&&t.state===2&&t.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.Va.removeTarget(c))})(r,t)}catch(n){ae(Cc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await O1(r,n)}else if(t instanceof a1?r.Va.Ze(t):t instanceof b3?r.Va.st(t):r.Va.tt(t),!e.isEqual(Xe.min()))try{const n=await Q3(r.localStore);e.compareTo(n)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(mi.EMPTY_BYTE_STRING,p.snapshotVersion)),tx(o,f);const v=new Ml(p.target,f,d,p.sequenceNumber);B2(o,v)})),o.remoteSyncer.applyRemoteEvent(c)})(r,e)}catch(n){ae(Cc,"Failed to raise snapshot:",n),await O1(r,n)}}async function O1(r,t,e){if(!Vu(t))throw t;r.Ea.add(1),await Md(r),r.Ra.set("Offline"),e||(e=()=>Q3(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Cc,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await dm(r)}))}function nx(r,t){return t().catch((e=>O1(r,e,t)))}async function jd(r){const t=an(r),e=Pu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gc;for(;E8(t);)try{const s=await s8(t.localStore,n);if(s===null){t.Ta.length===0&&e.L_();break}n=s.batchId,S8(t,s)}catch(s){await O1(t,s)}rx(t)&&ix(t)}function E8(r){return Pc(r)&&r.Ta.length<10}function S8(r,t){r.Ta.push(t);const e=Pu(r);e.O_()&&e.X_&&e.ea(t.mutations)}function rx(r){return Pc(r)&&!Pu(r).x_()&&r.Ta.length>0}function ix(r){Pu(r).start()}async function T8(r){Pu(r).ra()}async function N8(r){const t=Pu(r);for(const e of r.Ta)t.ea(e.mutations)}async function I8(r,t,e){const n=r.Ta.shift(),s=I2.from(n,t,e);await nx(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await jd(r)}async function C8(r,t){t&&Pu(r).X_&&await(async function(n,s){if((function(u){return oN(u)&&u!==Kt.ABORTED})(s.code)){const o=n.Ta.shift();Pu(n).B_(),await nx(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await jd(n)}})(r,t),rx(r)&&ix(r)}async function s_(r,t){const e=an(r);e.asyncQueue.verifyOperationInProgress(),ae(Cc,"RemoteStore received new credentials");const n=Pc(e);e.Ea.add(3),await Md(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await dm(e)}async function R8(r,t){const e=an(r);t?(e.Ea.delete(2),await dm(e)):t||(e.Ea.add(2),await Md(e),e.Ra.set("Unknown"))}function rf(r){return r.ma||(r.ma=(function(e,n,s){const o=an(e);return o.sa(),new p8(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:_8.bind(null,r),t_:w8.bind(null,r),r_:x8.bind(null,r),H_:A8.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),z2(r)?U2(r):r.Ra.set("Unknown")):(await r.ma.stop(),ex(r))}))),r.ma}function Pu(r){return r.fa||(r.fa=(function(e,n,s){const o=an(e);return o.sa(),new m8(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:T8.bind(null,r),r_:C8.bind(null,r),ta:N8.bind(null,r),na:I8.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await jd(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(Cc,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,e,n,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,o){const u=Date.now()+n,c=new q2(t,e,u,s,o);return c.start(n),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Kt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H2(r,t){if(ks("AsyncQueue",`${t}: ${r}`),Vu(r))return new ge(Kt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{static emptySet(t){return new Oh(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||_e.comparator(e.key,n.key):(e,n)=>_e.comparator(e.key,n.key),this.keyedMap=Wf(),this.sortedSet=new Lr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Oh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Oh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new Lr(_e.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Me(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Jh{constructor(t,e,n,s,o,u,c,f,d){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,n,s,o){const u=[];return e.forEach((c=>{u.push({type:0,doc:c})})),new Jh(t,e,Oh.emptySet(e),u,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&im(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class D8{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=an(e),o=s.queries;s.queries=o_(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(n)}))})(this,new ge(Kt.ABORTED,"Firestore shutting down"))}}function o_(){return new Ul((r=>s3(r)),im)}async function sx(r,t){const e=an(r);let n=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(n=2):(o=new L8,n=t.Da()?0:1);try{switch(n){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const c=H2(u,`Initialization of query '${Nh(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&G2(e)}async function ax(r,t){const e=an(r),n=t.query;let s=3;const o=e.queries.get(n);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function k8(r,t){const e=an(r);let n=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const c of u.Sa)c.Fa(s)&&(n=!0);u.wa=s}}n&&G2(e)}function P8(r,t,e){const n=an(r),s=n.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);n.queries.delete(t)}function G2(r){r.Ca.forEach((t=>{t.next()}))}var $g,l_;(l_=$g||($g={})).Ma="default",l_.Cache="cache";class ox{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Jh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Jh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.key=t}}class ux{constructor(t){this.key=t}}class O8{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=a3(t),this.tu=new Oh(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new a_,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((p,v)=>{const w=s.get(p),y=Pd(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;w&&y?w.data.isEqual(y.data)?C!==D&&(n.track({type:3,doc:y}),M=!0):this.su(w,y)||(n.track({type:2,doc:y}),M=!0,(f&&this.eu(y,f)>0||d&&this.eu(y,d)<0)&&(c=!0)):!w&&y?(n.track({type:0,doc:y}),M=!0):w&&!y&&(n.track({type:1,doc:w}),M=!0,(f||d)&&(c=!0)),M&&(y?(u=u.add(y),o=D?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),n.track({type:1,doc:p})}return{tu:u,iu:n,Cs:c,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((p,v)=>(function(y,C){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:M})}};return D(y)-D(C)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(n),s=s??!1;const c=e&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Jh(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=mn(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new ux(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new lx(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=mn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Jh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const K2="SyncEngine";class M8{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class j8{constructor(t){this.key=t,this.hu=!1}}class V8{constructor(t,e,n,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ul((c=>s3(c)),im),this.Iu=new Map,this.Eu=new Set,this.du=new Lr(_e.comparator),this.Au=new Map,this.Ru=new P2,this.Vu={},this.mu=new Map,this.fu=Ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F8(r,t,e=!0){const n=mx(r);let s;const o=n.Tu.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await cx(n,t,e,!0),s}async function B8(r,t){const e=mx(r);await cx(e,t,!0,!1)}async function cx(r,t,e,n){const s=await a8(r.localStore,$a(t)),o=s.targetId,u=r.sharedClientState.addLocalQueryTarget(o,e);let c;return n&&(c=await U8(r,t,o,u==="current",s.resumeToken)),r.isPrimaryClient&&e&&J3(r.remoteStore,s),c}async function U8(r,t,e,n,s){r.pu=(v,w,y)=>(async function(D,M,k,G){let K=M.view.ru(k);K.Cs&&(K=await t_(D.localStore,M.query,!1).then((({documents:z})=>M.view.ru(z,K))));const H=G&&G.targetChanges.get(M.targetId),ut=G&&G.targetMismatches.get(M.targetId)!=null,Z=M.view.applyChanges(K,D.isPrimaryClient,H,ut);return c_(D,M.targetId,Z.au),Z.snapshot})(r,v,w,y);const o=await t_(r.localStore,t,!0),u=new O8(t,o.Qs),c=u.ru(o.documents),f=Od.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),d=u.applyChanges(c,r.isPrimaryClient,f);c_(r,e,d.au);const p=new M8(t,e,u);return r.Tu.set(t,p),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),d.snapshot}async function z8(r,t,e){const n=an(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((u=>!im(u,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Gg(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),e&&F2(n.remoteStore,s.targetId),Yg(n,s.targetId)})).catch(kc)):(Yg(n,s.targetId),await Gg(n.localStore,s.targetId,!0))}async function q8(r,t){const e=an(r),n=e.Tu.get(t),s=e.Iu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),F2(e.remoteStore,n.targetId))}async function H8(r,t,e){const n=gx(r);try{const s=await(function(u,c){const f=an(u),d=On.now(),p=c.reduce(((y,C)=>y.add(C.key)),mn());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let C=xa(),D=mn();return f.Ns.getEntries(y,p).next((M=>{C=M,C.forEach(((k,G)=>{G.isValidDocument()||(D=D.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(y,C))).next((M=>{v=M;const k=[];for(const G of c){const K=sN(G,v.get(G.key).overlayedDocument);K!=null&&k.push(new zl(G.key,K,X4(K.value.mapValue),Ps.exists(!0)))}return f.mutationQueue.addMutationBatch(y,d,k,c)})).next((M=>{w=M;const k=M.applyToLocalDocumentSet(v,D);return f.documentOverlayCache.saveOverlays(y,M.batchId,k)}))})).then((()=>({batchId:w.batchId,changes:l3(v)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Lr(sn)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(n,s.batchId,e),await Vd(n,s.changes),await jd(n.remoteStore)}catch(s){const o=H2(s,"Failed to persist write");e.reject(o)}}async function hx(r,t){const e=an(r);try{const n=await r8(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const u=e.Au.get(o);u&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?qe(u.hu,14607):s.removedDocuments.size>0&&(qe(u.hu,42227),u.hu=!1))})),await Vd(e,n,t)}catch(n){await kc(n)}}function u_(r,t,e){const n=an(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Tu.forEach(((o,u)=>{const c=u.view.va(t);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=an(u);f.onlineState=c;let d=!1;f.queries.forEach(((p,v)=>{for(const w of v.Sa)w.va(c)&&(d=!0)})),d&&G2(f)})(n.eventManager,t),s.length&&n.Pu.H_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function G8(r,t,e){const n=an(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Au.get(t),o=s&&s.key;if(o){let u=new Lr(_e.comparator);u=u.insert(o,Wr.newNoDocument(o,Xe.min()));const c=mn().add(o),f=new lm(Xe.min(),new Map,new Lr(sn),u,c);await hx(n,f),n.du=n.du.remove(o),n.Au.delete(t),$2(n)}else await Gg(n.localStore,t,!1).then((()=>Yg(n,t,e))).catch(kc)}async function K8(r,t){const e=an(r),n=t.batch.batchId;try{const s=await n8(e.localStore,t);dx(e,n,null),fx(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await Vd(e,s)}catch(s){await kc(s)}}async function $8(r,t,e){const n=an(r);try{const s=await(function(u,c){const f=an(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,c).next((v=>(qe(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(n.localStore,t);dx(n,t,e),fx(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await Vd(n,s)}catch(s){await kc(s)}}function fx(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function dx(r,t,e){const n=an(r);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),n.Vu[n.currentUser.toKey()]=s}}function Yg(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||px(r,n)}))}function px(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(F2(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),$2(r))}function c_(r,t,e){for(const n of e)n instanceof lx?(r.Ru.addReference(n.key,t),Y8(r,n)):n instanceof ux?(ae(K2,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||px(r,n.key)):Me(19791,{wu:n})}function Y8(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(ae(K2,"New document in limbo: "+e),r.Eu.add(n),$2(r))}function $2(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new _e(Hn.fromString(t)),n=r.fu.next();r.Au.set(n,new j8(e)),r.du=r.du.insert(e,n),J3(r.remoteStore,new Ml($a(rm(e.path)),n,"TargetPurposeLimboResolution",Ga.ce))}}async function Vd(r,t,e){const n=an(r),s=[],o=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,f)=>{u.push(n.pu(f,t,e).then((d=>{var p;if((d||e)&&n.isPrimaryClient){const v=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(f.targetId))==null?void 0:p.current;n.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){s.push(d);const v=j2.As(f.targetId,d);o.push(v)}})))})),await Promise.all(u),n.Pu.H_(s),await(async function(f,d){const p=an(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Lt.forEach(d,(w=>Lt.forEach(w.Es,(y=>p.persistence.referenceDelegate.addReference(v,w.targetId,y))).next((()=>Lt.forEach(w.ds,(y=>p.persistence.referenceDelegate.removeReference(v,w.targetId,y)))))))))}catch(v){if(!Vu(v))throw v;ae(V2,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const y=p.Ms.get(w),C=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(C);p.Ms=p.Ms.insert(w,D)}}})(n.localStore,o))}async function Q8(r,t){const e=an(r);if(!e.currentUser.isEqual(t)){ae(K2,"User change. New user:",t.toKey());const n=await Y3(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new ge(Kt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Vd(e,n.Ls)}}function X8(r,t){const e=an(r),n=e.Au.get(t);if(n&&n.hu)return mn().add(n.key);{let s=mn();const o=e.Iu.get(t);if(!o)return s;for(const u of o){const c=e.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function mx(r){const t=an(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=X8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G8.bind(null,t),t.Pu.H_=k8.bind(null,t.eventManager),t.Pu.yu=P8.bind(null,t.eventManager),t}function gx(r){const t=an(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$8.bind(null,t),t}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $3(this.persistence,new K3,t.initialUser,this.serializer)}Cu(t){return new O2(hm.mi,this.serializer)}Du(t){return new X3}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class W8 extends Id{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qe(this.persistence.referenceDelegate instanceof P1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new U3(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new O2((n=>P1.mi(n,e)),this.serializer)}}class Z8 extends Id{constructor(t,e,n){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await gx(this.xu.syncEngine),await jd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return $3(this.persistence,new K3,t.initialUser,this.serializer)}Fu(t,e){const n=this.persistence.referenceDelegate.garbageCollector;return new U3(n,t.asyncQueue,e)}Mu(t,e){const n=new rT(e,this.persistence);return new nT(t.asyncQueue,n)}Cu(t){const e=ZN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new M2(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,d8(),l1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new X3}}class M1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>u_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q8.bind(null,this.syncEngine),await R8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new D8})()}createDatastore(t){const e=fm(t.databaseInfo.databaseId),n=(function(o){return new f8(o)})(t.databaseInfo);return(function(o,u,c,f){return new y8(o,u,c,f)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(n,s,o,u,c){return new b8(n,s,o,u,c)})(this.localStore,this.datastore,t.asyncQueue,(e=>u_(this.syncEngine,e,0)),(function(){return r_.v()?new r_:new l8})())}createSyncEngine(t,e){return(function(s,o,u,c,f,d,p){const v=new V8(s,o,u,c,f,d);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(s){const o=an(s);ae(Cc,"RemoteStore shutting down."),o.Ea.add(5),await Md(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}M1.provider={build:()=>new M1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ks("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="FirestoreClient";class J8{constructor(t,e,n,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=is.UNAUTHENTICATED,this.clientId=m2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async u=>{ae(Ou,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(ae(Ou,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=H2(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function $0(r,t){r.asyncQueue.verifyOperationInProgress(),ae(Ou,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await Y3(t.localStore,s),n=s)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function h_(r,t){r.asyncQueue.verifyOperationInProgress();const e=await tI(r);ae(Ou,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>s_(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>s_(t.remoteStore,s))),r._onlineComponents=t}async function tI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Ou,"Using user provided OfflineComponentProvider");try{await $0(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Kt.FAILED_PRECONDITION||s.code===Kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;Ac("Error using user provided cache. Falling back to memory cache: "+e),await $0(r,new Id)}}else ae(Ou,"Using default OfflineComponentProvider"),await $0(r,new W8(void 0));return r._offlineComponents}async function vx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Ou,"Using user provided OnlineComponentProvider"),await h_(r,r._uninitializedComponentsProvider._online)):(ae(Ou,"Using default OnlineComponentProvider"),await h_(r,new M1))),r._onlineComponents}function eI(r){return vx(r).then((t=>t.syncEngine))}async function Qg(r){const t=await vx(r),e=t.eventManager;return e.onListen=F8.bind(null,t.syncEngine),e.onUnlisten=z8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=B8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=q8.bind(null,t.syncEngine),e}function nI(r,t,e={}){const n=new jl;return r.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const p=new yx({next:w=>{p.Nu(),u.enqueueAndForget((()=>ax(o,v))),w.fromCache&&f.source==="server"?d.reject(new ge(Kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new ox(c,p,{includeMetadataChanges:!0,qa:!0});return sx(o,v)})(await Qg(r),r.asyncQueue,t,e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firestore.googleapis.com",d_=!0;class p_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ge(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=d_}else this.host=t.host,this.ssl=t.ssl??d_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=j3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ON)throw new ge(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ge(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ge(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ge(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pm{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ge(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new zS;switch(n.type){case"firstParty":return new KS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=f_.get(e);n&&(ae("ComponentProvider","Removing Datastore"),f_.delete(e),n.terminate())})(this),Promise.resolve()}}function rI(r,t,e,n={}){var d;r=Ka(r,pm);const s=Y1(t),o=r._getSettings(),u={...o,emulatorOptions:r._getEmulatorOptions()},c=`${t}:${e}`;s&&(Zw(`https://${c}`),t4("Firestore",!0)),o.host!==_x&&o.host!==c&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:n};if(!_1(f,u)&&(r._setSettings(f),n.mockUserToken)){let p,v;if(typeof n.mockUserToken=="string")p=n.mockUserToken,v=is.MOCK_USER;else{p=Jw(n.mockUserToken,(d=r._app)==null?void 0:d.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new ge(Kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new is(w)}r._authCredentials=new qS(new A4(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Bu(this.firestore,t,this._query)}}class si{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new si(this.firestore,t,this._key)}toJSON(){return{type:si._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Ld(e,si._jsonSchema))return new si(t,n||null,new _e(Hn.fromString(e.referencePath)))}}si._jsonSchemaVersion="firestore/documentReference/1.0",si._jsonSchema={type:pi("string",si._jsonSchemaVersion),referencePath:pi("string")};class Lu extends Bu{constructor(t,e,n){super(t,e,rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new si(this.firestore,null,new _e(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function td(r,t,...e){if(r=xo(r),S4("collection","path",t),r instanceof pm){const n=Hn.fromString(t,...e);return ib(n),new Lu(r,null,n)}{if(!(r instanceof si||r instanceof Lu))throw new ge(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Hn.fromString(t,...e));return ib(n),new Lu(r.firestore,null,n)}}function Fd(r,t,...e){if(r=xo(r),arguments.length===1&&(t=m2.newId()),S4("doc","path",t),r instanceof pm){const n=Hn.fromString(t,...e);return rb(n),new si(r,null,new _e(n))}{if(!(r instanceof si||r instanceof Lu))throw new ge(Kt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Hn.fromString(t,...e));return rb(n),new si(r.firestore,r instanceof Lu?r.converter:null,new _e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W3(this,"async_queue_retry"),this._c=()=>{const n=l1();n&&ae(m_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=l1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=l1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new jl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vu(t))throw t;ae(m_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",y_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=q2.createAndSchedule(this,t,e,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Me(47125,{Pc:y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function y_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){return(function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(r,["next","error","complete"])}class Mu extends pm{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new g_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g_(t),this._firestoreClient=void 0,await t}}}function iI(r,t){const e=typeof r=="object"?r:d4(),n=typeof r=="string"?r:T1,s=u4(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=Xw("firestore");o&&rI(s,...o)}return s}function Y2(r){if(r._terminated)throw new ge(Kt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wx(r),r._firestoreClient}function wx(r){var n,s,o;const t=r._freezeSettings(),e=(function(c,f,d,p){return new DT(c,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new J8(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(r._componentsProvider))}function sI(r,t){Ac("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();return aI(r,M1.provider,{build:n=>new Z8(n,e.cacheSizeBytes,t==null?void 0:t.forceOwnership)}),Promise.resolve()}function aI(r,t,e){if((r=Ka(r,Mu))._firestoreClient||r._terminated)throw new ge(Kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new ge(Kt.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:t,_offline:e},wx(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(mi.fromBase64String(t))}catch(e){throw new ge(Kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ha(mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ha._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ld(t,Ha._jsonSchema))return Ha.fromBase64String(t.bytes)}}Ha._jsonSchemaVersion="firestore/bytes/1.0",Ha._jsonSchema={type:pi("string",Ha._jsonSchemaVersion),bytes:pi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ge(Kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ge(Kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ge(Kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return sn(this._lat,t._lat)||sn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:el._jsonSchemaVersion}}static fromJSON(t){if(Ld(t,el._jsonSchema))return new el(t.latitude,t.longitude)}}el._jsonSchemaVersion="firestore/geoPoint/1.0",el._jsonSchema={type:pi("string",el._jsonSchemaVersion),latitude:pi("number"),longitude:pi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ld(t,nl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new nl(t.vectorValues);throw new ge(Kt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nl._jsonSchemaVersion="firestore/vectorValue/1.0",nl._jsonSchema={type:pi("string",nl._jsonSchemaVersion),vectorValues:pi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=/^__.*__$/;class lI{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new zl(t,this.data,this.fieldMask,e,this.fieldTransforms):new nf(t,this.data,e,this.fieldTransforms)}}class xx{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new zl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ax(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:r})}}class X2{constructor(t,e,n,s,o,u){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new X2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return j1(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Ax(this.Ac)&&oI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uI{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||fm(t)}Cc(t,e,n,s=!1){return new X2({Ac:t,methodName:e,Dc:n,path:Fr.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W2(r){const t=r._freezeSettings(),e=fm(r._databaseId);return new uI(r._databaseId,!!t.ignoreUndefinedProperties,e)}function cI(r,t,e,n,s,o={}){const u=r.Cc(o.merge||o.mergeFields?2:0,t,e,s);Z2("Data must be an object, but it was:",u,n);const c=Ex(n,u);let f,d;if(o.merge)f=new ia(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const w=Xg(t,v,e);if(!u.contains(w))throw new ge(Kt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Tx(p,w)||p.push(w)}f=new ia(p),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new lI(new ws(c),f,d)}class gm extends Q2{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}function hI(r,t,e,n){const s=r.Cc(1,t,e);Z2("Data must be an object, but it was:",s,n);const o=[],u=ws.empty();Fu(n,((f,d)=>{const p=J2(t,f,e);d=xo(d);const v=s.yc(p);if(d instanceof gm)o.push(p);else{const w=Bd(d,v);w!=null&&(o.push(p),u.set(p,w))}}));const c=new ia(o);return new xx(u,c,s.fieldTransforms)}function fI(r,t,e,n,s,o){const u=r.Cc(1,t,e),c=[Xg(t,n,e)],f=[s];if(o.length%2!=0)throw new ge(Kt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Xg(t,o[w])),f.push(o[w+1]);const d=[],p=ws.empty();for(let w=c.length-1;w>=0;--w)if(!Tx(d,c[w])){const y=c[w];let C=f[w];C=xo(C);const D=u.yc(y);if(C instanceof gm)d.push(y);else{const M=Bd(C,D);M!=null&&(d.push(y),p.set(y,M))}}const v=new ia(d);return new xx(p,v,u.fieldTransforms)}function dI(r,t,e,n=!1){return Bd(e,r.Cc(n?4:3,t))}function Bd(r,t){if(Sx(r=xo(r)))return Z2("Unsupported field value:",t,r),Ex(r,t);if(r instanceof Q2)return(function(n,s){if(!Ax(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let u=0;for(const c of n){let f=Bd(c,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(r,t)}return(function(n,s){if((n=xo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZT(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=On.fromDate(n);return{timestampValue:Zh(s.serializer,o)}}if(n instanceof On){const o=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,o)}}if(n instanceof el)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ha)return{bytesValue:w3(s.serializer,n._byteString)};if(n instanceof si){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L2(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof nl)return(function(u,c){return{mapValue:{fields:{[A2]:{stringValue:E2},[Kh]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return T2(c.serializer,d)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Q1(n)}`)})(r,t)}function Ex(r,t){const e={};return U4(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fu(r,((n,s)=>{const o=Bd(s,t.mc(n));o!=null&&(e[n]=o)})),{mapValue:{fields:e}}}function Sx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof On||r instanceof el||r instanceof Ha||r instanceof si||r instanceof Q2||r instanceof nl)}function Z2(r,t,e){if(!Sx(e)||!T4(e)){const n=Q1(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function Xg(r,t,e){if((t=xo(t))instanceof mm)return t._internalPath;if(typeof t=="string")return J2(r,t);throw j1("Field path arguments must be of type string or ",r,!1,void 0,e)}const pI=new RegExp("[~\\*/\\[\\]]");function J2(r,t,e){if(t.search(pI)>=0)throw j1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new mm(...t.split("."))._internalPath}catch{throw j1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function j1(r,t,e,n,s){const o=n&&!n.isEmpty(),u=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${n}`),u&&(f+=` in document ${s}`),f+=")"),new ge(Kt.INVALID_ARGUMENT,c+r+f)}function Tx(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,e,n,s,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(t5("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class mI extends Nx{data(){return super.data()}}function t5(r,t){return typeof t=="string"?J2(r,t):t instanceof mm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(Kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e5{}class Cx extends e5{}function Rx(r,t,...e){let n=[];t instanceof e5&&n.push(t),n=n.concat(e),(function(o){const u=o.filter((f=>f instanceof r5)).length,c=o.filter((f=>f instanceof n5)).length;if(u>1||u>0&&c>0)throw new ge(Kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class n5 extends Cx{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new n5(t,e,n)}_apply(t){const e=this._parse(t);return Dx(t._query,e),new Bu(t.firestore,t.converter,Mg(t._query,e))}_parse(t){const e=W2(t.firestore);return(function(o,u,c,f,d,p,v){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ge(Kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){__(v,p);const C=[];for(const D of v)C.push(b_(f,o,D));w={arrayValue:{values:C}}}else w=b_(f,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||__(v,p),w=dI(c,u,v,p==="in"||p==="not-in");return En.create(d,p,w)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class r5 extends e5{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new r5(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:er.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)Dx(u,f),u=Mg(u,f)})(t._query,e),new Bu(t.firestore,t.converter,Mg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i5 extends Cx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new i5(t,e)}_apply(t){const e=(function(s,o,u){if(s.startAt!==null)throw new ge(Kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(Kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(o,u)})(t._query,this._field,this._direction);return new Bu(t.firestore,t.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new ef(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function Lx(r,t="asc"){const e=t,n=t5("orderBy",r);return i5._create(n,e)}function b_(r,t,e){if(typeof(e=xo(e))=="string"){if(e==="")throw new ge(Kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i3(t)&&e.indexOf("/")!==-1)throw new ge(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Hn.fromString(e));if(!_e.isDocumentKey(n))throw new ge(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Ad(r,new _e(n))}if(e instanceof si)return Ad(r,e._key);throw new ge(Kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q1(e)}.`)}function __(r,t){if(!Array.isArray(r)||r.length===0)throw new ge(Kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Dx(r,t){const e=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ge(Kt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ge(Kt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class gI{convertValue(t,e="none"){switch(Du(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Me(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Fu(t,((s,o)=>{n[s]=this.convertValue(o,e)})),n}convertVectorValue(t){var n,s,o;const e=(o=(s=(n=t.fields)==null?void 0:n[Kh].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>Rr(u.doubleValue)));return new nl(e)}convertGeoPoint(t){return new el(Rr(t.latitude),Rr(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=em(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(wd(t));default:return null}}convertTimestamp(t){const e=Fl(t);return new On(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Hn.fromString(t);qe(L3(n),9688,{name:t});const s=new Ec(n.get(1),n.get(3)),o=new _e(n.popFirst(5));return s.isEqual(e)||ks(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r,t,e){let n;return n=r?r.toFirestore(t):t,n}class ed{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bc extends Nx{constructor(t,e,n,s,o,u){super(t,e,n,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new u1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(t5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Kt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=bc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}bc._jsonSchemaVersion="firestore/documentSnapshot/1.0",bc._jsonSchema={type:pi("string",bc._jsonSchemaVersion),bundleSource:pi("string","DocumentSnapshot"),bundleName:pi("string"),bundle:pi("string")};class u1 extends bc{data(t={}){return super.data(t)}}class _c{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ed(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new u1(this._firestore,this._userDataWriter,n.key,n,new ed(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ge(Kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new u1(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ed(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new u1(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ed(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),p=u.indexOf(c.doc.key)),{type:vI(c.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Kt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_c._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=m2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:r})}}_c._jsonSchemaVersion="firestore/querySnapshot/1.0",_c._jsonSchema={type:pi("string",_c._jsonSchemaVersion),bundleSource:pi("string","QuerySnapshot"),bundleName:pi("string"),bundle:pi("string")};class s5 extends gI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new si(this.firestore,null,e)}}function Up(r){r=Ka(r,Bu);const t=Ka(r.firestore,Mu),e=Y2(t),n=new s5(t);return Ix(r._query),nI(e,r._query).then((s=>new _c(t,n,r,s)))}function bI(r,t,e){r=Ka(r,si);const n=Ka(r.firestore,Mu),s=yI(r.converter,t);return a5(n,[cI(W2(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,Ps.none())])}function kx(r,t,e,...n){r=Ka(r,si);const s=Ka(r.firestore,Mu),o=W2(s);let u;return u=typeof(t=xo(t))=="string"||t instanceof mm?fI(o,"updateDoc",r._key,t,e,n):hI(o,"updateDoc",r._key,t),a5(s,[u.toMutation(r._key,Ps.exists(!0))])}function _I(r){return a5(Ka(r.firestore,Mu),[new om(r._key,Ps.none())])}function Px(r,...t){var f,d,p;r=xo(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||v_(t[n])||(e=t[n++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(v_(t[n])){const v=t[n];t[n]=(f=v.next)==null?void 0:f.bind(v),t[n+1]=(d=v.error)==null?void 0:d.bind(v),t[n+2]=(p=v.complete)==null?void 0:p.bind(v)}let o,u,c;if(r instanceof si)u=Ka(r.firestore,Mu),c=rm(r._key.path),o={next:v=>{t[n]&&t[n](wI(u,r,v))},error:t[n+1],complete:t[n+2]};else{const v=Ka(r,Bu);u=Ka(v.firestore,Mu),c=v._query;const w=new s5(u);o={next:y=>{t[n]&&t[n](new _c(u,w,v,y))},error:t[n+1],complete:t[n+2]},Ix(r._query)}return(function(w,y,C,D){const M=new yx(D),k=new ox(y,M,C);return w.asyncQueue.enqueueAndForget((async()=>sx(await Qg(w),k))),()=>{M.Nu(),w.asyncQueue.enqueueAndForget((async()=>ax(await Qg(w),k)))}})(Y2(u),c,s,o)}function a5(r,t){return(function(n,s){const o=new jl;return n.asyncQueue.enqueueAndForget((async()=>H8(await eI(n),s,o))),o.promise})(Y2(r),t)}function wI(r,t,e){const n=e.docs.get(t._key),s=new s5(r);return new bc(r,s,t._key,n,new ed(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){tf=s})(h4),dd(new Bh("firestore",((n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),c=new Mu(new HS(n.getProvider("auth-internal")),new $S(u,n.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(d.options.projectId,p)})(u,s),u);return o={useFetchStreams:e,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Iu(Jv,tb,t),Iu(Jv,tb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="firebasestorage.googleapis.com",xI="storageBucket",AI=120*1e3,EI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Dc{constructor(t,e,n=0){super(Y0(t),`Firebase Storage: ${e} (${Y0(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sl.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Y0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var il;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(il||(il={}));function Y0(r){return"storage/"+r}function SI(){const r="An unknown error occurred, please check the error payload for server response.";return new sl(il.UNKNOWN,r)}function TI(){return new sl(il.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NI(){return new sl(il.CANCELED,"User canceled the upload/download.")}function II(r){return new sl(il.INVALID_URL,"Invalid URL '"+r+"'.")}function CI(r){return new sl(il.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function w_(r){return new sl(il.INVALID_ARGUMENT,r)}function Mx(){return new sl(il.APP_DELETED,"The Firebase app was deleted.")}function RI(r){return new sl(il.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=wo.makeFromUrl(t,e)}catch{return new wo(t,"")}if(n.path==="")return n;throw CI(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function d(H){H.path_=decodeURIComponent(H.path)}const p="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",y=new RegExp(`^https?://${v}/${p}/b/${s}/o${w}`,"i"),C={bucket:1,path:3},D=e===Ox?"(?:storage.googleapis.com|storage.cloud.google.com)":e,M="([^?#]*)",k=new RegExp(`^https?://${D}/${s}/${M}`,"i"),K=[{regex:c,indices:f,postModify:o},{regex:y,indices:C,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let H=0;H<K.length;H++){const ut=K[H],Z=ut.regex.exec(t);if(Z){const z=Z[ut.indices.bucket];let S=Z[ut.indices.path];S||(S=""),n=new wo(z,S),ut.postModify(n);break}}if(n==null)throw II(t);return n}}class LI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r,t,e){let n=1,s=null,o=null,u=!1,c=0;function f(){return c===2}let d=!1;function p(...M){d||(d=!0,t.apply(null,M))}function v(M){s=setTimeout(()=>{s=null,r(y,f())},M)}function w(){o&&clearTimeout(o)}function y(M,...k){if(d){w();return}if(M){w(),p.call(null,M,...k);return}if(f()||u){w(),p.call(null,M,...k);return}n<64&&(n*=2);let K;c===1?(c=2,K=0):K=(n+Math.random())*1e3,v(K)}let C=!1;function D(M){C||(C=!0,w(),!d&&(s!==null?(M||(c=2),clearTimeout(s),v(0)):M||(c=1)))}return v(0),o=setTimeout(()=>{u=!0,D(!0)},e),D}function kI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){return r!==void 0}function x_(r,t,e,n){if(n<t)throw w_(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw w_(`Invalid value for '${r}'. Expected ${e} or less.`)}function OI(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const s=t(n)+"="+t(r[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var V1;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(V1||(V1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r,t){const e=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,o=t.indexOf(r)!==-1;return e||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,e,n,s,o,u,c,f,d,p,v,w=!0,y=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new zp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=c=>{const f=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const c=o.getErrorCode()===V1.NO_ERROR,f=o.getStatus();if(!c||MI(f,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===V1.ABORT;n(!1,new zp(!1,null,p));return}const d=this.successCodes_.indexOf(f)!==-1;n(!0,new zp(d,o))})},e=(n,s)=>{const o=this.resolve_,u=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());PI(f)?o(f):o()}catch(f){u(f)}else if(c!==null){const f=SI();f.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,f)):u(f)}else if(s.canceled){const f=this.appDelete_?Mx():NI();u(f)}else{const f=TI();u(f)}};this.canceled_?e(!1,new zp(!1,null,!0)):this.backoffId_=DI(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&kI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zp{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function VI(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function FI(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function BI(r,t){t&&(r["X-Firebase-GMPID"]=t)}function UI(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function zI(r,t,e,n,s,o,u=!0,c=!1){const f=OI(r.urlParams),d=r.url+f,p=Object.assign({},r.headers);return BI(p,t),VI(p,e),FI(p,o),UI(p,n),new jI(d,r.method,p,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,u,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function HI(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,e){this._service=t,e instanceof wo?this._location=e:this._location=wo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new F1(t,e)}get root(){const t=new wo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HI(this._location.path)}get storage(){return this._service}get parent(){const t=qI(this._location.path);if(t===null)return null;const e=new wo(this._location.bucket,t);return new F1(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw RI(t)}}function A_(r,t){const e=t==null?void 0:t[xI];return e==null?null:wo.makeFromBucketSpec(e,r)}function GI(r,t,e,n={}){r.host=`${t}:${e}`;const s=Y1(t);s&&(Zw(`https://${r.host}/b`),t4("Storage",!0)),r._isUsingEmulator=!0,r._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:Jw(o,r.app.options.projectId))}class KI{constructor(t,e,n,s,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=Ox,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AI,this._maxUploadRetryTime=EI,this._requests=new Set,s!=null?this._bucket=wo.makeFromBucketSpec(s,this._host):this._bucket=A_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wo.makeFromBucketSpec(this._url,t):this._bucket=A_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){x_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){x_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(c4(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new F1(this,t)}_makeRequest(t,e,n,s,o=!0){if(this._deleted)return new LI(Mx());{const u=zI(t,this._appId,n,s,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const E_="@firebase/storage",S_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="storage";function $I(r=d4(),t){r=xo(r);const n=u4(r,jx).getImmediate({identifier:t}),s=Xw("storage");return s&&YI(n,...s),n}function YI(r,t,e,n={}){GI(r,t,e,n)}function QI(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new KI(e,n,s,t,h4)}function XI(){dd(new Bh(jx,QI,"PUBLIC").setMultipleInstances(!0)),Iu(E_,S_,""),Iu(E_,S_,"esm2020")}XI();const c1={apiKey:"AIzaSyBzQUasinAfDO_NiejzLTIn7NTlU8bGHqg",authDomain:"flow-crm-6e96f.firebaseapp.com",projectId:"flow-crm-6e96f",storageBucket:"flow-crm-6e96f.firebasestorage.app",messagingSenderId:"642812100230",appId:"1:642812100230:web:0ba2fc8911f4219eed5b07"};console.log(" Firebase config:",{projectId:c1.projectId,authDomain:c1.authDomain,storageBucket:c1.storageBucket});const Vx=f4(c1),_o=iI(Vx);typeof window<"u"&&(console.log(" Initializing IndexedDB persistence..."),sI(_o).then(()=>{console.log(" IndexedDB persistence enabled - offline data will be cached")}).catch(r=>{r.code==="failed-precondition"?console.warn(" Firestore persistence failed: Multiple tabs open"):r.code==="unimplemented"?console.warn(" Firestore persistence not available in this browser"):console.error(" Unexpected persistence error:",r)}));$I(Vx);console.log(" Firebase initialized successfully");const WI=async r=>{try{const t=Fd(_o,"customers",r.id);await bI(t,{...r,checklists:r.checklists||[],meetings:r.meetings||[],createdAt:On.now(),updatedAt:On.now()}),console.log(" Customer created:",r.id)}catch(t){throw console.error("Error creating customer:",t),t}},ZI=async(r,t)=>{try{const e=Fd(_o,"customers",r);await kx(e,{...t,updatedAt:On.now()}),console.log(" Customer updated:",r)}catch(e){throw console.error(" Error updating customer:",e),e}},JI=async r=>{try{const t=Fd(_o,"customers",r);await _I(t),console.log(" Customer deleted:",r)}catch(t){throw console.error("Error deleting customer:",t),t}},t7=r=>{const t=td(_o,"customers"),e=Rx(t,Lx("createdAt","desc"));return console.log(" Setting up real-time listener for customers list"),Px(e,n=>{console.log(" Customers snapshot received:",n.docs.length,"documents");const s=n.docs.map(o=>{const u=o.data();return{id:o.id,...u,checklists:u.checklists||[],meetings:u.meetings||[]}});r(s)},n=>{console.error(" Error in customers listener:",n),n.code==="permission-denied"?console.error(" Permission denied - check Firebase rules"):n.code==="unavailable"&&console.error(" Firestore unavailable - offline mode"),r([])})},e7=(r,t)=>{const e=Fd(_o,"customers",r);return console.log(" Setting up real-time listener for customer:",r),Px(e,n=>{var u,c;if(!n.exists()){console.log(" Customer document does not exist:",r),t(null);return}console.log(" Customer snapshot received:",r);const s=n.data(),o={id:n.id,...s,checklists:s.checklists||[],meetings:s.meetings||[]};console.log(" Customer details loaded:",{id:o.id,name:o.name,checklistsCount:((u=o.checklists)==null?void 0:u.length)||0,meetingsCount:((c=o.meetings)==null?void 0:c.length)||0}),t(o)},n=>{console.error(" Error in customer listener:",n),n.code==="permission-denied"?console.error(" Permission denied - check Firebase rules"):n.code==="unavailable"&&console.error(" Firestore unavailable - offline mode"),t(null)})},Wg=()=>Math.random().toString(36).substr(2,9),n7=async()=>{try{console.log(" Starting migration: subcollections  array fields");const r=td(_o,"customers"),t=await Up(r);let e=0,n=0,s=0;for(const o of t.docs){const u=o.id,c=o.data();try{if(Array.isArray(c.checklists)&&c.checklists.length>0&&Array.isArray(c.meetings)&&c.meetings.length>0){console.log(` Customer ${u} already migrated, skipping`),n++;continue}console.log(` Migrating customer ${u}...`);const f=td(_o,`customers/${u}/checklists`),p=(await Up(f)).docs.map(C=>C.data()),v=td(_o,`customers/${u}/meetings`),w=await Up(Rx(v,Lx("createdAt","asc"))),y=[];for(const C of w.docs){const D=C.data(),M=td(_o,`customers/${u}/meetings/${C.id}/properties`),G=(await Up(M)).docs.map(K=>K.data());y.push({id:C.id,...D,properties:G})}await kx(Fd(_o,"customers",u),{checklists:p,meetings:y,migratedAt:On.now()}),console.log(` Migrated customer ${u}:`,{checklists:p.length,meetings:y.length,totalProperties:y.reduce((C,D)=>{var M;return C+(((M=D.properties)==null?void 0:M.length)||0)},0)}),e++}catch(f){console.error(` Error migrating customer ${u}:`,f),s++}}console.log(" Migration complete:",{migrated:e,skipped:n,errors:s,total:t.docs.length})}catch(r){throw console.error(" Migration failed:",r),r}};function r7(r,t){return t.forEach((function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach((function(n){if(n!=="default"&&!(n in r)){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}}))})),Object.freeze(r)}function Fx(r,t){return new Promise((function(e,n){let s;return i7(r).then((function(o){try{return s=o,e(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(u){return n(u)}}),n)}))}const i7=r=>new Promise(((t,e)=>{const n=new FileReader;n.addEventListener("load",(({target:{result:s}})=>{const o=new DataView(s);let u=0;if(o.getUint16(u)!==65496)return e("not a valid JPEG");for(u+=2;;){const c=o.getUint16(u);if(c===65498)break;const f=o.getUint16(u+2);if(c===65505&&o.getUint32(u+4)===1165519206){const d=u+10;let p;switch(o.getUint16(d)){case 18761:p=!0;break;case 19789:p=!1;break;default:return e("TIFF header contains invalid endian")}if(o.getUint16(d+2,p)!==42)return e("TIFF header contains invalid version");const v=o.getUint32(d+4,p),w=d+v+2+12*o.getUint16(d+v,p);for(let y=d+v+2;y<w;y+=12)if(o.getUint16(y,p)==274){if(o.getUint16(y+2,p)!==3)return e("Orientation data type is invalid");if(o.getUint32(y+4,p)!==1)return e("Orientation data count is invalid");o.setUint16(y+8,1,p);break}return t(s.slice(u,u+2+f))}u+=2+f}return t(new Blob)})),n.readAsArrayBuffer(r)}));var B1={},s7={get exports(){return B1},set exports(r){B1=r}};(function(r){var t,e,n={};s7.exports=n,n.parse=function(s,o){for(var u=n.bin.readUshort,c=n.bin.readUint,f=0,d={},p=new Uint8Array(s),v=p.length-4;c(p,v)!=101010256;)v--;f=v,f+=4;var w=u(p,f+=4);u(p,f+=2);var y=c(p,f+=2),C=c(p,f+=4);f+=4,f=C;for(var D=0;D<w;D++){c(p,f),f+=4,f+=4,f+=4,c(p,f+=4),y=c(p,f+=4);var M=c(p,f+=4),k=u(p,f+=4),G=u(p,f+2),K=u(p,f+4);f+=6;var H=c(p,f+=8);f+=4,f+=k+G+K,n._readLocal(p,H,d,y,M,o)}return d},n._readLocal=function(s,o,u,c,f,d){var p=n.bin.readUshort,v=n.bin.readUint;v(s,o),p(s,o+=4),p(s,o+=2);var w=p(s,o+=2);v(s,o+=2),v(s,o+=4),o+=4;var y=p(s,o+=8),C=p(s,o+=2);o+=2;var D=n.bin.readUTF8(s,o,y);if(o+=y,o+=C,d)u[D]={size:f,csize:c};else{var M=new Uint8Array(s.buffer,o);if(w==0)u[D]=new Uint8Array(M.buffer.slice(o,o+c));else{if(w!=8)throw"unknown compression method: "+w;var k=new Uint8Array(f);n.inflateRaw(M,k),u[D]=k}}},n.inflateRaw=function(s,o){return n.F.inflate(s,o)},n.inflate=function(s,o){return s[0],s[1],n.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),o)},n.deflate=function(s,o){o==null&&(o={level:6});var u=0,c=new Uint8Array(50+Math.floor(1.1*s.length));c[u]=120,c[u+1]=156,u+=2,u=n.F.deflateRaw(s,c,u,o.level);var f=n.adler(s,0,s.length);return c[u+0]=f>>>24&255,c[u+1]=f>>>16&255,c[u+2]=f>>>8&255,c[u+3]=f>>>0&255,new Uint8Array(c.buffer,0,u+4)},n.deflateRaw=function(s,o){o==null&&(o={level:6});var u=new Uint8Array(50+Math.floor(1.1*s.length)),c=n.F.deflateRaw(s,u,c,o.level);return new Uint8Array(u.buffer,0,c)},n.encode=function(s,o){o==null&&(o=!1);var u=0,c=n.bin.writeUint,f=n.bin.writeUshort,d={};for(var p in s){var v=!n._noNeed(p)&&!o,w=s[p],y=n.crc.crc(w,0,w.length);d[p]={cpr:v,usize:w.length,crc:y,file:v?n.deflateRaw(w):w}}for(var p in d)u+=d[p].file.length+30+46+2*n.bin.sizeUTF8(p);u+=22;var C=new Uint8Array(u),D=0,M=[];for(var p in d){var k=d[p];M.push(D),D=n._writeHeader(C,D,p,k,0)}var G=0,K=D;for(var p in d)k=d[p],M.push(D),D=n._writeHeader(C,D,p,k,1,M[G++]);var H=D-K;return c(C,D,101010256),D+=4,f(C,D+=4,G),f(C,D+=2,G),c(C,D+=2,H),c(C,D+=4,K),D+=4,D+=2,C.buffer},n._noNeed=function(s){var o=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},n._writeHeader=function(s,o,u,c,f,d){var p=n.bin.writeUint,v=n.bin.writeUshort,w=c.file;return p(s,o,f==0?67324752:33639248),o+=4,f==1&&(o+=2),v(s,o,20),v(s,o+=2,0),v(s,o+=2,c.cpr?8:0),p(s,o+=2,0),p(s,o+=4,c.crc),p(s,o+=4,w.length),p(s,o+=4,c.usize),v(s,o+=4,n.bin.sizeUTF8(u)),v(s,o+=2,0),o+=2,f==1&&(o+=2,o+=2,p(s,o+=6,d),o+=4),o+=n.bin.writeUTF8(s,o,u),f==0&&(s.set(w,o),o+=w.length),o},n.crc={table:(function(){for(var s=new Uint32Array(256),o=0;o<256;o++){for(var u=o,c=0;c<8;c++)1&u?u=3988292384^u>>>1:u>>>=1;s[o]=u}return s})(),update:function(s,o,u,c){for(var f=0;f<c;f++)s=n.crc.table[255&(s^o[u+f])]^s>>>8;return s},crc:function(s,o,u){return 4294967295^n.crc.update(4294967295,s,o,u)}},n.adler=function(s,o,u){for(var c=1,f=0,d=o,p=o+u;d<p;){for(var v=Math.min(d+5552,p);d<v;)f+=c+=s[d++];c%=65521,f%=65521}return f<<16|c},n.bin={readUshort:function(s,o){return s[o]|s[o+1]<<8},writeUshort:function(s,o,u){s[o]=255&u,s[o+1]=u>>8&255},readUint:function(s,o){return 16777216*s[o+3]+(s[o+2]<<16|s[o+1]<<8|s[o])},writeUint:function(s,o,u){s[o]=255&u,s[o+1]=u>>8&255,s[o+2]=u>>16&255,s[o+3]=u>>24&255},readASCII:function(s,o,u){for(var c="",f=0;f<u;f++)c+=String.fromCharCode(s[o+f]);return c},writeASCII:function(s,o,u){for(var c=0;c<u.length;c++)s[o+c]=u.charCodeAt(c)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,o,u){for(var c,f="",d=0;d<u;d++)f+="%"+n.bin.pad(s[o+d].toString(16));try{c=decodeURIComponent(f)}catch{return n.bin.readASCII(s,o,u)}return c},writeUTF8:function(s,o,u){for(var c=u.length,f=0,d=0;d<c;d++){var p=u.charCodeAt(d);if((4294967168&p)==0)s[o+f]=p,f++;else if((4294965248&p)==0)s[o+f]=192|p>>6,s[o+f+1]=128|p>>0&63,f+=2;else if((4294901760&p)==0)s[o+f]=224|p>>12,s[o+f+1]=128|p>>6&63,s[o+f+2]=128|p>>0&63,f+=3;else{if((4292870144&p)!=0)throw"e";s[o+f]=240|p>>18,s[o+f+1]=128|p>>12&63,s[o+f+2]=128|p>>6&63,s[o+f+3]=128|p>>0&63,f+=4}}return f},sizeUTF8:function(s){for(var o=s.length,u=0,c=0;c<o;c++){var f=s.charCodeAt(c);if((4294967168&f)==0)u++;else if((4294965248&f)==0)u+=2;else if((4294901760&f)==0)u+=3;else{if((4292870144&f)!=0)throw"e";u+=4}}return u}},n.F={},n.F.deflateRaw=function(s,o,u,c){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],d=n.F.U,p=n.F._goodIndex;n.F._hash;var v=n.F._putsE,w=0,y=u<<3,C=0,D=s.length;if(c==0){for(;w<D;)v(o,y,w+(T=Math.min(65535,D-w))==D?1:0),y=n.F._copyExact(s,w,T,o,y+8),w+=T;return y>>>3}var M=d.lits,k=d.strt,G=d.prev,K=0,H=0,ut=0,Z=0,z=0,S=0;for(D>2&&(k[S=n.F._hash(s,0)]=0),w=0;w<D;w++){if(z=S,w+1<D-2){S=n.F._hash(s,w+1);var E=w+1&32767;G[E]=k[S],k[S]=E}if(C<=w){(K>14e3||H>26697)&&D-w>100&&(C<w&&(M[K]=w-C,K+=2,C=w),y=n.F._writeBlock(w==D-1||C==D?1:0,M,K,Z,s,ut,w-ut,o,y),K=H=Z=0,ut=w);var V=0;w<D-2&&(V=n.F._bestMatch(s,w,G,z,Math.min(f[2],D-w),f[3]));var T=V>>>16,I=65535&V;if(V!=0){I=65535&V;var L=p(T=V>>>16,d.of0);d.lhst[257+L]++;var $=p(I,d.df0);d.dhst[$]++,Z+=d.exb[L]+d.dxb[$],M[K]=T<<23|w-C,M[K+1]=I<<16|L<<8|$,K+=2,C=w+T}else d.lhst[s[w]]++;H++}}for(ut==w&&s.length!=0||(C<w&&(M[K]=w-C,K+=2,C=w),y=n.F._writeBlock(1,M,K,Z,s,ut,w-ut,o,y),K=0,H=0,K=H=Z=0,ut=w);(7&y)!=0;)y++;return y>>>3},n.F._bestMatch=function(s,o,u,c,f,d){var p=32767&o,v=u[p],w=p-v+32768&32767;if(v==p||c!=n.F._hash(s,o-w))return 0;for(var y=0,C=0,D=Math.min(32767,o);w<=D&&--d!=0&&v!=p;){if(y==0||s[o+y]==s[o+y-w]){var M=n.F._howLong(s,o,w);if(M>y){if(C=w,(y=M)>=f)break;w+2<M&&(M=w+2);for(var k=0,G=0;G<M-2;G++){var K=o-w+G+32768&32767,H=K-u[K]+32768&32767;H>k&&(k=H,v=K)}}}w+=(p=v)-(v=u[p])+32768&32767}return y<<16|C},n.F._howLong=function(s,o,u){if(s[o]!=s[o-u]||s[o+1]!=s[o+1-u]||s[o+2]!=s[o+2-u])return 0;var c=o,f=Math.min(s.length,o+258);for(o+=3;o<f&&s[o]==s[o-u];)o++;return o-c},n.F._hash=function(s,o){return(s[o]<<8|s[o+1])+(s[o+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(s,o,u,c,f,d,p,v,w){var y,C,D,M,k,G,K,H,ut,Z=n.F.U,z=n.F._putsF,S=n.F._putsE;Z.lhst[256]++,C=(y=n.F.getTrees())[0],D=y[1],M=y[2],k=y[3],G=y[4],K=y[5],H=y[6],ut=y[7];var E=32+((w+3&7)==0?0:8-(w+3&7))+(p<<3),V=c+n.F.contSize(Z.fltree,Z.lhst)+n.F.contSize(Z.fdtree,Z.dhst),T=c+n.F.contSize(Z.ltree,Z.lhst)+n.F.contSize(Z.dtree,Z.dhst);T+=14+3*K+n.F.contSize(Z.itree,Z.ihst)+(2*Z.ihst[16]+3*Z.ihst[17]+7*Z.ihst[18]);for(var I=0;I<286;I++)Z.lhst[I]=0;for(I=0;I<30;I++)Z.dhst[I]=0;for(I=0;I<19;I++)Z.ihst[I]=0;var L=E<V&&E<T?0:V<T?1:2;if(z(v,w,s),z(v,w+1,L),w+=3,L==0){for(;(7&w)!=0;)w++;w=n.F._copyExact(f,d,p,v,w)}else{var $,ft;if(L==1&&($=Z.fltree,ft=Z.fdtree),L==2){n.F.makeCodes(Z.ltree,C),n.F.revCodes(Z.ltree,C),n.F.makeCodes(Z.dtree,D),n.F.revCodes(Z.dtree,D),n.F.makeCodes(Z.itree,M),n.F.revCodes(Z.itree,M),$=Z.ltree,ft=Z.dtree,S(v,w,k-257),S(v,w+=5,G-1),S(v,w+=5,K-4),w+=4;for(var P=0;P<K;P++)S(v,w+3*P,Z.itree[1+(Z.ordr[P]<<1)]);w+=3*K,w=n.F._codeTiny(H,Z.itree,v,w),w=n.F._codeTiny(ut,Z.itree,v,w)}for(var B=d,tt=0;tt<u;tt+=2){for(var st=o[tt],gt=st>>>23,J=B+(8388607&st);B<J;)w=n.F._writeLit(f[B++],$,v,w);if(gt!=0){var O=o[tt+1],Q=O>>16,W=O>>8&255,et=255&O;S(v,w=n.F._writeLit(257+W,$,v,w),gt-Z.of0[W]),w+=Z.exb[W],z(v,w=n.F._writeLit(et,ft,v,w),Q-Z.df0[et]),w+=Z.dxb[et],B+=gt}}w=n.F._writeLit(256,$,v,w)}return w},n.F._copyExact=function(s,o,u,c,f){var d=f>>>3;return c[d]=u,c[d+1]=u>>>8,c[d+2]=255-c[d],c[d+3]=255-c[d+1],d+=4,c.set(new Uint8Array(s.buffer,o,u),d),f+(u+4<<3)},n.F.getTrees=function(){for(var s=n.F.U,o=n.F._hufTree(s.lhst,s.ltree,15),u=n.F._hufTree(s.dhst,s.dtree,15),c=[],f=n.F._lenCodes(s.ltree,c),d=[],p=n.F._lenCodes(s.dtree,d),v=0;v<c.length;v+=2)s.ihst[c[v]]++;for(v=0;v<d.length;v+=2)s.ihst[d[v]]++;for(var w=n.F._hufTree(s.ihst,s.itree,7),y=19;y>4&&s.itree[1+(s.ordr[y-1]<<1)]==0;)y--;return[o,u,w,f,p,y,c,d]},n.F.getSecond=function(s){for(var o=[],u=0;u<s.length;u+=2)o.push(s[u+1]);return o},n.F.nonZero=function(s){for(var o="",u=0;u<s.length;u+=2)s[u+1]!=0&&(o+=(u>>1)+",");return o},n.F.contSize=function(s,o){for(var u=0,c=0;c<o.length;c++)u+=o[c]*s[1+(c<<1)];return u},n.F._codeTiny=function(s,o,u,c){for(var f=0;f<s.length;f+=2){var d=s[f],p=s[f+1];c=n.F._writeLit(d,o,u,c);var v=d==16?2:d==17?3:7;d>15&&(n.F._putsE(u,c,p,v),c+=v)}return c},n.F._lenCodes=function(s,o){for(var u=s.length;u!=2&&s[u-1]==0;)u-=2;for(var c=0;c<u;c+=2){var f=s[c+1],d=c+3<u?s[c+3]:-1,p=c+5<u?s[c+5]:-1,v=c==0?-1:s[c-1];if(f==0&&d==f&&p==f){for(var w=c+5;w+2<u&&s[w+2]==f;)w+=2;(y=Math.min(w+1-c>>>1,138))<11?o.push(17,y-3):o.push(18,y-11),c+=2*y-2}else if(f==v&&d==f&&p==f){for(w=c+5;w+2<u&&s[w+2]==f;)w+=2;var y=Math.min(w+1-c>>>1,6);o.push(16,y-3),c+=2*y-2}else o.push(f,0)}return u>>>1},n.F._hufTree=function(s,o,u){var c=[],f=s.length,d=o.length,p=0;for(p=0;p<d;p+=2)o[p]=0,o[p+1]=0;for(p=0;p<f;p++)s[p]!=0&&c.push({lit:p,f:s[p]});var v=c.length,w=c.slice(0);if(v==0)return 0;if(v==1){var y=c[0].lit;return w=y==0?1:0,o[1+(y<<1)]=1,o[1+(w<<1)]=1,1}c.sort((function(H,ut){return H.f-ut.f}));var C=c[0],D=c[1],M=0,k=1,G=2;for(c[0]={lit:-1,f:C.f+D.f,l:C,r:D,d:0};k!=v-1;)C=M!=k&&(G==v||c[M].f<c[G].f)?c[M++]:c[G++],D=M!=k&&(G==v||c[M].f<c[G].f)?c[M++]:c[G++],c[k++]={lit:-1,f:C.f+D.f,l:C,r:D};var K=n.F.setDepth(c[k-1],0);for(K>u&&(n.F.restrictDepth(w,u,K),K=u),p=0;p<v;p++)o[1+(w[p].lit<<1)]=w[p].d;return K},n.F.setDepth=function(s,o){return s.lit!=-1?(s.d=o,o):Math.max(n.F.setDepth(s.l,o+1),n.F.setDepth(s.r,o+1))},n.F.restrictDepth=function(s,o,u){var c=0,f=1<<u-o,d=0;for(s.sort((function(v,w){return w.d==v.d?v.f-w.f:w.d-v.d})),c=0;c<s.length&&s[c].d>o;c++){var p=s[c].d;s[c].d=o,d+=f-(1<<u-p)}for(d>>>=u-o;d>0;)(p=s[c].d)<o?(s[c].d++,d-=1<<o-p-1):c++;for(;c>=0;c--)s[c].d==o&&d<0&&(s[c].d--,d++);d!=0&&console.log("debt left")},n.F._goodIndex=function(s,o){var u=0;return o[16|u]<=s&&(u|=16),o[8|u]<=s&&(u|=8),o[4|u]<=s&&(u|=4),o[2|u]<=s&&(u|=2),o[1|u]<=s&&(u|=1),u},n.F._writeLit=function(s,o,u,c){return n.F._putsF(u,c,o[s<<1]),c+o[1+(s<<1)]},n.F.inflate=function(s,o){var u=Uint8Array;if(s[0]==3&&s[1]==0)return o||new u(0);var c=n.F,f=c._bitsF,d=c._bitsE,p=c._decodeTiny,v=c.makeCodes,w=c.codes2map,y=c._get17,C=c.U,D=o==null;D&&(o=new u(s.length>>>2<<3));for(var M,k,G=0,K=0,H=0,ut=0,Z=0,z=0,S=0,E=0,V=0;G==0;)if(G=f(s,V,1),K=f(s,V+1,2),V+=3,K!=0){if(D&&(o=n.F._check(o,E+(1<<17))),K==1&&(M=C.flmap,k=C.fdmap,z=511,S=31),K==2){H=d(s,V,5)+257,ut=d(s,V+5,5)+1,Z=d(s,V+10,4)+4,V+=14;for(var T=0;T<38;T+=2)C.itree[T]=0,C.itree[T+1]=0;var I=1;for(T=0;T<Z;T++){var L=d(s,V+3*T,3);C.itree[1+(C.ordr[T]<<1)]=L,L>I&&(I=L)}V+=3*Z,v(C.itree,I),w(C.itree,I,C.imap),M=C.lmap,k=C.dmap,V=p(C.imap,(1<<I)-1,H+ut,s,V,C.ttree);var $=c._copyOut(C.ttree,0,H,C.ltree);z=(1<<$)-1;var ft=c._copyOut(C.ttree,H,ut,C.dtree);S=(1<<ft)-1,v(C.ltree,$),w(C.ltree,$,M),v(C.dtree,ft),w(C.dtree,ft,k)}for(;;){var P=M[y(s,V)&z];V+=15&P;var B=P>>>4;if(!(B>>>8))o[E++]=B;else{if(B==256)break;var tt=E+B-254;if(B>264){var st=C.ldef[B-257];tt=E+(st>>>3)+d(s,V,7&st),V+=7&st}var gt=k[y(s,V)&S];V+=15&gt;var J=gt>>>4,O=C.ddef[J],Q=(O>>>4)+f(s,V,15&O);for(V+=15&O,D&&(o=n.F._check(o,E+(1<<17)));E<tt;)o[E]=o[E++-Q],o[E]=o[E++-Q],o[E]=o[E++-Q],o[E]=o[E++-Q];E=tt}}}else{(7&V)!=0&&(V+=8-(7&V));var W=4+(V>>>3),et=s[W-4]|s[W-3]<<8;D&&(o=n.F._check(o,E+et)),o.set(new u(s.buffer,s.byteOffset+W,et),E),V=W+et<<3,E+=et}return o.length==E?o:o.slice(0,E)},n.F._check=function(s,o){var u=s.length;if(o<=u)return s;var c=new Uint8Array(Math.max(u<<1,o));return c.set(s,0),c},n.F._decodeTiny=function(s,o,u,c,f,d){for(var p=n.F._bitsE,v=n.F._get17,w=0;w<u;){var y=s[v(c,f)&o];f+=15&y;var C=y>>>4;if(C<=15)d[w]=C,w++;else{var D=0,M=0;C==16?(M=3+p(c,f,2),f+=2,D=d[w-1]):C==17?(M=3+p(c,f,3),f+=3):C==18&&(M=11+p(c,f,7),f+=7);for(var k=w+M;w<k;)d[w]=D,w++}}return f},n.F._copyOut=function(s,o,u,c){for(var f=0,d=0,p=c.length>>>1;d<u;){var v=s[d+o];c[d<<1]=0,c[1+(d<<1)]=v,v>f&&(f=v),d++}for(;d<p;)c[d<<1]=0,c[1+(d<<1)]=0,d++;return f},n.F.makeCodes=function(s,o){for(var u,c,f,d,p=n.F.U,v=s.length,w=p.bl_count,y=0;y<=o;y++)w[y]=0;for(y=1;y<v;y+=2)w[s[y]]++;var C=p.next_code;for(u=0,w[0]=0,c=1;c<=o;c++)u=u+w[c-1]<<1,C[c]=u;for(f=0;f<v;f+=2)(d=s[f+1])!=0&&(s[f]=C[d],C[d]++)},n.F.codes2map=function(s,o,u){for(var c=s.length,f=n.F.U.rev15,d=0;d<c;d+=2)if(s[d+1]!=0)for(var p=d>>1,v=s[d+1],w=p<<4|v,y=o-v,C=s[d]<<y,D=C+(1<<y);C!=D;)u[f[C]>>>15-o]=w,C++},n.F.revCodes=function(s,o){for(var u=n.F.U.rev15,c=15-o,f=0;f<s.length;f+=2){var d=s[f]<<o-s[f+1];s[f]=u[d]>>>c}},n.F._putsE=function(s,o,u){u<<=7&o;var c=o>>>3;s[c]|=u,s[c+1]|=u>>>8},n.F._putsF=function(s,o,u){u<<=7&o;var c=o>>>3;s[c]|=u,s[c+1]|=u>>>8,s[c+2]|=u>>>16},n.F._bitsE=function(s,o,u){return(s[o>>>3]|s[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},n.F._bitsF=function(s,o,u){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},n.F._get17=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)},n.F._get25=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16|s[3+(o>>>3)]<<24)>>>(7&o)},n.F.U=(t=Uint16Array,e=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var s=n.F.U,o=0;o<32768;o++){var u=o;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,s.rev15[o]=(u>>>16|u<<16)>>>17}function c(f,d,p){for(;d--!=0;)f.push(0,p)}for(o=0;o<32;o++)s.ldef[o]=s.of0[o]<<3|s.exb[o],s.ddef[o]=s.df0[o]<<4|s.dxb[o];c(s.fltree,144,8),c(s.fltree,112,9),c(s.fltree,24,7),c(s.fltree,8,8),n.F.makeCodes(s.fltree,9),n.F.codes2map(s.fltree,9,s.flmap),n.F.revCodes(s.fltree,9),c(s.fdtree,32,5),n.F.makeCodes(s.fdtree,5),n.F.codes2map(s.fdtree,5,s.fdmap),n.F.revCodes(s.fdtree,5),c(s.itree,19,0),c(s.ltree,286,0),c(s.dtree,30,0),c(s.ttree,320,0)})()})();var a7=r7({__proto__:null,default:B1},[B1]);const vo=(function(){var r={nextZero(p,v){for(;p[v]!=0;)v++;return v},readUshort:(p,v)=>p[v]<<8|p[v+1],writeUshort(p,v,w){p[v]=w>>8&255,p[v+1]=255&w},readUint:(p,v)=>16777216*p[v]+(p[v+1]<<16|p[v+2]<<8|p[v+3]),writeUint(p,v,w){p[v]=w>>24&255,p[v+1]=w>>16&255,p[v+2]=w>>8&255,p[v+3]=255&w},readASCII(p,v,w){let y="";for(let C=0;C<w;C++)y+=String.fromCharCode(p[v+C]);return y},writeASCII(p,v,w){for(let y=0;y<w.length;y++)p[v+y]=w.charCodeAt(y)},readBytes(p,v,w){const y=[];for(let C=0;C<w;C++)y.push(p[v+C]);return y},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,v,w){let y,C="";for(let D=0;D<w;D++)C+=`%${r.pad(p[v+D].toString(16))}`;try{y=decodeURIComponent(C)}catch{return r.readASCII(p,v,w)}return y}};function t(p,v,w,y){const C=v*w,D=o(y),M=Math.ceil(v*D/8),k=new Uint8Array(4*C),G=new Uint32Array(k.buffer),{ctype:K}=y,{depth:H}=y,ut=r.readUshort;if(K==6){const st=C<<2;if(H==8)for(var Z=0;Z<st;Z+=4)k[Z]=p[Z],k[Z+1]=p[Z+1],k[Z+2]=p[Z+2],k[Z+3]=p[Z+3];if(H==16)for(Z=0;Z<st;Z++)k[Z]=p[Z<<1]}else if(K==2){const st=y.tabs.tRNS;if(st==null){if(H==8)for(Z=0;Z<C;Z++){var z=3*Z;G[Z]=255<<24|p[z+2]<<16|p[z+1]<<8|p[z]}if(H==16)for(Z=0;Z<C;Z++)z=6*Z,G[Z]=255<<24|p[z+4]<<16|p[z+2]<<8|p[z]}else{var S=st[0];const gt=st[1],J=st[2];if(H==8)for(Z=0;Z<C;Z++){var E=Z<<2;z=3*Z,G[Z]=255<<24|p[z+2]<<16|p[z+1]<<8|p[z],p[z]==S&&p[z+1]==gt&&p[z+2]==J&&(k[E+3]=0)}if(H==16)for(Z=0;Z<C;Z++)E=Z<<2,z=6*Z,G[Z]=255<<24|p[z+4]<<16|p[z+2]<<8|p[z],ut(p,z)==S&&ut(p,z+2)==gt&&ut(p,z+4)==J&&(k[E+3]=0)}}else if(K==3){const st=y.tabs.PLTE,gt=y.tabs.tRNS,J=gt?gt.length:0;if(H==1)for(var V=0;V<w;V++){var T=V*M,I=V*v;for(Z=0;Z<v;Z++){E=I+Z<<2;var L=3*($=p[T+(Z>>3)]>>7-((7&Z)<<0)&1);k[E]=st[L],k[E+1]=st[L+1],k[E+2]=st[L+2],k[E+3]=$<J?gt[$]:255}}if(H==2)for(V=0;V<w;V++)for(T=V*M,I=V*v,Z=0;Z<v;Z++)E=I+Z<<2,L=3*($=p[T+(Z>>2)]>>6-((3&Z)<<1)&3),k[E]=st[L],k[E+1]=st[L+1],k[E+2]=st[L+2],k[E+3]=$<J?gt[$]:255;if(H==4)for(V=0;V<w;V++)for(T=V*M,I=V*v,Z=0;Z<v;Z++)E=I+Z<<2,L=3*($=p[T+(Z>>1)]>>4-((1&Z)<<2)&15),k[E]=st[L],k[E+1]=st[L+1],k[E+2]=st[L+2],k[E+3]=$<J?gt[$]:255;if(H==8)for(Z=0;Z<C;Z++){var $;E=Z<<2,L=3*($=p[Z]),k[E]=st[L],k[E+1]=st[L+1],k[E+2]=st[L+2],k[E+3]=$<J?gt[$]:255}}else if(K==4){if(H==8)for(Z=0;Z<C;Z++){E=Z<<2;var ft=p[P=Z<<1];k[E]=ft,k[E+1]=ft,k[E+2]=ft,k[E+3]=p[P+1]}if(H==16)for(Z=0;Z<C;Z++){var P;E=Z<<2,ft=p[P=Z<<2],k[E]=ft,k[E+1]=ft,k[E+2]=ft,k[E+3]=p[P+2]}}else if(K==0)for(S=y.tabs.tRNS?y.tabs.tRNS:-1,V=0;V<w;V++){const st=V*M,gt=V*v;if(H==1)for(var B=0;B<v;B++){var tt=(ft=255*(p[st+(B>>>3)]>>>7-(7&B)&1))==255*S?0:255;G[gt+B]=tt<<24|ft<<16|ft<<8|ft}else if(H==2)for(B=0;B<v;B++)tt=(ft=85*(p[st+(B>>>2)]>>>6-((3&B)<<1)&3))==85*S?0:255,G[gt+B]=tt<<24|ft<<16|ft<<8|ft;else if(H==4)for(B=0;B<v;B++)tt=(ft=17*(p[st+(B>>>1)]>>>4-((1&B)<<2)&15))==17*S?0:255,G[gt+B]=tt<<24|ft<<16|ft<<8|ft;else if(H==8)for(B=0;B<v;B++)tt=(ft=p[st+B])==S?0:255,G[gt+B]=tt<<24|ft<<16|ft<<8|ft;else if(H==16)for(B=0;B<v;B++)ft=p[st+(B<<1)],tt=ut(p,st+(B<<1))==S?0:255,G[gt+B]=tt<<24|ft<<16|ft<<8|ft}return k}function e(p,v,w,y){const C=o(p),D=Math.ceil(w*C/8),M=new Uint8Array((D+1+p.interlace)*y);return v=p.tabs.CgBI?s(v,M):n(v,M),p.interlace==0?v=u(v,p,0,w,y):p.interlace==1&&(v=(function(G,K){const H=K.width,ut=K.height,Z=o(K),z=Z>>3,S=Math.ceil(H*Z/8),E=new Uint8Array(ut*S);let V=0;const T=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],$=[8,8,4,4,2,2,1];let ft=0;for(;ft<7;){const B=L[ft],tt=$[ft];let st=0,gt=0,J=T[ft];for(;J<ut;)J+=B,gt++;let O=I[ft];for(;O<H;)O+=tt,st++;const Q=Math.ceil(st*Z/8);u(G,K,V,st,gt);let W=0,et=T[ft];for(;et<ut;){let ct=I[ft],bt=V+W*Q<<3;for(;ct<H;){var P;if(Z==1&&(P=(P=G[bt>>3])>>7-(7&bt)&1,E[et*S+(ct>>3)]|=P<<7-((7&ct)<<0)),Z==2&&(P=(P=G[bt>>3])>>6-(7&bt)&3,E[et*S+(ct>>2)]|=P<<6-((3&ct)<<1)),Z==4&&(P=(P=G[bt>>3])>>4-(7&bt)&15,E[et*S+(ct>>1)]|=P<<4-((1&ct)<<2)),Z>=8){const Tt=et*S+ct*z;for(let Et=0;Et<z;Et++)E[Tt+Et]=G[(bt>>3)+Et]}bt+=Z,ct+=tt}W++,et+=B}st*gt!=0&&(V+=gt*(1+Q)),ft+=1}return E})(v,p)),v}function n(p,v){return s(new Uint8Array(p.buffer,2,p.length-6),v)}var s=(function(){const p={H:{}};return p.H.N=function(v,w){const y=Uint8Array;let C,D,M=0,k=0,G=0,K=0,H=0,ut=0,Z=0,z=0,S=0;if(v[0]==3&&v[1]==0)return w||new y(0);const E=p.H,V=E.b,T=E.e,I=E.R,L=E.n,$=E.A,ft=E.Z,P=E.m,B=w==null;for(B&&(w=new y(v.length>>>2<<5));M==0;)if(M=V(v,S,1),k=V(v,S+1,2),S+=3,k!=0){if(B&&(w=p.H.W(w,z+(1<<17))),k==1&&(C=P.J,D=P.h,ut=511,Z=31),k==2){G=T(v,S,5)+257,K=T(v,S+5,5)+1,H=T(v,S+10,4)+4,S+=14;let st=1;for(var tt=0;tt<38;tt+=2)P.Q[tt]=0,P.Q[tt+1]=0;for(tt=0;tt<H;tt++){const O=T(v,S+3*tt,3);P.Q[1+(P.X[tt]<<1)]=O,O>st&&(st=O)}S+=3*H,L(P.Q,st),$(P.Q,st,P.u),C=P.w,D=P.d,S=I(P.u,(1<<st)-1,G+K,v,S,P.v);const gt=E.V(P.v,0,G,P.C);ut=(1<<gt)-1;const J=E.V(P.v,G,K,P.D);Z=(1<<J)-1,L(P.C,gt),$(P.C,gt,C),L(P.D,J),$(P.D,J,D)}for(;;){const st=C[ft(v,S)&ut];S+=15&st;const gt=st>>>4;if(!(gt>>>8))w[z++]=gt;else{if(gt==256)break;{let J=z+gt-254;if(gt>264){const ct=P.q[gt-257];J=z+(ct>>>3)+T(v,S,7&ct),S+=7&ct}const O=D[ft(v,S)&Z];S+=15&O;const Q=O>>>4,W=P.c[Q],et=(W>>>4)+V(v,S,15&W);for(S+=15&W;z<J;)w[z]=w[z++-et],w[z]=w[z++-et],w[z]=w[z++-et],w[z]=w[z++-et];z=J}}}}else{(7&S)!=0&&(S+=8-(7&S));const st=4+(S>>>3),gt=v[st-4]|v[st-3]<<8;B&&(w=p.H.W(w,z+gt)),w.set(new y(v.buffer,v.byteOffset+st,gt),z),S=st+gt<<3,z+=gt}return w.length==z?w:w.slice(0,z)},p.H.W=function(v,w){const y=v.length;if(w<=y)return v;const C=new Uint8Array(y<<1);return C.set(v,0),C},p.H.R=function(v,w,y,C,D,M){const k=p.H.e,G=p.H.Z;let K=0;for(;K<y;){const H=v[G(C,D)&w];D+=15&H;const ut=H>>>4;if(ut<=15)M[K]=ut,K++;else{let Z=0,z=0;ut==16?(z=3+k(C,D,2),D+=2,Z=M[K-1]):ut==17?(z=3+k(C,D,3),D+=3):ut==18&&(z=11+k(C,D,7),D+=7);const S=K+z;for(;K<S;)M[K]=Z,K++}}return D},p.H.V=function(v,w,y,C){let D=0,M=0;const k=C.length>>>1;for(;M<y;){const G=v[M+w];C[M<<1]=0,C[1+(M<<1)]=G,G>D&&(D=G),M++}for(;M<k;)C[M<<1]=0,C[1+(M<<1)]=0,M++;return D},p.H.n=function(v,w){const y=p.H.m,C=v.length;let D,M,k,G;const K=y.j;for(var H=0;H<=w;H++)K[H]=0;for(H=1;H<C;H+=2)K[v[H]]++;const ut=y.K;for(D=0,K[0]=0,M=1;M<=w;M++)D=D+K[M-1]<<1,ut[M]=D;for(k=0;k<C;k+=2)G=v[k+1],G!=0&&(v[k]=ut[G],ut[G]++)},p.H.A=function(v,w,y){const C=v.length,D=p.H.m.r;for(let M=0;M<C;M+=2)if(v[M+1]!=0){const k=M>>1,G=v[M+1],K=k<<4|G,H=w-G;let ut=v[M]<<H;const Z=ut+(1<<H);for(;ut!=Z;)y[D[ut]>>>15-w]=K,ut++}},p.H.l=function(v,w){const y=p.H.m.r,C=15-w;for(let D=0;D<v.length;D+=2){const M=v[D]<<w-v[D+1];v[D]=y[M]>>>C}},p.H.M=function(v,w,y){y<<=7&w;const C=w>>>3;v[C]|=y,v[C+1]|=y>>>8},p.H.I=function(v,w,y){y<<=7&w;const C=w>>>3;v[C]|=y,v[C+1]|=y>>>8,v[C+2]|=y>>>16},p.H.e=function(v,w,y){return(v[w>>>3]|v[1+(w>>>3)]<<8)>>>(7&w)&(1<<y)-1},p.H.b=function(v,w,y){return(v[w>>>3]|v[1+(w>>>3)]<<8|v[2+(w>>>3)]<<16)>>>(7&w)&(1<<y)-1},p.H.Z=function(v,w){return(v[w>>>3]|v[1+(w>>>3)]<<8|v[2+(w>>>3)]<<16)>>>(7&w)},p.H.i=function(v,w){return(v[w>>>3]|v[1+(w>>>3)]<<8|v[2+(w>>>3)]<<16|v[3+(w>>>3)]<<24)>>>(7&w)},p.H.m=(function(){const v=Uint16Array,w=Uint32Array;return{K:new v(16),j:new v(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new v(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new w(32),J:new v(512),_:[],h:new v(32),$:[],w:new v(32768),C:[],v:[],d:new v(32768),D:[],u:new v(512),Q:[],r:new v(32768),s:new w(286),Y:new w(30),a:new w(19),t:new w(15e3),k:new v(65536),g:new v(32768)}})(),(function(){const v=p.H.m;for(var w=0;w<32768;w++){let C=w;C=(2863311530&C)>>>1|(1431655765&C)<<1,C=(3435973836&C)>>>2|(858993459&C)<<2,C=(4042322160&C)>>>4|(252645135&C)<<4,C=(4278255360&C)>>>8|(16711935&C)<<8,v.r[w]=(C>>>16|C<<16)>>>17}function y(C,D,M){for(;D--!=0;)C.push(0,M)}for(w=0;w<32;w++)v.q[w]=v.S[w]<<3|v.T[w],v.c[w]=v.p[w]<<4|v.z[w];y(v._,144,8),y(v._,112,9),y(v._,24,7),y(v._,8,8),p.H.n(v._,9),p.H.A(v._,9,v.J),p.H.l(v._,9),y(v.$,32,5),p.H.n(v.$,5),p.H.A(v.$,5,v.h),p.H.l(v.$,5),y(v.Q,19,0),y(v.C,286,0),y(v.D,30,0),y(v.v,320,0)})(),p.H.N})();function o(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function u(p,v,w,y,C){let D=o(v);const M=Math.ceil(y*D/8);let k,G;D=Math.ceil(D/8);let K=p[w],H=0;if(K>1&&(p[w]=[0,0,1][K-2]),K==3)for(H=D;H<M;H++)p[H+1]=p[H+1]+(p[H+1-D]>>>1)&255;for(let ut=0;ut<C;ut++)if(k=w+ut*M,G=k+ut+1,K=p[G-1],H=0,K==0)for(;H<M;H++)p[k+H]=p[G+H];else if(K==1){for(;H<D;H++)p[k+H]=p[G+H];for(;H<M;H++)p[k+H]=p[G+H]+p[k+H-D]}else if(K==2)for(;H<M;H++)p[k+H]=p[G+H]+p[k+H-M];else if(K==3){for(;H<D;H++)p[k+H]=p[G+H]+(p[k+H-M]>>>1);for(;H<M;H++)p[k+H]=p[G+H]+(p[k+H-M]+p[k+H-D]>>>1)}else{for(;H<D;H++)p[k+H]=p[G+H]+c(0,p[k+H-M],0);for(;H<M;H++)p[k+H]=p[G+H]+c(p[k+H-D],p[k+H-M],p[k+H-D-M])}return p}function c(p,v,w){const y=p+v-w,C=y-p,D=y-v,M=y-w;return C*C<=D*D&&C*C<=M*M?p:D*D<=M*M?v:w}function f(p,v,w){w.width=r.readUint(p,v),v+=4,w.height=r.readUint(p,v),v+=4,w.depth=p[v],v++,w.ctype=p[v],v++,w.compress=p[v],v++,w.filter=p[v],v++,w.interlace=p[v],v++}function d(p,v,w,y,C,D,M,k,G){const K=Math.min(v,C),H=Math.min(w,D);let ut=0,Z=0;for(let ft=0;ft<H;ft++)for(let P=0;P<K;P++)if(M>=0&&k>=0?(ut=ft*v+P<<2,Z=(k+ft)*C+M+P<<2):(ut=(-k+ft)*v-M+P<<2,Z=ft*C+P<<2),G==0)y[Z]=p[ut],y[Z+1]=p[ut+1],y[Z+2]=p[ut+2],y[Z+3]=p[ut+3];else if(G==1){var z=p[ut+3]*.00392156862745098,S=p[ut]*z,E=p[ut+1]*z,V=p[ut+2]*z,T=y[Z+3]*(1/255),I=y[Z]*T,L=y[Z+1]*T,$=y[Z+2]*T;const B=1-z,tt=z+T*B,st=tt==0?0:1/tt;y[Z+3]=255*tt,y[Z+0]=(S+I*B)*st,y[Z+1]=(E+L*B)*st,y[Z+2]=(V+$*B)*st}else if(G==2)z=p[ut+3],S=p[ut],E=p[ut+1],V=p[ut+2],T=y[Z+3],I=y[Z],L=y[Z+1],$=y[Z+2],z==T&&S==I&&E==L&&V==$?(y[Z]=0,y[Z+1]=0,y[Z+2]=0,y[Z+3]=0):(y[Z]=S,y[Z+1]=E,y[Z+2]=V,y[Z+3]=z);else if(G==3){if(z=p[ut+3],S=p[ut],E=p[ut+1],V=p[ut+2],T=y[Z+3],I=y[Z],L=y[Z+1],$=y[Z+2],z==T&&S==I&&E==L&&V==$)continue;if(z<220&&T>20)return!1}return!0}return{decode:function(v){const w=new Uint8Array(v);let y=8;const C=r,D=C.readUshort,M=C.readUint,k={tabs:{},frames:[]},G=new Uint8Array(w.length);let K,H=0,ut=0;const Z=[137,80,78,71,13,10,26,10];for(var z=0;z<8;z++)if(w[z]!=Z[z])throw"The input is not a PNG file!";for(;y<w.length;){const ft=C.readUint(w,y);y+=4;const P=C.readASCII(w,y,4);if(y+=4,P=="IHDR")f(w,y,k);else if(P=="iCCP"){for(var S=y;w[S]!=0;)S++;C.readASCII(w,y,S-y),w[S+1];const B=w.slice(S+2,y+ft);let tt=null;try{tt=n(B)}catch{tt=s(B)}k.tabs[P]=tt}else if(P=="CgBI")k.tabs[P]=w.slice(y,y+4);else if(P=="IDAT"){for(z=0;z<ft;z++)G[H+z]=w[y+z];H+=ft}else if(P=="acTL")k.tabs[P]={num_frames:M(w,y),num_plays:M(w,y+4)},K=new Uint8Array(w.length);else if(P=="fcTL"){ut!=0&&(($=k.frames[k.frames.length-1]).data=e(k,K.slice(0,ut),$.rect.width,$.rect.height),ut=0);const B={x:M(w,y+12),y:M(w,y+16),width:M(w,y+4),height:M(w,y+8)};let tt=D(w,y+22);tt=D(w,y+20)/(tt==0?100:tt);const st={rect:B,delay:Math.round(1e3*tt),dispose:w[y+24],blend:w[y+25]};k.frames.push(st)}else if(P=="fdAT"){for(z=0;z<ft-4;z++)K[ut+z]=w[y+z+4];ut+=ft-4}else if(P=="pHYs")k.tabs[P]=[C.readUint(w,y),C.readUint(w,y+4),w[y+8]];else if(P=="cHRM")for(k.tabs[P]=[],z=0;z<8;z++)k.tabs[P].push(C.readUint(w,y+4*z));else if(P=="tEXt"||P=="zTXt"){k.tabs[P]==null&&(k.tabs[P]={});var E=C.nextZero(w,y),V=C.readASCII(w,y,E-y),T=y+ft-E-1;if(P=="tEXt")L=C.readASCII(w,E+1,T);else{var I=n(w.slice(E+2,E+2+T));L=C.readUTF8(I,0,I.length)}k.tabs[P][V]=L}else if(P=="iTXt"){k.tabs[P]==null&&(k.tabs[P]={}),E=0,S=y,E=C.nextZero(w,S),V=C.readASCII(w,S,E-S);const B=w[S=E+1];var L;w[S+1],S+=2,E=C.nextZero(w,S),C.readASCII(w,S,E-S),S=E+1,E=C.nextZero(w,S),C.readUTF8(w,S,E-S),T=ft-((S=E+1)-y),B==0?L=C.readUTF8(w,S,T):(I=n(w.slice(S,S+T)),L=C.readUTF8(I,0,I.length)),k.tabs[P][V]=L}else if(P=="PLTE")k.tabs[P]=C.readBytes(w,y,ft);else if(P=="hIST"){const B=k.tabs.PLTE.length/3;for(k.tabs[P]=[],z=0;z<B;z++)k.tabs[P].push(D(w,y+2*z))}else if(P=="tRNS")k.ctype==3?k.tabs[P]=C.readBytes(w,y,ft):k.ctype==0?k.tabs[P]=D(w,y):k.ctype==2&&(k.tabs[P]=[D(w,y),D(w,y+2),D(w,y+4)]);else if(P=="gAMA")k.tabs[P]=C.readUint(w,y)/1e5;else if(P=="sRGB")k.tabs[P]=w[y];else if(P=="bKGD")k.ctype==0||k.ctype==4?k.tabs[P]=[D(w,y)]:k.ctype==2||k.ctype==6?k.tabs[P]=[D(w,y),D(w,y+2),D(w,y+4)]:k.ctype==3&&(k.tabs[P]=w[y]);else if(P=="IEND")break;y+=ft,C.readUint(w,y),y+=4}var $;return ut!=0&&(($=k.frames[k.frames.length-1]).data=e(k,K.slice(0,ut),$.rect.width,$.rect.height)),k.data=e(k,G,k.width,k.height),delete k.compress,delete k.interlace,delete k.filter,k},toRGBA8:function(v){const w=v.width,y=v.height;if(v.tabs.acTL==null)return[t(v.data,w,y,v).buffer];const C=[];v.frames[0].data==null&&(v.frames[0].data=v.data);const D=w*y*4,M=new Uint8Array(D),k=new Uint8Array(D),G=new Uint8Array(D);for(let H=0;H<v.frames.length;H++){const ut=v.frames[H],Z=ut.rect.x,z=ut.rect.y,S=ut.rect.width,E=ut.rect.height,V=t(ut.data,S,E,v);if(H!=0)for(var K=0;K<D;K++)G[K]=M[K];if(ut.blend==0?d(V,S,E,M,w,y,Z,z,0):ut.blend==1&&d(V,S,E,M,w,y,Z,z,1),C.push(M.buffer.slice(0)),ut.dispose!=0){if(ut.dispose==1)d(k,S,E,M,w,y,Z,z,0);else if(ut.dispose==2)for(K=0;K<D;K++)M[K]=G[K]}}return C},_paeth:c,_copyTile:d,_bin:r}})();(function(){const{_copyTile:r}=vo,{_bin:t}=vo,e=vo._paeth;var n={table:(function(){const S=new Uint32Array(256);for(let E=0;E<256;E++){let V=E;for(let T=0;T<8;T++)1&V?V=3988292384^V>>>1:V>>>=1;S[E]=V}return S})(),update(S,E,V,T){for(let I=0;I<T;I++)S=n.table[255&(S^E[V+I])]^S>>>8;return S},crc:(S,E,V)=>4294967295^n.update(4294967295,S,E,V)};function s(S,E,V,T){E[V]+=S[0]*T>>4,E[V+1]+=S[1]*T>>4,E[V+2]+=S[2]*T>>4,E[V+3]+=S[3]*T>>4}function o(S){return Math.max(0,Math.min(255,S))}function u(S,E){const V=S[0]-E[0],T=S[1]-E[1],I=S[2]-E[2],L=S[3]-E[3];return V*V+T*T+I*I+L*L}function c(S,E,V,T,I,L,$){$==null&&($=1);const ft=T.length,P=[];for(var B=0;B<ft;B++){const et=T[B];P.push([et>>>0&255,et>>>8&255,et>>>16&255,et>>>24&255])}for(B=0;B<ft;B++){let et=4294967295;for(var tt=0,st=0;st<ft;st++){var gt=u(P[B],P[st]);st!=B&&gt<et&&(et=gt,tt=st)}}const J=new Uint32Array(I.buffer),O=new Int16Array(E*V*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(B=0;B<Q.length;B++)Q[B]=255*((Q[B]+.5)/16-.5);for(let et=0;et<V;et++)for(let ct=0;ct<E;ct++){var W;B=4*(et*E+ct),$!=2?W=[o(S[B]+O[B]),o(S[B+1]+O[B+1]),o(S[B+2]+O[B+2]),o(S[B+3]+O[B+3])]:(gt=Q[4*(3&et)+(3&ct)],W=[o(S[B]+gt),o(S[B+1]+gt),o(S[B+2]+gt),o(S[B+3]+gt)]),tt=0;let bt=16777215;for(st=0;st<ft;st++){const Mt=u(W,P[st]);Mt<bt&&(bt=Mt,tt=st)}const Tt=P[tt],Et=[W[0]-Tt[0],W[1]-Tt[1],W[2]-Tt[2],W[3]-Tt[3]];$==1&&(ct!=E-1&&s(Et,O,B+4,7),et!=V-1&&(ct!=0&&s(Et,O,B+4*E-4,3),s(Et,O,B+4*E,5),ct!=E-1&&s(Et,O,B+4*E+4,1))),L[B>>2]=tt,J[B>>2]=T[tt]}}function f(S,E,V,T,I){I==null&&(I={});const{crc:L}=n,$=t.writeUint,ft=t.writeUshort,P=t.writeASCII;let B=8;const tt=S.frames.length>1;let st,gt=!1,J=33+(tt?20:0);if(I.sRGB!=null&&(J+=13),I.pHYs!=null&&(J+=21),I.iCCP!=null&&(st=pako.deflate(I.iCCP),J+=21+st.length+4),S.ctype==3){for(var O=S.plte.length,Q=0;Q<O;Q++)S.plte[Q]>>>24!=255&&(gt=!0);J+=8+3*O+4+(gt?8+1*O+4:0)}for(var W=0;W<S.frames.length;W++)tt&&(J+=38),J+=(Tt=S.frames[W]).cimg.length+12,W!=0&&(J+=4);J+=12;const et=new Uint8Array(J),ct=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)et[Q]=ct[Q];if($(et,B,13),B+=4,P(et,B,"IHDR"),B+=4,$(et,B,E),B+=4,$(et,B,V),B+=4,et[B]=S.depth,B++,et[B]=S.ctype,B++,et[B]=0,B++,et[B]=0,B++,et[B]=0,B++,$(et,B,L(et,B-17,17)),B+=4,I.sRGB!=null&&($(et,B,1),B+=4,P(et,B,"sRGB"),B+=4,et[B]=I.sRGB,B++,$(et,B,L(et,B-5,5)),B+=4),I.iCCP!=null){const Et=13+st.length;$(et,B,Et),B+=4,P(et,B,"iCCP"),B+=4,P(et,B,"ICC profile"),B+=11,B+=2,et.set(st,B),B+=st.length,$(et,B,L(et,B-(Et+4),Et+4)),B+=4}if(I.pHYs!=null&&($(et,B,9),B+=4,P(et,B,"pHYs"),B+=4,$(et,B,I.pHYs[0]),B+=4,$(et,B,I.pHYs[1]),B+=4,et[B]=I.pHYs[2],B++,$(et,B,L(et,B-13,13)),B+=4),tt&&($(et,B,8),B+=4,P(et,B,"acTL"),B+=4,$(et,B,S.frames.length),B+=4,$(et,B,I.loop!=null?I.loop:0),B+=4,$(et,B,L(et,B-12,12)),B+=4),S.ctype==3){for($(et,B,3*(O=S.plte.length)),B+=4,P(et,B,"PLTE"),B+=4,Q=0;Q<O;Q++){const Et=3*Q,Mt=S.plte[Q],$t=255&Mt,te=Mt>>>8&255,le=Mt>>>16&255;et[B+Et+0]=$t,et[B+Et+1]=te,et[B+Et+2]=le}if(B+=3*O,$(et,B,L(et,B-3*O-4,3*O+4)),B+=4,gt){for($(et,B,O),B+=4,P(et,B,"tRNS"),B+=4,Q=0;Q<O;Q++)et[B+Q]=S.plte[Q]>>>24&255;B+=O,$(et,B,L(et,B-O-4,O+4)),B+=4}}let bt=0;for(W=0;W<S.frames.length;W++){var Tt=S.frames[W];tt&&($(et,B,26),B+=4,P(et,B,"fcTL"),B+=4,$(et,B,bt++),B+=4,$(et,B,Tt.rect.width),B+=4,$(et,B,Tt.rect.height),B+=4,$(et,B,Tt.rect.x),B+=4,$(et,B,Tt.rect.y),B+=4,ft(et,B,T[W]),B+=2,ft(et,B,1e3),B+=2,et[B]=Tt.dispose,B++,et[B]=Tt.blend,B++,$(et,B,L(et,B-30,30)),B+=4);const Et=Tt.cimg;$(et,B,(O=Et.length)+(W==0?0:4)),B+=4;const Mt=B;P(et,B,W==0?"IDAT":"fdAT"),B+=4,W!=0&&($(et,B,bt++),B+=4),et.set(Et,B),B+=O,$(et,B,L(et,Mt,B-Mt)),B+=4}return $(et,B,0),B+=4,P(et,B,"IEND"),B+=4,$(et,B,L(et,B-4,4)),B+=4,et.buffer}function d(S,E,V){for(let T=0;T<S.frames.length;T++){const I=S.frames[T];I.rect.width;const L=I.rect.height,$=new Uint8Array(L*I.bpl+L);I.cimg=y(I.img,L,I.bpp,I.bpl,$,E,V)}}function p(S,E,V,T,I){const L=I[0],$=I[1],ft=I[2],P=I[3],B=I[4],tt=I[5];let st=6,gt=8,J=255;for(var O=0;O<S.length;O++){const ee=new Uint8Array(S[O]);for(var Q=ee.length,W=0;W<Q;W+=4)J&=ee[W+3]}const et=J!=255,ct=(function(xe,he,Bt,ue,se,Ae){const de=[];for(var we=0;we<xe.length;we++){const ce=new Uint8Array(xe[we]),me=new Uint32Array(ce.buffer);var yt;let Ne=0,Wt=0,ye=he,be=Bt,Qe=ue?1:0;if(we!=0){const ve=Ae||ue||we==1||de[we-2].dispose!=0?1:2;let rn=0,je=1e9;for(let Fe=0;Fe<ve;Fe++){var ne=new Uint8Array(xe[we-1-Fe]);const Nn=new Uint32Array(xe[we-1-Fe]);let Ie=he,Ee=Bt,Je=-1,gr=-1;for(let Br=0;Br<Bt;Br++)for(let $n=0;$n<he;$n++)me[Ft=Br*he+$n]!=Nn[Ft]&&($n<Ie&&(Ie=$n),$n>Je&&(Je=$n),Br<Ee&&(Ee=Br),Br>gr&&(gr=Br));Je==-1&&(Ie=Ee=Je=gr=0),se&&((1&Ie)==1&&Ie--,(1&Ee)==1&&Ee--);const Dr=(Je-Ie+1)*(gr-Ee+1);Dr<je&&(je=Dr,rn=Fe,Ne=Ie,Wt=Ee,ye=Je-Ie+1,be=gr-Ee+1)}ne=new Uint8Array(xe[we-1-rn]),rn==1&&(de[we-1].dispose=2),yt=new Uint8Array(ye*be*4),r(ne,he,Bt,yt,ye,be,-Ne,-Wt,0),Qe=r(ce,he,Bt,yt,ye,be,-Ne,-Wt,3)?1:0,Qe==1?w(ce,he,Bt,yt,{x:Ne,y:Wt,width:ye,height:be}):r(ce,he,Bt,yt,ye,be,-Ne,-Wt,0)}else yt=ce.slice(0);de.push({rect:{x:Ne,y:Wt,width:ye,height:be},img:yt,blend:Qe,dispose:0})}if(ue)for(we=0;we<de.length;we++){if((ie=de[we]).blend==1)continue;const ce=ie.rect,me=de[we-1].rect,Ne=Math.min(ce.x,me.x),Wt=Math.min(ce.y,me.y),ye={x:Ne,y:Wt,width:Math.max(ce.x+ce.width,me.x+me.width)-Ne,height:Math.max(ce.y+ce.height,me.y+me.height)-Wt};de[we-1].dispose=1,we-1!=0&&v(xe,he,Bt,de,we-1,ye,se),v(xe,he,Bt,de,we,ye,se)}let Vt=0;if(xe.length!=1)for(var Ft=0;Ft<de.length;Ft++){var ie;Vt+=(ie=de[Ft]).rect.width*ie.rect.height}return de})(S,E,V,L,$,ft),bt={},Tt=[],Et=[];if(T!=0){const ee=[];for(W=0;W<ct.length;W++)ee.push(ct[W].img.buffer);const xe=(function(se){let Ae=0;for(var de=0;de<se.length;de++)Ae+=se[de].byteLength;const we=new Uint8Array(Ae);let yt=0;for(de=0;de<se.length;de++){const ne=new Uint8Array(se[de]),Vt=ne.length;for(let Ft=0;Ft<Vt;Ft+=4){let ie=ne[Ft],ce=ne[Ft+1],me=ne[Ft+2];const Ne=ne[Ft+3];Ne==0&&(ie=ce=me=0),we[yt+Ft]=ie,we[yt+Ft+1]=ce,we[yt+Ft+2]=me,we[yt+Ft+3]=Ne}yt+=Vt}return we.buffer})(ee),he=D(xe,T);for(W=0;W<he.plte.length;W++)Tt.push(he.plte[W].est.rgba);let Bt=0;for(W=0;W<ct.length;W++){const ue=($t=ct[W]).img.length;var Mt=new Uint8Array(he.inds.buffer,Bt>>2,ue>>2);Et.push(Mt);const se=new Uint8Array(he.abuf,Bt,ue);tt&&c($t.img,$t.rect.width,$t.rect.height,Tt,se,Mt),$t.img.set(se),Bt+=ue}}else for(O=0;O<ct.length;O++){var $t=ct[O];const ee=new Uint32Array($t.img.buffer);var te=$t.rect.width;for(Q=ee.length,Mt=new Uint8Array(Q),Et.push(Mt),W=0;W<Q;W++){const xe=ee[W];if(W!=0&&xe==ee[W-1])Mt[W]=Mt[W-1];else if(W>te&&xe==ee[W-te])Mt[W]=Mt[W-te];else{let he=bt[xe];if(he==null&&(bt[xe]=he=Tt.length,Tt.push(xe),Tt.length>=300))break;Mt[W]=he}}}const le=Tt.length;for(le<=256&&B==0&&(gt=le<=2?1:le<=4?2:le<=16?4:8,gt=Math.max(gt,P)),O=0;O<ct.length;O++){($t=ct[O]).rect.x,$t.rect.y,te=$t.rect.width;const ee=$t.rect.height;let xe=$t.img;new Uint32Array(xe.buffer);let he=4*te,Bt=4;if(le<=256&&B==0){he=Math.ceil(gt*te/8);var fe=new Uint8Array(he*ee);const ue=Et[O];for(let se=0;se<ee;se++){W=se*he;const Ae=se*te;if(gt==8)for(var lt=0;lt<te;lt++)fe[W+lt]=ue[Ae+lt];else if(gt==4)for(lt=0;lt<te;lt++)fe[W+(lt>>1)]|=ue[Ae+lt]<<4-4*(1&lt);else if(gt==2)for(lt=0;lt<te;lt++)fe[W+(lt>>2)]|=ue[Ae+lt]<<6-2*(3&lt);else if(gt==1)for(lt=0;lt<te;lt++)fe[W+(lt>>3)]|=ue[Ae+lt]<<7-1*(7&lt)}xe=fe,st=3,Bt=1}else if(et==0&&ct.length==1){fe=new Uint8Array(te*ee*3);const ue=te*ee;for(W=0;W<ue;W++){const se=3*W,Ae=4*W;fe[se]=xe[Ae],fe[se+1]=xe[Ae+1],fe[se+2]=xe[Ae+2]}xe=fe,st=2,Bt=3,he=3*te}$t.img=xe,$t.bpl=he,$t.bpp=Bt}return{ctype:st,depth:gt,plte:Tt,frames:ct}}function v(S,E,V,T,I,L,$){const ft=Uint8Array,P=Uint32Array,B=new ft(S[I-1]),tt=new P(S[I-1]),st=I+1<S.length?new ft(S[I+1]):null,gt=new ft(S[I]),J=new P(gt.buffer);let O=E,Q=V,W=-1,et=-1;for(let bt=0;bt<L.height;bt++)for(let Tt=0;Tt<L.width;Tt++){const Et=L.x+Tt,Mt=L.y+bt,$t=Mt*E+Et,te=J[$t];te==0||T[I-1].dispose==0&&tt[$t]==te&&(st==null||st[4*$t+3]!=0)||(Et<O&&(O=Et),Et>W&&(W=Et),Mt<Q&&(Q=Mt),Mt>et&&(et=Mt))}W==-1&&(O=Q=W=et=0),$&&((1&O)==1&&O--,(1&Q)==1&&Q--),L={x:O,y:Q,width:W-O+1,height:et-Q+1};const ct=T[I];ct.rect=L,ct.blend=1,ct.img=new Uint8Array(L.width*L.height*4),T[I-1].dispose==0?(r(B,E,V,ct.img,L.width,L.height,-L.x,-L.y,0),w(gt,E,V,ct.img,L)):r(gt,E,V,ct.img,L.width,L.height,-L.x,-L.y,0)}function w(S,E,V,T,I){r(S,E,V,T,I.width,I.height,-I.x,-I.y,2)}function y(S,E,V,T,I,L,$){const ft=[];let P,B=[0,1,2,3,4];L!=-1?B=[L]:(E*T>5e5||V==1)&&(B=[0]),$&&(P={level:0});const tt=a7;for(var st=0;st<B.length;st++){for(let O=0;O<E;O++)C(I,S,O,T,V,B[st]);ft.push(tt.deflate(I,P))}let gt,J=1e9;for(st=0;st<ft.length;st++)ft[st].length<J&&(gt=st,J=ft[st].length);return ft[gt]}function C(S,E,V,T,I,L){const $=V*T;let ft=$+V;if(S[ft]=L,ft++,L==0)if(T<500)for(var P=0;P<T;P++)S[ft+P]=E[$+P];else S.set(new Uint8Array(E.buffer,$,T),ft);else if(L==1){for(P=0;P<I;P++)S[ft+P]=E[$+P];for(P=I;P<T;P++)S[ft+P]=E[$+P]-E[$+P-I]+256&255}else if(V==0){for(P=0;P<I;P++)S[ft+P]=E[$+P];if(L==2)for(P=I;P<T;P++)S[ft+P]=E[$+P];if(L==3)for(P=I;P<T;P++)S[ft+P]=E[$+P]-(E[$+P-I]>>1)+256&255;if(L==4)for(P=I;P<T;P++)S[ft+P]=E[$+P]-e(E[$+P-I],0,0)+256&255}else{if(L==2)for(P=0;P<T;P++)S[ft+P]=E[$+P]+256-E[$+P-T]&255;if(L==3){for(P=0;P<I;P++)S[ft+P]=E[$+P]+256-(E[$+P-T]>>1)&255;for(P=I;P<T;P++)S[ft+P]=E[$+P]+256-(E[$+P-T]+E[$+P-I]>>1)&255}if(L==4){for(P=0;P<I;P++)S[ft+P]=E[$+P]+256-e(0,E[$+P-T],0)&255;for(P=I;P<T;P++)S[ft+P]=E[$+P]+256-e(E[$+P-I],E[$+P-T],E[$+P-I-T])&255}}}function D(S,E){const V=new Uint8Array(S),T=V.slice(0),I=new Uint32Array(T.buffer),L=M(T,E),$=L[0],ft=L[1],P=V.length,B=new Uint8Array(P>>2);let tt;if(V.length<2e7)for(var st=0;st<P;st+=4)tt=k($,gt=V[st]*(1/255),J=V[st+1]*(1/255),O=V[st+2]*(1/255),Q=V[st+3]*(1/255)),B[st>>2]=tt.ind,I[st>>2]=tt.est.rgba;else for(st=0;st<P;st+=4){var gt=V[st]*.00392156862745098,J=V[st+1]*(1/255),O=V[st+2]*(1/255),Q=V[st+3]*(1/255);for(tt=$;tt.left;)tt=G(tt.est,gt,J,O,Q)<=0?tt.left:tt.right;B[st>>2]=tt.ind,I[st>>2]=tt.est.rgba}return{abuf:T.buffer,inds:B,plte:ft}}function M(S,E,V){V==null&&(V=1e-4);const T=new Uint32Array(S.buffer),I={i0:0,i1:S.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=ut(S,I.i0,I.i1),I.est=Z(I.bst);const L=[I];for(;L.length<E;){let ft=0,P=0;for(var $=0;$<L.length;$++)L[$].est.L>ft&&(ft=L[$].est.L,P=$);if(ft<V)break;const B=L[P],tt=K(S,T,B.i0,B.i1,B.est.e,B.est.eMq255);if(B.i0>=tt||B.i1<=tt){B.est.L=0;continue}const st={i0:B.i0,i1:tt,bst:null,est:null,tdst:0,left:null,right:null};st.bst=ut(S,st.i0,st.i1),st.est=Z(st.bst);const gt={i0:tt,i1:B.i1,bst:null,est:null,tdst:0,left:null,right:null};for(gt.bst={R:[],m:[],N:B.bst.N-st.bst.N},$=0;$<16;$++)gt.bst.R[$]=B.bst.R[$]-st.bst.R[$];for($=0;$<4;$++)gt.bst.m[$]=B.bst.m[$]-st.bst.m[$];gt.est=Z(gt.bst),B.left=st,B.right=gt,L[P]=st,L.push(gt)}for(L.sort(((ft,P)=>P.bst.N-ft.bst.N)),$=0;$<L.length;$++)L[$].ind=$;return[I,L]}function k(S,E,V,T,I){if(S.left==null)return S.tdst=(function(st,gt,J,O,Q){const W=gt-st[0],et=J-st[1],ct=O-st[2],bt=Q-st[3];return W*W+et*et+ct*ct+bt*bt})(S.est.q,E,V,T,I),S;const L=G(S.est,E,V,T,I);let $=S.left,ft=S.right;L>0&&($=S.right,ft=S.left);const P=k($,E,V,T,I);if(P.tdst<=L*L)return P;const B=k(ft,E,V,T,I);return B.tdst<P.tdst?B:P}function G(S,E,V,T,I){const{e:L}=S;return L[0]*E+L[1]*V+L[2]*T+L[3]*I-S.eMq}function K(S,E,V,T,I,L){for(T-=4;V<T;){for(;H(S,V,I)<=L;)V+=4;for(;H(S,T,I)>L;)T-=4;if(V>=T)break;const $=E[V>>2];E[V>>2]=E[T>>2],E[T>>2]=$,V+=4,T-=4}for(;H(S,V,I)>L;)V-=4;return V+4}function H(S,E,V){return S[E]*V[0]+S[E+1]*V[1]+S[E+2]*V[2]+S[E+3]*V[3]}function ut(S,E,V){const T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],L=V-E>>2;for(let $=E;$<V;$+=4){const ft=S[$]*.00392156862745098,P=S[$+1]*(1/255),B=S[$+2]*(1/255),tt=S[$+3]*(1/255);I[0]+=ft,I[1]+=P,I[2]+=B,I[3]+=tt,T[0]+=ft*ft,T[1]+=ft*P,T[2]+=ft*B,T[3]+=ft*tt,T[5]+=P*P,T[6]+=P*B,T[7]+=P*tt,T[10]+=B*B,T[11]+=B*tt,T[15]+=tt*tt}return T[4]=T[1],T[8]=T[2],T[9]=T[6],T[12]=T[3],T[13]=T[7],T[14]=T[11],{R:T,m:I,N:L}}function Z(S){const{R:E}=S,{m:V}=S,{N:T}=S,I=V[0],L=V[1],$=V[2],ft=V[3],P=T==0?0:1/T,B=[E[0]-I*I*P,E[1]-I*L*P,E[2]-I*$*P,E[3]-I*ft*P,E[4]-L*I*P,E[5]-L*L*P,E[6]-L*$*P,E[7]-L*ft*P,E[8]-$*I*P,E[9]-$*L*P,E[10]-$*$*P,E[11]-$*ft*P,E[12]-ft*I*P,E[13]-ft*L*P,E[14]-ft*$*P,E[15]-ft*ft*P],tt=B,st=z;let gt=[Math.random(),Math.random(),Math.random(),Math.random()],J=0,O=0;if(T!=0)for(let W=0;W<16&&(gt=st.multVec(tt,gt),O=Math.sqrt(st.dot(gt,gt)),gt=st.sml(1/O,gt),!(W!=0&&Math.abs(O-J)<1e-9));W++)J=O;const Q=[I*P,L*P,$*P,ft*P];return{Cov:B,q:Q,e:gt,L:J,eMq255:st.dot(st.sml(255,Q),gt),eMq:st.dot(gt,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var z={multVec:(S,E)=>[S[0]*E[0]+S[1]*E[1]+S[2]*E[2]+S[3]*E[3],S[4]*E[0]+S[5]*E[1]+S[6]*E[2]+S[7]*E[3],S[8]*E[0]+S[9]*E[1]+S[10]*E[2]+S[11]*E[3],S[12]*E[0]+S[13]*E[1]+S[14]*E[2]+S[15]*E[3]],dot:(S,E)=>S[0]*E[0]+S[1]*E[1]+S[2]*E[2]+S[3]*E[3],sml:(S,E)=>[S*E[0],S*E[1],S*E[2],S*E[3]]};vo.encode=function(E,V,T,I,L,$,ft){I==null&&(I=0),ft==null&&(ft=!1);const P=p(E,V,T,I,[!1,!1,!1,0,ft,!1]);return d(P,-1),f(P,V,T,L,$)},vo.encodeLL=function(E,V,T,I,L,$,ft,P){const B={ctype:0+(I==1?0:2)+(L==0?0:4),depth:$,frames:[]},tt=(I+L)*$,st=tt*V;for(let gt=0;gt<E.length;gt++)B.frames.push({rect:{x:0,y:0,width:V,height:T},img:new Uint8Array(E[gt]),blend:0,dispose:1,bpp:Math.ceil(tt/8),bpl:Math.ceil(st/8)});return d(B,0,!0),f(B,V,T,ft,P)},vo.encode.compress=p,vo.encode.dither=c,vo.quantize=D,vo.quantize.getKDtree=M,vo.quantize.getNearest=k})();const Bx={toArrayBuffer(r,t){const e=r.width,n=r.height,s=e<<2,o=r.getContext("2d").getImageData(0,0,e,n),u=new Uint32Array(o.data.buffer),c=(32*e+31)/32<<2,f=c*n,d=122+f,p=new ArrayBuffer(d),v=new DataView(p),w=1<<20;let y,C,D,M,k=w,G=0,K=0,H=0;function ut(S){v.setUint16(K,S,!0),K+=2}function Z(S){v.setUint32(K,S,!0),K+=4}function z(S){K+=S}ut(19778),Z(d),z(4),Z(122),Z(108),Z(e),Z(-n>>>0),ut(1),ut(32),Z(3),Z(f),Z(2835),Z(2835),z(8),Z(16711680),Z(65280),Z(255),Z(4278190080),Z(1466527264),(function S(){for(;G<n&&k>0;){for(M=122+G*c,y=0;y<s;)k--,C=u[H++],D=C>>>24,v.setUint32(M+y,C<<8|D),y+=4;G++}H<u.length?(k=w,setTimeout(S,Bx._dly)):t(p)})()},toBlob(r,t){this.toArrayBuffer(r,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var ra={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},o7={[ra.CHROME]:16384,[ra.FIREFOX]:11180,[ra.DESKTOP_SAFARI]:16384,[ra.IE]:8192,[ra.IOS]:4096,[ra.ETC]:8192};const o5=typeof window<"u",Ux=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,U1=o5&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),l7=(o5||Ux)&&(U1&&U1.getOriginalSymbol(window,"File")||typeof File<"u"&&File),zx=(o5||Ux)&&(U1&&U1.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function l5(r,t,e=Date.now()){return new Promise((n=>{const s=r.split(","),o=s[0].match(/:(.*?);/)[1],u=globalThis.atob(s[1]);let c=u.length;const f=new Uint8Array(c);for(;c--;)f[c]=u.charCodeAt(c);const d=new Blob([f],{type:o});d.name=t,d.lastModified=e,n(d)}))}function qx(r){return new Promise(((t,e)=>{const n=new zx;n.onload=()=>t(n.result),n.onerror=s=>e(s),n.readAsDataURL(r)}))}function Hx(r){return new Promise(((t,e)=>{const n=new Image;n.onload=()=>t(n),n.onerror=s=>e(s),n.src=r}))}function mc(){if(mc.cachedResult!==void 0)return mc.cachedResult;let r=ra.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?r=ra.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?r=ra.IOS:/Safari/i.test(t)?r=ra.DESKTOP_SAFARI:/Firefox/i.test(t)?r=ra.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(r=ra.IE),mc.cachedResult=r,mc.cachedResult}function Gx(r,t){const e=mc(),n=o7[e];let s=r,o=t,u=s*o;const c=s>o?o/s:s/o;for(;u>n*n;){const f=(n+s)/2,d=(n+o)/2;f<d?(o=d,s=d*c):(o=f*c,s=f),u=s*o}return{width:s,height:o}}function ym(r,t){let e,n;try{if(e=new OffscreenCanvas(r,t),n=e.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{e=document.createElement("canvas"),n=e.getContext("2d")}return e.width=r,e.height=t,[e,n]}function Kx(r,t){const{width:e,height:n}=Gx(r.width,r.height),[s,o]=ym(e,n);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(r,0,0,s.width,s.height),s}function h1(){return h1.cachedResult!==void 0||(h1.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),h1.cachedResult}function z1(r,t={}){return new Promise((function(e,n){let s,o;var u=function(){try{return o=Kx(s,t.fileType||r.type),e([s,o])}catch(f){return n(f)}},c=function(f){try{var d=function(p){try{throw p}catch(v){return n(v)}};try{let p;return qx(r).then((function(v){try{return p=v,Hx(p).then((function(w){try{return s=w,(function(){try{return u()}catch(y){return n(y)}})()}catch(y){return d(y)}}),d)}catch(w){return d(w)}}),d)}catch(p){d(p)}}catch(p){return n(p)}};try{if(h1()||[ra.DESKTOP_SAFARI,ra.MOBILE_SAFARI].includes(mc()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then((function(f){try{return s=f,u()}catch{return c()}}),c)}catch{c()}}))}function q1(r,t,e,n,s=1){return new Promise((function(o,u){let c;if(t==="image/png"){let d,p,v;return d=r.getContext("2d"),{data:p}=d.getImageData(0,0,r.width,r.height),v=vo.encode([p.buffer],r.width,r.height,4096*s),c=new Blob([v],{type:t}),c.name=e,c.lastModified=n,f.call(this)}{let d=function(){return f.call(this)};if(t==="image/bmp")return new Promise((p=>Bx.toBlob(r,p))).then((function(p){try{return c=p,c.name=e,c.lastModified=n,d.call(this)}catch(v){return u(v)}}).bind(this),u);{let p=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:t,quality:s}).then((function(v){try{return c=v,c.name=e,c.lastModified=n,p.call(this)}catch(w){return u(w)}}).bind(this),u);{let v;return v=r.toDataURL(t,s),l5(v,e,n).then((function(w){try{return c=w,p.call(this)}catch(y){return u(y)}}).bind(this),u)}}}function f(){return o(c)}}))}function Wo(r){r.width=0,r.height=0}function kh(){return new Promise((function(r,t){let e,n,s,o;return kh.cachedResult!==void 0?r(kh.cachedResult):l5("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return e=u,z1(e).then((function(c){try{return n=c[1],q1(n,e.type,e.name,e.lastModified).then((function(f){try{return s=f,Wo(n),z1(s).then((function(d){try{return o=d[0],kh.cachedResult=o.width===1&&o.height===2,r(kh.cachedResult)}catch(p){return t(p)}}),t)}catch(d){return t(d)}}),t)}catch(f){return t(f)}}),t)}catch(c){return t(c)}}),t)}))}function $x(r){return new Promise(((t,e)=>{const n=new zx;n.onload=s=>{const o=new DataView(s.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const u=o.byteLength;let c=2;for(;c<u;){if(o.getUint16(c+2,!1)<=8)return t(-1);const f=o.getUint16(c,!1);if(c+=2,f==65505){if(o.getUint32(c+=2,!1)!=1165519206)return t(-1);const d=o.getUint16(c+=6,!1)==18761;c+=o.getUint32(c+4,d);const p=o.getUint16(c,d);c+=2;for(let v=0;v<p;v++)if(o.getUint16(c+12*v,d)==274)return t(o.getUint16(c+12*v+8,d))}else{if((65280&f)!=65280)break;c+=o.getUint16(c,!1)}}return t(-1)},n.onerror=s=>e(s),n.readAsArrayBuffer(r)}))}function Yx(r,t){const{width:e}=r,{height:n}=r,{maxWidthOrHeight:s}=t;let o,u=r;return isFinite(s)&&(e>s||n>s)&&([u,o]=ym(e,n),e>n?(u.width=s,u.height=n/e*s):(u.width=e/n*s,u.height=s),o.drawImage(r,0,0,u.width,u.height),Wo(r)),u}function Qx(r,t){const{width:e}=r,{height:n}=r,[s,o]=ym(e,n);switch(t>4&&t<9?(s.width=n,s.height=e):(s.width=e,s.height=n),t){case 2:o.transform(-1,0,0,1,e,0);break;case 3:o.transform(-1,0,0,-1,e,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,e);break;case 8:o.transform(0,-1,1,0,0,e)}return o.drawImage(r,0,0,e,n),Wo(r),s}function T_(r,t,e=0){return new Promise((function(n,s){let o,u,c,f,d,p,v,w,y,C,D,M,k,G,K,H,ut,Z,z,S;function E(T=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=T,t.onProgress(Math.min(o,100))}function V(T){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(T,o),100),t.onProgress(o)}return o=e,u=t.maxIteration||10,c=1024*t.maxSizeMB*1024,E(),z1(r,t).then((function(T){try{return[,f]=T,E(),d=Yx(f,t),E(),new Promise((function(I,L){var $;if(!($=t.exifOrientation))return $x(r).then((function(P){try{return $=P,ft.call(this)}catch(B){return L(B)}}).bind(this),L);function ft(){return I($)}return ft.call(this)})).then((function(I){try{return p=I,E(),kh().then((function(L){try{return v=L?d:Qx(d,p),E(),w=t.initialQuality||1,y=t.fileType||r.type,q1(v,y,r.name,r.lastModified,w).then((function($){try{{let P=function(){if(u--&&(K>c||K>k)){let tt,st;return tt=S?.95*z.width:z.width,st=S?.95*z.height:z.height,[ut,Z]=ym(tt,st),Z.drawImage(z,0,0,tt,st),w*=y==="image/png"?.85:.95,q1(ut,y,r.name,r.lastModified,w).then((function(gt){try{return H=gt,Wo(z),z=ut,K=H.size,V(Math.min(99,Math.floor((G-K)/(G-c)*100))),P}catch(J){return s(J)}}),s)}return[1]},B=function(){return Wo(z),Wo(ut),Wo(d),Wo(v),Wo(f),V(100),n(H)};if(C=$,E(),D=C.size>c,M=C.size>r.size,!D&&!M)return V(100),n(C);var ft;return k=r.size,G=C.size,K=G,z=v,S=!t.alwaysKeepResolution&&D,(ft=(function(tt){for(;tt;){if(tt.then)return void tt.then(ft,s);try{if(tt.pop){if(tt.length)return tt.pop()?B.call(this):tt;tt=P}else tt=tt.call(this)}catch(st){return s(st)}}}).bind(this))(P)}}catch(P){return s(P)}}).bind(this),s)}catch($){return s($)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(I){return s(I)}}).bind(this),s)}))}const u7=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Q0;function c7(r,t){return new Promise(((e,n)=>{Q0||(Q0=(function(u){const c=[];return c.push(u),URL.createObjectURL(new Blob(c))})(u7));const s=new Worker(Q0);s.addEventListener("message",(function(u){if(t.signal&&t.signal.aborted)s.terminate();else if(u.data.progress===void 0){if(u.data.error)return n(new Error(u.data.error)),void s.terminate();e(u.data.file),s.terminate()}else t.onProgress(u.data.progress)})),s.addEventListener("error",n),t.signal&&t.signal.addEventListener("abort",(()=>{n(t.signal.reason),s.terminate()})),s.postMessage({file:r,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function bs(r,t){return new Promise((function(e,n){let s,o,u,c,f,d;if(s={...t},u=0,{onProgress:c}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=y=>{u=y,typeof c=="function"&&c(u)},!(r instanceof Blob||r instanceof l7))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return n(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||d)return T_(r,s).then((function(y){try{return o=y,w.call(this)}catch(C){return n(C)}}).bind(this),n);var p=(function(){try{return w.call(this)}catch(y){return n(y)}}).bind(this),v=function(y){try{return T_(r,s).then((function(C){try{return o=C,p()}catch(D){return n(D)}}),n)}catch(C){return n(C)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",c7(r,s).then((function(y){try{return o=y,p()}catch{return v()}}),v)}catch{v()}function w(){try{o.name=r.name,o.lastModified=r.lastModified}catch{}try{s.preserveExif&&r.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===r.type)&&(o=Fx(r,o))}catch{}return e(o)}}))}bs.getDataUrlFromFile=qx,bs.getFilefromDataUrl=l5,bs.loadImage=Hx,bs.drawImageInCanvas=Kx,bs.drawFileInCanvas=z1,bs.canvasToFile=q1,bs.getExifOrientation=$x,bs.handleMaxWidthOrHeight=Yx,bs.followExifOrientation=Qx,bs.cleanupCanvasMemory=Wo,bs.isAutoOrientationInBrowser=kh,bs.approximateBelowMaximumCanvasSizeOfBrowser=Gx,bs.copyExifWithoutOrientation=Fx,bs.getBrowserName=mc,bs.version="2.0.2";const h7=r=>new Promise((t,e)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=e,n.readAsDataURL(r)}),f7=async r=>{const t={maxSizeMB:.2,maxWidthOrHeight:1920,useWebWorker:!1,fileType:"image/jpeg",initialQuality:.8};try{console.log(" Original file size:",(r.size/1024/1024).toFixed(2),"MB"),console.log(" File type:",r.type),console.log(" Starting image compression...");const e=await bs(r,t);console.log(" Compressed file size:",(e.size/1024).toFixed(2),"KB"),console.log(" Compressed file type:",e.type),console.log(" Converting to Base64...");const n=await h7(e),s=n.length*.75/1024;console.log(" Base64 size:",s.toFixed(2),"KB");const o=300*1024;if(n.length>o)throw new Error(`    . (${s.toFixed(0)}KB > 300KB)`);return console.log(" Compression and conversion complete!"),n}catch(e){throw console.error(" Image compression failed:",e),new Error("  .   .")}};function Ms(r){return r.replace(/\r\n/g,`
`).replace(/\t/g," ").replace(/\u00A0/g," ").replace(/\s+/g," ").trim()}function Zg(r){const t=r.replace(/\D/g,"");return t?t.startsWith("02")?t.replace(/(\d{2})(\d{3,4})(\d{4})/,"$1-$2-$3"):t.startsWith("0")?t.replace(/(\d{3})(\d{3,4})(\d{4})/,"$1-$2-$3"):r:r}function d7(r){const t=Ms(r),e=t.match(/(?:\[[^\]]*\]\s*)?\s+([^\s]+)\s+/);if(e)return e[1].trim();const n=t.match(/\s+([^\s]+)/);return n?n[1].trim():""}function p7(r){const t=Ms(r),e=t.match(/\s+([^-]+?(?:[-]+(?:\s+[-]+)?)?)\s+(?:[0-9\-]+)\s+/);if(e)return e[1].trim();const n=t.match(/\s*\s*\s+([^\[]+?)(?:\[|||$)/);if(n)return n[1].trim();const s=t.split(`
`).filter(o=>o.trim());if(s.length>0){const u=s[0].split(/\s+/);for(let c=0;c<Math.min(3,u.length);c++)if(u[c].includes("")||u[c].includes("")||u[c].includes(""))return u.slice(0,c+1).join(" ")}return""}function m7(r){const t=Ms(r),e=t.match(/([^\s]+)/);if(e)return e[1].trim()+"";const n=t.match(/\s+([^\s]+)/);if(n)return n[1].trim();const s=t.match(/\s+([^\s]+)/);return s?s[1].trim():""}function g7(r){const t=Ms(r);let e="",n="";const s=t.match(/\s*\s*\s*\s+([\d\-]+)/);if(s&&(e=Zg(s[1])),!e){const o=t.match(/\s+([\d\-]+)/);o&&(n=Zg(o[1]))}return e||n||""}function N_(r){const t=parseFloat(r);return isNaN(t)?"":(Math.round(t*.3025*10)/10).toFixed(1)}function y7(r){const e=Ms(r).split(`
`);for(const n of e){const s=n.match(/\s*\s*\s*(.*?)(?:\n|$)/);if(s){const o=s[1].trim(),u=o.replace(/,/g,""),c=parseInt(u);if(!isNaN(c)){if(c>=1e4){const f=Math.floor(c/1e4),d=c%1e4;return d>0?`${f} ${d.toLocaleString()}`:`${f}`}return c.toLocaleString()}return o}}return""}function v7(r){const e=Ms(r).split(`
`);for(const n of e){const s=n.match(/\s*\s*([\d,]+)/);if(s)return s[1].trim()}return""}function b7(r){const e=Ms(r).match(/\s*([\d.]+)/);return e?e[1]:""}function _7(r){const e=Ms(r).match(/\s*\s*(\d+)/);return e?e[1]:""}function w7(r){const e=Ms(r).match(/\s*\s*\s*(\d+)/);return e?e[1]:""}function x7(r){const e=Ms(r).match(/(\d+)\s*\s*\[/);return e?e[1]+"":""}function A7(r){const e=Ms(r).match(/\s*\[(\d+)\s*\/\s*\d+\]/);return e?e[1]+"":""}function E7(r){const e=Ms(r).split(`
`);for(const n of e){const s=n.match(/\s*(.+?)(?:\n|$)/);if(s)return s[1].trim()}return""}function S7(r){const e=Ms(r).split(`
`);for(let n=0;n<e.length;n++)if(e[n].includes("")||e[n].includes("")){const s=e[n].split(/|/);if(s.length>1)return s[1].trim();for(let o=n+1;o<Math.min(n+4,e.length);o++){const u=e[o].trim();if(u)return u}}return""}function T7(r){const t=Ms(r).split(`
`).filter(o=>o.trim());if(t.length===0)return"";const n=t[0].replace(/\d+\s*\d+/g,"").trim(),s=n.split(/\s+/);return s.length>=3?s.slice(2).join(" "):n}function N7(r){const t=r.match(/[:]\s*([^(\n]+)/);return t?t[1].trim():""}function I7(r){const t=/(|TEL||)[\s:]*([0-9\-]+)/gi,e=[...r.matchAll(t)];if(e.length===0)return"";const n=e.map(c=>Zg(c[2])),s=n.find(c=>c.startsWith("02-"));if(s)return s;const o=n.find(c=>/^0\d{1,2}-/.test(c)&&!c.startsWith("010-"));if(o)return o;const u=n.find(c=>c.startsWith("010-"));return u||n[0]||""}function C7(r){const t=r.match(/(?:||)[:]\s*([^\n/]+)/);return t?t[1].trim():""}function R7(r){const t=r.match(/[\s]*[:]\s*([^\n]+)/);return t?t[1].trim():""}function L7(r){const t=r.match(/\/[:]\s*([\d.]+)?/);return t?t[1]:""}function D7(r){const t=r.match(/[\s]?(\d+)/);return t?t[1]:""}function k7(r){const t=r.match(/[\s]?(\d+)/);return t?t[1]:""}function P7(r){const t=r.match(/(\d+)\s*/);return t?t[1]+"":""}function O7(r){const t=r.match(/\/[:]\s*(\d+)?/);return t?t[1]+"":""}function M7(r){const t=r.match(/[:]\s*([^\n]+)/);return t?t[1].trim():""}function j7(r){const t=r.match(/[:]\s*([^\n]+)/);return t?t[1].trim():""}function V7(r){const t=Ms(r).split(`
`).filter(s=>s.trim());if(t.length===0)return"";const e=t[0],n=e.split(/\s+/);return n.length>=2?n.slice(0,2).join(" "):e}function Xx(r,t){try{const e={roomName:"",jibun:"",agency:"",agencyPhone:"",deposit:"",monthlyRent:"",area:"",pyeong:"",rooms:"",bathrooms:"",building:"",floor:"",moveInDate:"",features:""};if(!r||!r.trim())return e;const n=r.substring(0,1e4);let s="",o="",u="",c="",f="",d="",p="",v="",w="",y="",C="",D="",M="",k="";return t==="TEN"?(s=d7(n),o=p7(n),u=m7(n),c=g7(n),f=y7(n),d=v7(n),p=b7(n),v=N_(p),w=_7(n),y=w7(n),C=x7(n),D=A7(n),M=E7(n),k=S7(n)):t==="NAVER"&&(s=T7(n),o=V7(n),u=N7(n),c=I7(n),f=C7(n),d=R7(n),p=L7(n),v=N_(p),w=D7(n),y=k7(n),C=P7(n),D=O7(n),M=M7(n),k=j7(n)),{roomName:s||"",jibun:o||"",agency:u||"",agencyPhone:c||"",deposit:f||"",monthlyRent:d||"",area:p||"",pyeong:v||"",rooms:w||"",bathrooms:y||"",building:C||"",floor:D||"",moveInDate:M||"",features:k||""}}catch(e){return console.error("   :",e),{roomName:"",jibun:"",agency:"",agencyPhone:"",deposit:"",monthlyRent:"",area:"",pyeong:"",rooms:"",bathrooms:"",building:"",floor:"",moveInDate:"",features:""}}}function F7(r,t){const e=Xx(r,t),n=e.deposit&&e.monthlyRent?`${e.deposit}/${e.monthlyRent}`:e.deposit||e.monthlyRent||"",s=e.area&&e.rooms&&e.bathrooms?`${e.area} ( ${e.pyeong})/${e.rooms},${e.bathrooms}`:"",o=e.building&&e.floor?`${e.building} / ${e.floor}`:"",u=[e.moveInDate,e.features].filter(c=>c).join(" ")||"";return` 
 : ${e.roomName||""}(${e.jibun||""})
 : ${n}
 : ${s}
 /: ${o}
 : ${u}
 : ${e.agency||""}
 : ${e.agencyPhone||""}`}const B7=({isOpen:r,onClose:t,onPhotoCapture:e})=>{const n=Re.useRef(null),s=Re.useRef(null),o=()=>{var f;(f=n.current)==null||f.click()},u=()=>{var f;(f=s.current)==null||f.click()},c=f=>{if(f.target.files){const d=Array.from(f.target.files);e(d),t()}};return r?F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end z-50",children:F.jsxs("div",{className:"w-full bg-white rounded-t-lg p-4 animate-in slide-in-from-bottom",children:[F.jsxs("div",{className:"flex justify-between items-center mb-4",children:[F.jsx("h3",{className:"font-bold text-lg",children:" "}),F.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsxs("button",{onClick:o,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-center text-gray-700 hover:bg-gray-50 font-semibold flex items-center justify-center gap-2",children:[F.jsx("i",{className:"fas fa-camera"})," "]}),F.jsxs("button",{onClick:u,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-center text-gray-700 hover:bg-gray-50 font-semibold flex items-center justify-center gap-2",children:[F.jsx("i",{className:"fas fa-image"})," "]}),F.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-red-300 rounded-lg text-center text-red-600 hover:bg-red-50 font-semibold",children:""})]}),F.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",multiple:!0,className:"hidden",onChange:c}),F.jsx("input",{ref:s,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:c})]})}):null},U7="modulepreload",z7=function(r){return"/FLOW-CRM/"+r},I_={},X0=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(e.map(d=>{if(d=z7(d),d in I_)return;I_[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":U7,p||(w.as="script"),w.crossOrigin="",w.href=d,f&&w.setAttribute("nonce",f),document.head.appendChild(w),p)return new Promise((y,C)=>{w.addEventListener("load",y),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};function tr(r){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(r)}var Ao=Uint8Array,Aa=Uint16Array,u5=Int32Array,c5=new Ao([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h5=new Ao([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C_=new Ao([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wx=function(r,t){for(var e=new Aa(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var s=new u5(e[30]),n=1;n<30;++n)for(var o=e[n];o<e[n+1];++o)s[o]=o-e[n]<<5|n;return{b:e,r:s}},Zx=Wx(c5,2),q7=Zx.b,Jg=Zx.r;q7[28]=258,Jg[258]=28;var H7=Wx(h5,0),R_=H7.r,t2=new Aa(32768);for(var xr=0;xr<32768;++xr){var wu=(xr&43690)>>1|(xr&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,t2[xr]=((wu&65280)>>8|(wu&255)<<8)>>1}var hd=(function(r,t,e){for(var n=r.length,s=0,o=new Aa(t);s<n;++s)r[s]&&++o[r[s]-1];var u=new Aa(t);for(s=1;s<t;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(e){c=new Aa(1<<t);var f=15-t;for(s=0;s<n;++s)if(r[s])for(var d=s<<4|r[s],p=t-r[s],v=u[r[s]-1]++<<p,w=v|(1<<p)-1;v<=w;++v)c[t2[v]>>f]=d}else for(c=new Aa(n),s=0;s<n;++s)r[s]&&(c[s]=t2[u[r[s]-1]++]>>15-r[s]);return c}),Rc=new Ao(288);for(var xr=0;xr<144;++xr)Rc[xr]=8;for(var xr=144;xr<256;++xr)Rc[xr]=9;for(var xr=256;xr<280;++xr)Rc[xr]=7;for(var xr=280;xr<288;++xr)Rc[xr]=8;var H1=new Ao(32);for(var xr=0;xr<32;++xr)H1[xr]=5;var G7=hd(Rc,9,0),K7=hd(H1,5,0),Jx=function(r){return(r+7)/8|0},$7=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new Ao(r.subarray(t,e))},kl=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},Yf=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},W0=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var s=e.length,o=e.slice();if(!s)return{t:eA,l:0};if(s==1){var u=new Ao(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(ut,Z){return ut.f-Z.f}),e.push({s:-1,f:25001});var c=e[0],f=e[1],d=0,p=1,v=2;for(e[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=s-1;)c=e[e[d].f<e[v].f?d++:v++],f=e[d!=p&&e[d].f<e[v].f?d++:v++],e[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,n=1;n<s;++n)o[n].s>w&&(w=o[n].s);var y=new Aa(w+1),C=e2(e[p-1],y,0);if(C>t){var n=0,D=0,M=C-t,k=1<<M;for(o.sort(function(Z,z){return y[z.s]-y[Z.s]||Z.f-z.f});n<s;++n){var G=o[n].s;if(y[G]>t)D+=k-(1<<C-y[G]),y[G]=t;else break}for(D>>=M;D>0;){var K=o[n].s;y[K]<t?D-=1<<t-y[K]++-1:++n}for(;n>=0&&D;--n){var H=o[n].s;y[H]==t&&(--y[H],++D)}C=t}return{t:new Ao(y),l:C}},e2=function(r,t,e){return r.s==-1?Math.max(e2(r.l,t,e+1),e2(r.r,t,e+1)):t[r.s]=e},L_=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new Aa(++t),n=0,s=r[0],o=1,u=function(f){e[n++]=f},c=1;c<=t;++c)if(r[c]==s&&c!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=r[c]}return{c:e.subarray(0,n),n:t}},Qf=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},tA=function(r,t,e){var n=e.length,s=Jx(t+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<n;++o)r[s+o+4]=e[o];return(s+4+n)*8},D_=function(r,t,e,n,s,o,u,c,f,d,p){kl(t,p++,e),++s[256];for(var v=W0(s,15),w=v.t,y=v.l,C=W0(o,15),D=C.t,M=C.l,k=L_(w),G=k.c,K=k.n,H=L_(D),ut=H.c,Z=H.n,z=new Aa(19),S=0;S<G.length;++S)++z[G[S]&31];for(var S=0;S<ut.length;++S)++z[ut[S]&31];for(var E=W0(z,7),V=E.t,T=E.l,I=19;I>4&&!V[C_[I-1]];--I);var L=d+5<<3,$=Qf(s,Rc)+Qf(o,H1)+u,ft=Qf(s,w)+Qf(o,D)+u+14+3*I+Qf(z,V)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&L<=$&&L<=ft)return tA(t,p,r.subarray(f,f+d));var P,B,tt,st;if(kl(t,p,1+(ft<$)),p+=2,ft<$){P=hd(w,y,0),B=w,tt=hd(D,M,0),st=D;var gt=hd(V,T,0);kl(t,p,K-257),kl(t,p+5,Z-1),kl(t,p+10,I-4),p+=14;for(var S=0;S<I;++S)kl(t,p+3*S,V[C_[S]]);p+=3*I;for(var J=[G,ut],O=0;O<2;++O)for(var Q=J[O],S=0;S<Q.length;++S){var W=Q[S]&31;kl(t,p,gt[W]),p+=V[W],W>15&&(kl(t,p,Q[S]>>5&127),p+=Q[S]>>12)}}else P=G7,B=Rc,tt=K7,st=H1;for(var S=0;S<c;++S){var et=n[S];if(et>255){var W=et>>18&31;Yf(t,p,P[W+257]),p+=B[W+257],W>7&&(kl(t,p,et>>23&31),p+=c5[W]);var ct=et&31;Yf(t,p,tt[ct]),p+=st[ct],ct>3&&(Yf(t,p,et>>5&8191),p+=h5[ct])}else Yf(t,p,P[et]),p+=B[et]}return Yf(t,p,P[256]),p+B[256]},Y7=new u5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eA=new Ao(0),Q7=function(r,t,e,n,s,o){var u=o.z||r.length,c=new Ao(n+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(n,c.length-s),d=o.l,p=(o.r||0)&7;if(t){p&&(f[0]=o.r>>3);for(var v=Y7[t-1],w=v>>13,y=v&8191,C=(1<<e)-1,D=o.p||new Aa(32768),M=o.h||new Aa(C+1),k=Math.ceil(e/3),G=2*k,K=function(fe){return(r[fe]^r[fe+1]<<k^r[fe+2]<<G)&C},H=new u5(25e3),ut=new Aa(288),Z=new Aa(32),z=0,S=0,E=o.i||0,V=0,T=o.w||0,I=0;E+2<u;++E){var L=K(E),$=E&32767,ft=M[L];if(D[$]=ft,M[L]=$,T<=E){var P=u-E;if((z>7e3||V>24576)&&(P>423||!d)){p=D_(r,f,0,H,ut,Z,S,V,I,E-I,p),V=z=S=0,I=E;for(var B=0;B<286;++B)ut[B]=0;for(var B=0;B<30;++B)Z[B]=0}var tt=2,st=0,gt=y,J=$-ft&32767;if(P>2&&L==K(E-J))for(var O=Math.min(w,P)-1,Q=Math.min(32767,E),W=Math.min(258,P);J<=Q&&--gt&&$!=ft;){if(r[E+tt]==r[E+tt-J]){for(var et=0;et<W&&r[E+et]==r[E+et-J];++et);if(et>tt){if(tt=et,st=J,et>O)break;for(var ct=Math.min(J,et-2),bt=0,B=0;B<ct;++B){var Tt=E-J+B&32767,Et=D[Tt],Mt=Tt-Et&32767;Mt>bt&&(bt=Mt,ft=Tt)}}}$=ft,ft=D[$],J+=$-ft&32767}if(st){H[V++]=268435456|Jg[tt]<<18|R_[st];var $t=Jg[tt]&31,te=R_[st]&31;S+=c5[$t]+h5[te],++ut[257+$t],++Z[te],T=E+tt,++z}else H[V++]=r[E],++ut[r[E]]}}for(E=Math.max(E,T);E<u;++E)H[V++]=r[E],++ut[r[E]];p=D_(r,f,d,H,ut,Z,S,V,I,E-I,p),d||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=M,o.p=D,o.i=E,o.w=T)}else{for(var E=o.w||0;E<u+d;E+=65535){var le=E+65535;le>=u&&(f[p/8|0]=d,le=u),p=tA(f,p+1,r.subarray(E,le))}o.i=u}return $7(c,0,n+Jx(p)+s)},nA=function(){var r=1,t=0;return{p:function(e){for(var n=r,s=t,o=e.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=n+=e[u];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,t=s},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},X7=function(r,t,e,n,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new Ao(o.length+r.length);u.set(o),u.set(r,o.length),r=u,s.w=o.length}return Q7(r,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,s)},rA=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},W7=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var s=nA();s.p(t.dictionary),rA(r,2,s.d())}};function n2(r,t){t||(t={});var e=nA();e.p(r);var n=X7(r,t,t.dictionary?6:2,4);return W7(n,t),rA(n,n.length-4,e.d()),n}var Z7=typeof TextDecoder<"u"&&new TextDecoder,J7=0;try{Z7.decode(eA,{stream:!0}),J7=1}catch{}function tC(r){if(Array.isArray(r))return r}function eC(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,s,o,u,c=[],f=!0,d=!1;try{if(o=(e=e.call(r)).next,t!==0)for(;!(f=(n=o.call(e)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(p){d=!0,s=p}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function k_(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function nC(r,t){if(r){if(typeof r=="string")return k_(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?k_(r,t):void 0}}function rC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_(r,t){return tC(r)||eC(r,t)||nC(r,t)||rC()}function O_(r,t="utf8"){return new TextDecoder(t).decode(r)}const iC=new TextEncoder;function sC(r){return iC.encode(r)}const aC=1024*8,oC=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),Z0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class f5{constructor(t=aC,e={}){Jn(this,"buffer");Jn(this,"byteLength");Jn(this,"byteOffset");Jn(this,"length");Jn(this,"offset");Jn(this,"lastWrittenByte");Jn(this,"littleEndian");Jn(this,"_data");Jn(this,"_mark");Jn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let u=s;(ArrayBuffer.isView(t)||t instanceof f5)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=Z0[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+n);if(this.littleEndian===oC&&e!=="uint8"&&e!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+n));c.reverse();const f=new Z0[e](c.buffer);return this.offset+=n,f.reverse(),f}const u=new Z0[e](o);return this.offset+=n,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return O_(this.readBytes(t))}decodeText(t=1,e="utf8"){return O_(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(sC(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sf(r){let t=r.length;for(;--t>=0;)r[t]=0}const lC=3,uC=258,iA=29,cC=256,hC=cC+1+iA,sA=30,fC=512,dC=new Array((hC+2)*2);sf(dC);const pC=new Array(sA*2);sf(pC);const mC=new Array(fC);sf(mC);const gC=new Array(uC-lC+1);sf(gC);const yC=new Array(iA);sf(yC);const vC=new Array(sA);sf(vC);const bC=(r,t,e,n)=>{let s=r&65535|0,o=r>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[n++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var r2=bC;const _C=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},wC=new Uint32Array(_C()),xC=(r,t,e,n)=>{const s=wC,o=n+e;r^=-1;for(let u=n;u<o;u++)r=r>>>8^s[(r^t[u])&255];return r^-1};var Yo=xC,i2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const AC=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var EC=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)AC(e,n)&&(r[n]=e[n])}}return r},SC=r=>{let t=0;for(let n=0,s=r.length;n<s;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,s=0,o=r.length;n<o;n++){let u=r[n];e.set(u,s),s+=u.length}return e},oA={assign:EC,flattenChunks:SC};let lA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lA=!1}const Cd=new Uint8Array(256);for(let r=0;r<256;r++)Cd[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Cd[254]=Cd[254]=1;var TC=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,s,o,u=r.length,c=0;for(s=0;s<u;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<u&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(c),o=0,s=0;o<c;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<u&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const NC=(r,t)=>{if(t<65534&&r.subarray&&lA)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var IC=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,s;const o=new Array(e*2);for(s=0,n=0;n<e;){let u=r[n++];if(u<128){o[s++]=u;continue}let c=Cd[u];if(c>4){o[s++]=65533,n+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&n<e;)u=u<<6|r[n++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return NC(o,s)},CC=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Cd[r[e]]>t?e:t},s2={string2buf:TC,buf2string:IC,utf8border:CC};function RC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LC=RC;const qp=16209,DC=16191;var kC=function(t,e){let n,s,o,u,c,f,d,p,v,w,y,C,D,M,k,G,K,H,ut,Z,z,S,E,V;const T=t.state;n=t.next_in,E=t.input,s=n+(t.avail_in-5),o=t.next_out,V=t.output,u=o-(e-t.avail_out),c=o+(t.avail_out-257),f=T.dmax,d=T.wsize,p=T.whave,v=T.wnext,w=T.window,y=T.hold,C=T.bits,D=T.lencode,M=T.distcode,k=(1<<T.lenbits)-1,G=(1<<T.distbits)-1;t:do{C<15&&(y+=E[n++]<<C,C+=8,y+=E[n++]<<C,C+=8),K=D[y&k];e:for(;;){if(H=K>>>24,y>>>=H,C-=H,H=K>>>16&255,H===0)V[o++]=K&65535;else if(H&16){ut=K&65535,H&=15,H&&(C<H&&(y+=E[n++]<<C,C+=8),ut+=y&(1<<H)-1,y>>>=H,C-=H),C<15&&(y+=E[n++]<<C,C+=8,y+=E[n++]<<C,C+=8),K=M[y&G];n:for(;;){if(H=K>>>24,y>>>=H,C-=H,H=K>>>16&255,H&16){if(Z=K&65535,H&=15,C<H&&(y+=E[n++]<<C,C+=8,C<H&&(y+=E[n++]<<C,C+=8)),Z+=y&(1<<H)-1,Z>f){t.msg="invalid distance too far back",T.mode=qp;break t}if(y>>>=H,C-=H,H=o-u,Z>H){if(H=Z-H,H>p&&T.sane){t.msg="invalid distance too far back",T.mode=qp;break t}if(z=0,S=w,v===0){if(z+=d-H,H<ut){ut-=H;do V[o++]=w[z++];while(--H);z=o-Z,S=V}}else if(v<H){if(z+=d+v-H,H-=v,H<ut){ut-=H;do V[o++]=w[z++];while(--H);if(z=0,v<ut){H=v,ut-=H;do V[o++]=w[z++];while(--H);z=o-Z,S=V}}}else if(z+=v-H,H<ut){ut-=H;do V[o++]=w[z++];while(--H);z=o-Z,S=V}for(;ut>2;)V[o++]=S[z++],V[o++]=S[z++],V[o++]=S[z++],ut-=3;ut&&(V[o++]=S[z++],ut>1&&(V[o++]=S[z++]))}else{z=o-Z;do V[o++]=V[z++],V[o++]=V[z++],V[o++]=V[z++],ut-=3;while(ut>2);ut&&(V[o++]=V[z++],ut>1&&(V[o++]=V[z++]))}}else if((H&64)===0){K=M[(K&65535)+(y&(1<<H)-1)];continue n}else{t.msg="invalid distance code",T.mode=qp;break t}break}}else if((H&64)===0){K=D[(K&65535)+(y&(1<<H)-1)];continue e}else if(H&32){T.mode=DC;break t}else{t.msg="invalid literal/length code",T.mode=qp;break t}break}}while(n<s&&o<c);ut=C>>3,n-=ut,C-=ut<<3,y&=(1<<C)-1,t.next_in=n,t.next_out=o,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=o<c?257+(c-o):257-(o-c),T.hold=y,T.bits=C};const Ah=15,M_=852,j_=592,V_=0,J0=1,F_=2,PC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VC=(r,t,e,n,s,o,u,c)=>{const f=c.bits;let d=0,p=0,v=0,w=0,y=0,C=0,D=0,M=0,k=0,G=0,K,H,ut,Z,z,S=null,E;const V=new Uint16Array(Ah+1),T=new Uint16Array(Ah+1);let I=null,L,$,ft;for(d=0;d<=Ah;d++)V[d]=0;for(p=0;p<n;p++)V[t[e+p]]++;for(y=f,w=Ah;w>=1&&V[w]===0;w--);if(y>w&&(y=w),w===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<w&&V[v]===0;v++);for(y<v&&(y=v),M=1,d=1;d<=Ah;d++)if(M<<=1,M-=V[d],M<0)return-1;if(M>0&&(r===V_||w!==1))return-1;for(T[1]=0,d=1;d<Ah;d++)T[d+1]=T[d]+V[d];for(p=0;p<n;p++)t[e+p]!==0&&(u[T[t[e+p]]++]=p);if(r===V_?(S=I=u,E=20):r===J0?(S=PC,I=OC,E=257):(S=MC,I=jC,E=0),G=0,p=0,d=v,z=o,C=y,D=0,ut=-1,k=1<<y,Z=k-1,r===J0&&k>M_||r===F_&&k>j_)return 1;for(;;){L=d-D,u[p]+1<E?($=0,ft=u[p]):u[p]>=E?($=I[u[p]-E],ft=S[u[p]-E]):($=96,ft=0),K=1<<d-D,H=1<<C,v=H;do H-=K,s[z+(G>>D)+H]=L<<24|$<<16|ft|0;while(H!==0);for(K=1<<d-1;G&K;)K>>=1;if(K!==0?(G&=K-1,G+=K):G=0,p++,--V[d]===0){if(d===w)break;d=t[e+u[p]]}if(d>y&&(G&Z)!==ut){for(D===0&&(D=y),z+=v,C=d-D,M=1<<C;C+D<w&&(M-=V[C+D],!(M<=0));)C++,M<<=1;if(k+=1<<C,r===J0&&k>M_||r===F_&&k>j_)return 1;ut=G&Z,s[ut]=y<<24|C<<16|z-o|0}}return G!==0&&(s[z+G]=d-D<<24|64<<16|0),c.bits=y,0};var fd=VC;const FC=0,uA=1,cA=2,{Z_FINISH:B_,Z_BLOCK:BC,Z_TREES:Hp,Z_OK:Lc,Z_STREAM_END:UC,Z_NEED_DICT:zC,Z_STREAM_ERROR:Ya,Z_DATA_ERROR:hA,Z_MEM_ERROR:fA,Z_BUF_ERROR:qC,Z_DEFLATED:U_}=aA,vm=16180,z_=16181,q_=16182,H_=16183,G_=16184,K_=16185,$_=16186,Y_=16187,Q_=16188,X_=16189,G1=16190,Pl=16191,tg=16192,W_=16193,eg=16194,Z_=16195,J_=16196,tw=16197,ew=16198,Gp=16199,Kp=16200,nw=16201,rw=16202,iw=16203,sw=16204,aw=16205,ng=16206,ow=16207,lw=16208,Cr=16209,dA=16210,pA=16211,HC=852,GC=592,KC=15,$C=KC,uw=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function YC(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Oc=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<vm||t.mode>pA?1:0},mA=r=>{if(Oc(r))return Ya;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=vm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(HC),t.distcode=t.distdyn=new Int32Array(GC),t.sane=1,t.back=-1,Lc},gA=r=>{if(Oc(r))return Ya;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,mA(r)},yA=(r,t)=>{let e;if(Oc(r))return Ya;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ya:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,gA(r))},vA=(r,t)=>{if(!r)return Ya;const e=new YC;r.state=e,e.strm=r,e.window=null,e.mode=vm;const n=yA(r,t);return n!==Lc&&(r.state=null),n},QC=r=>vA(r,$C);let cw=!0,rg,ig;const XC=r=>{if(cw){rg=new Int32Array(512),ig=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(fd(uA,r.lens,0,288,rg,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;fd(cA,r.lens,0,32,ig,0,r.work,{bits:5}),cw=!1}r.lencode=rg,r.lenbits=9,r.distcode=ig,r.distbits=5},bA=(r,t,e,n)=>{let s;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>n&&(s=n),o.window.set(t.subarray(e-n,e-n+s),o.wnext),n-=s,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},WC=(r,t)=>{let e,n,s,o,u,c,f,d,p,v,w,y,C,D,M=0,k,G,K,H,ut,Z,z,S;const E=new Uint8Array(4);let V,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Oc(r)||!r.output||!r.input&&r.avail_in!==0)return Ya;e=r.state,e.mode===Pl&&(e.mode=tg),u=r.next_out,s=r.output,f=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,d=e.hold,p=e.bits,v=c,w=f,S=Lc;t:for(;;)switch(e.mode){case vm:if(e.wrap===0){e.mode=tg;break}for(;p<16;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,E[0]=d&255,E[1]=d>>>8&255,e.check=Yo(e.check,E,2,0),d=0,p=0,e.mode=z_;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",e.mode=Cr;break}if((d&15)!==U_){r.msg="unknown compression method",e.mode=Cr;break}if(d>>>=4,p-=4,z=(d&15)+8,e.wbits===0&&(e.wbits=z),z>15||z>e.wbits){r.msg="invalid window size",e.mode=Cr;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=d&512?X_:Pl,d=0,p=0;break;case z_:for(;p<16;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(e.flags=d,(e.flags&255)!==U_){r.msg="unknown compression method",e.mode=Cr;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=Cr;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,e.check=Yo(e.check,E,2,0)),d=0,p=0,e.mode=q_;case q_:for(;p<32;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,e.check=Yo(e.check,E,4,0)),d=0,p=0,e.mode=H_;case H_:for(;p<16;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,e.check=Yo(e.check,E,2,0)),d=0,p=0,e.mode=G_;case G_:if(e.flags&1024){for(;p<16;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,e.check=Yo(e.check,E,2,0)),d=0,p=0}else e.head&&(e.head.extra=null);e.mode=K_;case K_:if(e.flags&1024&&(y=e.length,y>c&&(y=c),y&&(e.head&&(z=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+y),z)),e.flags&512&&e.wrap&4&&(e.check=Yo(e.check,n,y,o)),c-=y,o+=y,e.length-=y),e.length))break t;e.length=0,e.mode=$_;case $_:if(e.flags&2048){if(c===0)break t;y=0;do z=n[o+y++],e.head&&z&&e.length<65536&&(e.head.name+=String.fromCharCode(z));while(z&&y<c);if(e.flags&512&&e.wrap&4&&(e.check=Yo(e.check,n,y,o)),c-=y,o+=y,z)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Y_;case Y_:if(e.flags&4096){if(c===0)break t;y=0;do z=n[o+y++],e.head&&z&&e.length<65536&&(e.head.comment+=String.fromCharCode(z));while(z&&y<c);if(e.flags&512&&e.wrap&4&&(e.check=Yo(e.check,n,y,o)),c-=y,o+=y,z)break t}else e.head&&(e.head.comment=null);e.mode=Q_;case Q_:if(e.flags&512){for(;p<16;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(e.wrap&4&&d!==(e.check&65535)){r.msg="header crc mismatch",e.mode=Cr;break}d=0,p=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Pl;break;case X_:for(;p<32;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}r.adler=e.check=uw(d),d=0,p=0,e.mode=G1;case G1:if(e.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=p,zC;r.adler=e.check=1,e.mode=Pl;case Pl:if(t===BC||t===Hp)break t;case tg:if(e.last){d>>>=p&7,p-=p&7,e.mode=ng;break}for(;p<3;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}switch(e.last=d&1,d>>>=1,p-=1,d&3){case 0:e.mode=W_;break;case 1:if(XC(e),e.mode=Gp,t===Hp){d>>>=2,p-=2;break t}break;case 2:e.mode=J_;break;case 3:r.msg="invalid block type",e.mode=Cr}d>>>=2,p-=2;break;case W_:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Cr;break}if(e.length=d&65535,d=0,p=0,e.mode=eg,t===Hp)break t;case eg:e.mode=Z_;case Z_:if(y=e.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break t;s.set(n.subarray(o,o+y),u),c-=y,o+=y,f-=y,u+=y,e.length-=y;break}e.mode=Pl;break;case J_:for(;p<14;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(e.nlen=(d&31)+257,d>>>=5,p-=5,e.ndist=(d&31)+1,d>>>=5,p-=5,e.ncode=(d&15)+4,d>>>=4,p-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Cr;break}e.have=0,e.mode=tw;case tw:for(;e.have<e.ncode;){for(;p<3;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.lens[I[e.have++]]=d&7,d>>>=3,p-=3}for(;e.have<19;)e.lens[I[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,V={bits:e.lenbits},S=fd(FC,e.lens,0,19,e.lencode,0,e.work,V),e.lenbits=V.bits,S){r.msg="invalid code lengths set",e.mode=Cr;break}e.have=0,e.mode=ew;case ew:for(;e.have<e.nlen+e.ndist;){for(;M=e.lencode[d&(1<<e.lenbits)-1],k=M>>>24,G=M>>>16&255,K=M&65535,!(k<=p);){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(K<16)d>>>=k,p-=k,e.lens[e.have++]=K;else{if(K===16){for(T=k+2;p<T;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(d>>>=k,p-=k,e.have===0){r.msg="invalid bit length repeat",e.mode=Cr;break}z=e.lens[e.have-1],y=3+(d&3),d>>>=2,p-=2}else if(K===17){for(T=k+3;p<T;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}d>>>=k,p-=k,z=0,y=3+(d&7),d>>>=3,p-=3}else{for(T=k+7;p<T;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}d>>>=k,p-=k,z=0,y=11+(d&127),d>>>=7,p-=7}if(e.have+y>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Cr;break}for(;y--;)e.lens[e.have++]=z}}if(e.mode===Cr)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=Cr;break}if(e.lenbits=9,V={bits:e.lenbits},S=fd(uA,e.lens,0,e.nlen,e.lencode,0,e.work,V),e.lenbits=V.bits,S){r.msg="invalid literal/lengths set",e.mode=Cr;break}if(e.distbits=6,e.distcode=e.distdyn,V={bits:e.distbits},S=fd(cA,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,V),e.distbits=V.bits,S){r.msg="invalid distances set",e.mode=Cr;break}if(e.mode=Gp,t===Hp)break t;case Gp:e.mode=Kp;case Kp:if(c>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=p,kC(r,w),u=r.next_out,s=r.output,f=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,d=e.hold,p=e.bits,e.mode===Pl&&(e.back=-1);break}for(e.back=0;M=e.lencode[d&(1<<e.lenbits)-1],k=M>>>24,G=M>>>16&255,K=M&65535,!(k<=p);){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(G&&(G&240)===0){for(H=k,ut=G,Z=K;M=e.lencode[Z+((d&(1<<H+ut)-1)>>H)],k=M>>>24,G=M>>>16&255,K=M&65535,!(H+k<=p);){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}d>>>=H,p-=H,e.back+=H}if(d>>>=k,p-=k,e.back+=k,e.length=K,G===0){e.mode=aw;break}if(G&32){e.back=-1,e.mode=Pl;break}if(G&64){r.msg="invalid literal/length code",e.mode=Cr;break}e.extra=G&15,e.mode=nw;case nw:if(e.extra){for(T=e.extra;p<T;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,p-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=rw;case rw:for(;M=e.distcode[d&(1<<e.distbits)-1],k=M>>>24,G=M>>>16&255,K=M&65535,!(k<=p);){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if((G&240)===0){for(H=k,ut=G,Z=K;M=e.distcode[Z+((d&(1<<H+ut)-1)>>H)],k=M>>>24,G=M>>>16&255,K=M&65535,!(H+k<=p);){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}d>>>=H,p-=H,e.back+=H}if(d>>>=k,p-=k,e.back+=k,G&64){r.msg="invalid distance code",e.mode=Cr;break}e.offset=K,e.extra=G&15,e.mode=iw;case iw:if(e.extra){for(T=e.extra;p<T;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,p-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Cr;break}e.mode=sw;case sw:if(f===0)break t;if(y=w-f,e.offset>y){if(y=e.offset-y,y>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Cr;break}y>e.wnext?(y-=e.wnext,C=e.wsize-y):C=e.wnext-y,y>e.length&&(y=e.length),D=e.window}else D=s,C=u-e.offset,y=e.length;y>f&&(y=f),f-=y,e.length-=y;do s[u++]=D[C++];while(--y);e.length===0&&(e.mode=Kp);break;case aw:if(f===0)break t;s[u++]=e.length,f--,e.mode=Kp;break;case ng:if(e.wrap){for(;p<32;){if(c===0)break t;c--,d|=n[o++]<<p,p+=8}if(w-=f,r.total_out+=w,e.total+=w,e.wrap&4&&w&&(r.adler=e.check=e.flags?Yo(e.check,s,w,u-w):r2(e.check,s,w,u-w)),w=f,e.wrap&4&&(e.flags?d:uw(d))!==e.check){r.msg="incorrect data check",e.mode=Cr;break}d=0,p=0}e.mode=ow;case ow:if(e.wrap&&e.flags){for(;p<32;){if(c===0)break t;c--,d+=n[o++]<<p,p+=8}if(e.wrap&4&&d!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=Cr;break}d=0,p=0}e.mode=lw;case lw:S=UC;break t;case Cr:S=hA;break t;case dA:return fA;case pA:default:return Ya}return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=p,(e.wsize||w!==r.avail_out&&e.mode<Cr&&(e.mode<ng||t!==B_))&&bA(r,r.output,r.next_out,w-r.avail_out),v-=r.avail_in,w-=r.avail_out,r.total_in+=v,r.total_out+=w,e.total+=w,e.wrap&4&&w&&(r.adler=e.check=e.flags?Yo(e.check,s,w,r.next_out-w):r2(e.check,s,w,r.next_out-w)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Pl?128:0)+(e.mode===Gp||e.mode===eg?256:0),(v===0&&w===0||t===B_)&&S===Lc&&(S=qC),S},ZC=r=>{if(Oc(r))return Ya;let t=r.state;return t.window&&(t.window=null),r.state=null,Lc},JC=(r,t)=>{if(Oc(r))return Ya;const e=r.state;return(e.wrap&2)===0?Ya:(e.head=t,t.done=!1,Lc)},tR=(r,t)=>{const e=t.length;let n,s,o;return Oc(r)||(n=r.state,n.wrap!==0&&n.mode!==G1)?Ya:n.mode===G1&&(s=1,s=r2(s,t,e,0),s!==n.check)?hA:(o=bA(r,t,e,e),o?(n.mode=dA,fA):(n.havedict=1,Lc))};var eR=gA,nR=yA,rR=mA,iR=QC,sR=vA,aR=WC,oR=ZC,lR=JC,uR=tR,cR="pako inflate (from Nodeca project)",Ol={inflateReset:eR,inflateReset2:nR,inflateResetKeep:rR,inflateInit:iR,inflateInit2:sR,inflate:aR,inflateEnd:oR,inflateGetHeader:lR,inflateSetDictionary:uR,inflateInfo:cR};function hR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fR=hR;const _A=Object.prototype.toString,{Z_NO_FLUSH:dR,Z_FINISH:pR,Z_OK:Rd,Z_STREAM_END:sg,Z_NEED_DICT:ag,Z_STREAM_ERROR:mR,Z_DATA_ERROR:hw,Z_MEM_ERROR:gR}=aA;function Ud(r){this.options=oA.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LC,this.strm.avail_out=0;let e=Ol.inflateInit2(this.strm,t.windowBits);if(e!==Rd)throw new Error(i2[e]);if(this.header=new fR,Ol.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=s2.string2buf(t.dictionary):_A.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ol.inflateSetDictionary(this.strm,t.dictionary),e!==Rd)))throw new Error(i2[e])}Ud.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?pR:dR,_A.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=Ol.inflate(e,u),o===ag&&s&&(o=Ol.inflateSetDictionary(e,s),o===Rd?o=Ol.inflate(e,u):o===hw&&(o=ag));e.avail_in>0&&o===sg&&e.state.wrap>0&&r[e.next_in]!==0;)Ol.inflateReset(e),o=Ol.inflate(e,u);switch(o){case mR:case hw:case ag:case gR:return this.onEnd(o),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||o===sg))if(this.options.to==="string"){let f=s2.utf8border(e.output,e.next_out),d=e.next_out-f,p=s2.buf2string(e.output,f);e.next_out=d,e.avail_out=n-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(p)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Rd&&c===0)){if(o===sg)return o=Ol.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Ud.prototype.onData=function(r){this.chunks.push(r)};Ud.prototype.onEnd=function(r){r===Rd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oA.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function yR(r,t){const e=new Ud(t);if(e.push(r),e.err)throw e.msg||i2[e.err];return e.result}var vR=Ud,bR=yR,_R={Inflate:vR,inflate:bR};const{Inflate:wR,inflate:xR}=_R;var fw=wR,AR=xR;const wA=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;wA[r]=t}const dw=4294967295;function ER(r,t,e){let n=r;for(let s=0;s<e;s++)n=wA[(n^t[s])&255]^n>>>8;return n}function SR(r,t){return(ER(dw,r,t)^dw)>>>0}function pw(r,t,e){const n=r.readUint32(),s=SR(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${s}`)}function xA(r,t,e){for(let n=0;n<e;n++)t[n]=r[n]}function AA(r,t,e,n){let s=0;for(;s<n;s++)t[s]=r[s];for(;s<e;s++)t[s]=r[s]+t[s-n]&255}function EA(r,t,e,n){let s=0;if(e.length===0)for(;s<n;s++)t[s]=r[s];else for(;s<n;s++)t[s]=r[s]+e[s]&255}function SA(r,t,e,n,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=r[o];for(;o<n;o++)t[o]=r[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=r[o]+(e[o]>>1)&255;for(;o<n;o++)t[o]=r[o]+(t[o-s]+e[o]>>1)&255}}function TA(r,t,e,n,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=r[o];for(;o<n;o++)t[o]=r[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=r[o]+e[o]&255;for(;o<n;o++)t[o]=r[o]+TR(t[o-s],e[o],e[o-s])&255}}function TR(r,t,e){const n=r+t-e,s=Math.abs(n-r),o=Math.abs(n-t),u=Math.abs(n-e);return s<=o&&s<=u?r:o<=u?t:e}function NR(r,t,e,n,s,o){switch(r){case 0:xA(t,e,s);break;case 1:AA(t,e,s,o);break;case 2:EA(t,e,n,s);break;case 3:SA(t,e,n,s,o);break;case 4:TA(t,e,n,s,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const IR=new Uint16Array([255]),CR=new Uint8Array(IR.buffer),RR=CR[0]===255;function LR(r){const{data:t,width:e,height:n,channels:s,depth:o}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(n*e*c);let d=0;for(let p=0;p<7;p++){const v=u[p],w=Math.ceil((e-v.x)/v.xStep),y=Math.ceil((n-v.y)/v.yStep);if(w<=0||y<=0)continue;const C=w*c,D=new Uint8Array(C);for(let M=0;M<y;M++){const k=t[d++],G=t.subarray(d,d+C);d+=C;const K=new Uint8Array(C);NR(k,G,K,D,C,c),D.set(K);for(let H=0;H<w;H++){const ut=v.x+H*v.xStep,Z=v.y+M*v.yStep;if(!(ut>=e||Z>=n))for(let z=0;z<c;z++)f[(Z*e+ut)*c+z]=K[H*c+z]}}}if(o===16){const p=new Uint16Array(f.buffer);if(RR)for(let v=0;v<p.length;v++)p[v]=DR(p[v]);return p}else return f}function DR(r){return(r&255)<<8|r>>8&255}const kR=new Uint16Array([255]),PR=new Uint8Array(kR.buffer),OR=PR[0]===255,MR=new Uint8Array(0);function mw(r){const{data:t,width:e,height:n,channels:s,depth:o}=r,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*e),f=new Uint8Array(n*c);let d=MR,p=0,v,w;for(let y=0;y<n;y++){switch(v=t.subarray(p+1,p+1+c),w=f.subarray(y*c,(y+1)*c),t[p]){case 0:xA(v,w,c);break;case 1:AA(v,w,c,u);break;case 2:EA(v,w,d,c);break;case 3:SA(v,w,d,c,u);break;case 4:TA(v,w,d,c,u);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}d=w,p+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(OR)for(let C=0;C<y.length;C++)y[C]=jR(y[C]);return y}else return f}function jR(r){return(r&255)<<8|r>>8&255}const f1=Uint8Array.of(137,80,78,71,13,10,26,10);function gw(r){if(!VR(r.readBytes(f1.length)))throw new Error("wrong PNG signature")}function VR(r){if(r.length<f1.length)return!1;for(let t=0;t<f1.length;t++)if(r[t]!==f1[t])return!1;return!0}const FR="tEXt",BR=0,NA=new TextDecoder("latin1");function UR(r){if(qR(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const zR=/^[\u0000-\u00FF]*$/;function qR(r){if(!zR.test(r))throw new Error("invalid latin1 text")}function HR(r,t,e){const n=IA(t);r[n]=GR(t,e-n.length-1)}function IA(r){for(r.mark();r.readByte()!==BR;);const t=r.offset;r.reset();const e=NA.decode(r.readBytes(t-r.offset-1));return r.skip(1),UR(e),e}function GR(r,t){return NA.decode(r.readBytes(t))}const _a={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},og={UNKNOWN:-1,DEFLATE:0},yw={UNKNOWN:-1,ADAPTIVE:0},lg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$p={NONE:0,BACKGROUND:1,PREVIOUS:2},ug={SOURCE:0,OVER:1};class KR extends f5{constructor(e,n={}){super(e);Jn(this,"_checkCrc");Jn(this,"_inflator");Jn(this,"_png");Jn(this,"_apng");Jn(this,"_end");Jn(this,"_hasPalette");Jn(this,"_palette");Jn(this,"_hasTransparency");Jn(this,"_transparency");Jn(this,"_compressionMethod");Jn(this,"_filterMethod");Jn(this,"_interlaceMethod");Jn(this,"_colorType");Jn(this,"_isAnimated");Jn(this,"_numberOfFrames");Jn(this,"_numberOfPlays");Jn(this,"_frames");Jn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new fw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=og.UNKNOWN,this._filterMethod=yw.UNKNOWN,this._interlaceMethod=lg.UNKNOWN,this._colorType=_a.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(gw(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(gw(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case FR:HR(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?pw(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?pw(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=$R(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case _a.GREYSCALE:s=1;break;case _a.TRUECOLOUR:s=3;break;case _a.INDEXED_COLOUR:s=1;break;case _a.GREYSCALE_ALPHA:s=2;break;case _a.TRUECOLOUR_ALPHA:s=4;break;case _a.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==og.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<n;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case _a.GREYSCALE:case _a.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case _a.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case _a.UNKNOWN:case _a.GREYSCALE_ALPHA:case _a.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=IA(this),s=this.readUint8();if(s!==og.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:AR(o)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=mw({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(s,o,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,s){switch(e.disposeOp){case $p.NONE:break;case $p.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let u=0;u<this._png.width;u++){const c=(o*e.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[c+f]=0}break;case $p.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const s=1<<this._png.depth,o=(u,c)=>{const f=((u+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,d=(u*n.width+c)*this._png.channels;return{index:f,frameIndex:d}};switch(n.blendOp){case ug.SOURCE:for(let u=0;u<n.height;u++)for(let c=0;c<n.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let p=0;p<this._png.channels;p++)e.data[f+p]=n.data[d+p]}break;case ug.OVER:for(let u=0;u<n.height;u++)for(let c=0;c<n.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let p=0;p<this._png.channels;p++){const v=n.data[d+this._png.channels-1]/s,w=p%(this._png.channels-1)===0?1:n.data[d+p],y=Math.floor(v*w+(1-v)*e.data[f+p]);e.data[f+p]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==yw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===lg.NO_INTERLACE)this._png.data=mw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===lg.ADAM7)this._png.data=LR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$p.NONE,blendOp:ug.SOURCE,data:e}),this._inflator=new fw,this._writingDataChunks=!1}}function $R(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var vw;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(vw||(vw={}));function YR(r,t){return new KR(r,t).decode()}var nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function cg(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var mr={log:cg,warn:function(r){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):cg.call(null,arguments))},error:function(r){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):cg(r))}};function hg(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){lc(n.response,t,e)},n.onerror=function(){mr.error("could not download file")},n.send()}function bw(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var lc=nn.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=nn.URL||nn.webkitURL,s=document.createElement("a");t=t||r.name||"download",s.download=t,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?bw(s.href)?hg(r,t,e):Yp(s,s.target="_blank"):Yp(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Yp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(bw(r))hg(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Yp(n)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:tr(o)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return hg(r,t,e);var s=r.type==="application/octet-stream",o=/constructor/i.test(nn.HTMLElement)||nn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},c.readAsDataURL(r)}else{var f=nn.URL||nn.webkitURL,d=f.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CA(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<e.length;n++){var s=e[n].re,o=e[n].process,u=s.exec(r);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var d1=nn.atob.bind(nn),_w=nn.btoa.bind(nn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fg(r,t){var e=r[0],n=r[1],s=r[2],o=r[3];e=ms(e,n,s,o,t[0],7,-680876936),o=ms(o,e,n,s,t[1],12,-389564586),s=ms(s,o,e,n,t[2],17,606105819),n=ms(n,s,o,e,t[3],22,-1044525330),e=ms(e,n,s,o,t[4],7,-176418897),o=ms(o,e,n,s,t[5],12,1200080426),s=ms(s,o,e,n,t[6],17,-1473231341),n=ms(n,s,o,e,t[7],22,-45705983),e=ms(e,n,s,o,t[8],7,1770035416),o=ms(o,e,n,s,t[9],12,-1958414417),s=ms(s,o,e,n,t[10],17,-42063),n=ms(n,s,o,e,t[11],22,-1990404162),e=ms(e,n,s,o,t[12],7,1804603682),o=ms(o,e,n,s,t[13],12,-40341101),s=ms(s,o,e,n,t[14],17,-1502002290),e=gs(e,n=ms(n,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=gs(o,e,n,s,t[6],9,-1069501632),s=gs(s,o,e,n,t[11],14,643717713),n=gs(n,s,o,e,t[0],20,-373897302),e=gs(e,n,s,o,t[5],5,-701558691),o=gs(o,e,n,s,t[10],9,38016083),s=gs(s,o,e,n,t[15],14,-660478335),n=gs(n,s,o,e,t[4],20,-405537848),e=gs(e,n,s,o,t[9],5,568446438),o=gs(o,e,n,s,t[14],9,-1019803690),s=gs(s,o,e,n,t[3],14,-187363961),n=gs(n,s,o,e,t[8],20,1163531501),e=gs(e,n,s,o,t[13],5,-1444681467),o=gs(o,e,n,s,t[2],9,-51403784),s=gs(s,o,e,n,t[7],14,1735328473),e=ys(e,n=gs(n,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=ys(o,e,n,s,t[8],11,-2022574463),s=ys(s,o,e,n,t[11],16,1839030562),n=ys(n,s,o,e,t[14],23,-35309556),e=ys(e,n,s,o,t[1],4,-1530992060),o=ys(o,e,n,s,t[4],11,1272893353),s=ys(s,o,e,n,t[7],16,-155497632),n=ys(n,s,o,e,t[10],23,-1094730640),e=ys(e,n,s,o,t[13],4,681279174),o=ys(o,e,n,s,t[0],11,-358537222),s=ys(s,o,e,n,t[3],16,-722521979),n=ys(n,s,o,e,t[6],23,76029189),e=ys(e,n,s,o,t[9],4,-640364487),o=ys(o,e,n,s,t[12],11,-421815835),s=ys(s,o,e,n,t[15],16,530742520),e=vs(e,n=ys(n,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=vs(o,e,n,s,t[7],10,1126891415),s=vs(s,o,e,n,t[14],15,-1416354905),n=vs(n,s,o,e,t[5],21,-57434055),e=vs(e,n,s,o,t[12],6,1700485571),o=vs(o,e,n,s,t[3],10,-1894986606),s=vs(s,o,e,n,t[10],15,-1051523),n=vs(n,s,o,e,t[1],21,-2054922799),e=vs(e,n,s,o,t[8],6,1873313359),o=vs(o,e,n,s,t[15],10,-30611744),s=vs(s,o,e,n,t[6],15,-1560198380),n=vs(n,s,o,e,t[13],21,1309151649),e=vs(e,n,s,o,t[4],6,-145523070),o=vs(o,e,n,s,t[11],10,-1120210379),s=vs(s,o,e,n,t[2],15,718787259),n=vs(n,s,o,e,t[9],21,-343485551),r[0]=Su(e,r[0]),r[1]=Su(n,r[1]),r[2]=Su(s,r[2]),r[3]=Su(o,r[3])}function bm(r,t,e,n,s,o){return t=Su(Su(t,r),Su(n,o)),Su(t<<s|t>>>32-s,e)}function ms(r,t,e,n,s,o,u){return bm(t&e|~t&n,r,t,s,o,u)}function gs(r,t,e,n,s,o,u){return bm(t&n|e&~n,r,t,s,o,u)}function ys(r,t,e,n,s,o,u){return bm(t^e^n,r,t,s,o,u)}function vs(r,t,e,n,s,o,u){return bm(e^(t|~n),r,t,s,o,u)}function RA(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)fg(n,QR(r.substring(t-64,t)));r=r.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(fg(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,fg(n,s),n}function QR(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var ww="0123456789abcdef".split("");function XR(r){for(var t="",e=0;e<4;e++)t+=ww[r>>8*e+4&15]+ww[r>>8*e&15];return t}function WR(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function a2(r){return RA(r).map(WR).join("")}var ZR=(function(r){for(var t=0;t<r.length;t++)r[t]=XR(r[t]);return r.join("")})(RA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Su(r,t){if(ZR){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function o2(r,t){var e,n,s,o;if(r!==e){for(var u=(s=r,o=1+(256/r.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+u.charCodeAt(f))%256,c[f]=c[d],c[d]=p}e=r,n=c}else c=n;var v=t.length,w=0,y=0,C="";for(f=0;f<v;f++)y=(y+(p=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=p,u=c[(c[w]+c[y])%256],C+=String.fromCharCode(t.charCodeAt(f)^u);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xw={print:4,modify:8,copy:16,"annot-forms":32};function Lh(r,t,e,n){this.v=1,this.r=2;var s=192;r.forEach(function(c){if(xw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=xw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=a2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=o2(this.encryptionKey,this.padding)}function Dh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var s=r.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[n]}return t}function Aw(r){if(tr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,s){if(s=s||!1,typeof e!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[n,!!s],o},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(r,n)}catch(c){nn.console&&mr.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function K1(r){if(!(this instanceof K1))return new K1(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function LA(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function dc(r,t,e,n,s){if(!(this instanceof dc))return new dc(r,t,e,n,s);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,LA.call(this,n,s)}function Ph(r,t,e,n,s){if(!(this instanceof Ph))return new Ph(r,t,e,n,s);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,LA.call(this,n,s)}function ze(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",p=null;tr(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,s=r.format||s,o=r.compress||r.compressPdf||o,(p=r.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),u=r.filters||(o===!0?["FlateEncode"]:u),n=n||"mm",e=(""+(e||"P")).toLowerCase();var v=r.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=Aw;var C="1.3",D=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(A){C=A};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return M};var k=y.__private__.getPageFormat=function(A){return M[A]};s=s||"a4";var G="compat",K="advanced",H=G;function ut(){this.saveGraphicsState(),lt(new Be(ce,0,0,-ce,0,Ns()*ce).toString()+" cm"),this.setFontSize(this.getFontSize()/ce),d="n",H=K}function Z(){this.restoreGraphicsState(),d="S",H=G}var z=y.__private__.combineFontStyleAndFontWeight=function(A,Y){if(A=="bold"&&Y=="normal"||A=="bold"&&Y==400||A=="normal"&&Y=="italic"||A=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(A=Y==400||Y==="normal"?A==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||A!=="normal"?(Y==700?"bold":Y)+""+A:"bold"),A};y.advancedAPI=function(A){var Y=H===G;return Y&&ut.call(this),typeof A!="function"||(A(this),Y&&Z.call(this)),this},y.compatAPI=function(A){var Y=H===K;return Y&&Z.call(this),typeof A!="function"||(A(this),Y&&ut.call(this)),this},y.isAdvancedAPI=function(){return H===K};var S,E=function(A){if(H!==K)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=y.roundToPrecision=y.__private__.roundToPrecision=function(A,Y){var pt=t||Y;if(isNaN(A)||isNaN(pt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(pt).replace(/0+$/,"")};S=y.hpf=y.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,16)};var T=y.f2=y.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return V(A,2)},I=y.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return V(A,3)},L=y.scale=y.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return H===G?A*ce:H===K?A:void 0},$=function(A){return L((function(Y){return H===G?Ns()-Y:H===K?Y:void 0})(A))};y.__private__.setPrecision=y.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var ft,P="00000000000000000000000000000000",B=y.__private__.getFileId=function(){return P},tt=y.__private__.setFileId=function(A){return P=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():P.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(hr=new Lh(p.userPermissions,p.userPassword,p.ownerPassword,P)),P};y.setFileId=function(A){return tt(A),this},y.getFileId=function(){return B()};var st=y.__private__.convertDateToPDFDate=function(A){var Y=A.getTimezoneOffset(),pt=Y<0?"+":"-",_t=Math.floor(Math.abs(Y/60)),St=Math.abs(Y%60),Ht=[pt,W(_t),"'",W(St),"'"].join("");return["D:",A.getFullYear(),W(A.getMonth()+1),W(A.getDate()),W(A.getHours()),W(A.getMinutes()),W(A.getSeconds()),Ht].join("")},gt=y.__private__.convertPDFDateToDate=function(A){var Y=parseInt(A.substr(2,4),10),pt=parseInt(A.substr(6,2),10)-1,_t=parseInt(A.substr(8,2),10),St=parseInt(A.substr(10,2),10),Ht=parseInt(A.substr(12,2),10),Jt=parseInt(A.substr(14,2),10);return new Date(Y,pt,_t,St,Ht,Jt,0)},J=y.__private__.setCreationDate=function(A){var Y;if(A===void 0&&(A=new Date),A instanceof Date)Y=st(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=A}return ft=Y},O=y.__private__.getCreationDate=function(A){var Y=ft;return A==="jsDate"&&(Y=gt(ft)),Y};y.setCreationDate=function(A){return J(A),this},y.getCreationDate=function(A){return O(A)};var Q,W=y.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},et=y.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ct=0,bt=[],Tt=[],Et=0,Mt=[],$t=[],te=!1,le=Tt;y.__private__.setCustomOutputDestination=function(A){te=!0,le=A};var fe=function(A){te||(le=A)};y.__private__.resetCustomOutputDestination=function(){te=!1,le=Tt};var lt=y.__private__.out=function(A){return A=A.toString(),Et+=A.length+1,le.push(A),le},ee=y.__private__.write=function(A){return lt(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},xe=y.__private__.getArrayBuffer=function(A){for(var Y=A.length,pt=new ArrayBuffer(Y),_t=new Uint8Array(pt);Y--;)_t[Y]=A.charCodeAt(Y);return pt},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return he};var Bt=r.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(A){return Bt=H===K?A/ce:A,this};var ue,se=y.__private__.getFontSize=y.getFontSize=function(){return H===G?Bt:Bt*ce},Ae=r.R2L||!1;y.__private__.setR2L=y.setR2L=function(A){return Ae=A,this},y.__private__.getR2L=y.getR2L=function(){return Ae};var de,we=y.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ue=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ue=A}else ue=parseInt(A,10)};y.__private__.getZoomMode=function(){return ue};var yt,ne=y.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');de=A};y.__private__.getPageMode=function(){return de};var Vt=y.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');yt=A};y.__private__.getLayoutMode=function(){return yt},y.__private__.setDisplayMode=y.setDisplayMode=function(A,Y,pt){return we(A),Vt(Y),ne(pt),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(A){if(Object.keys(Ft).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[A]},y.__private__.getDocumentProperties=function(){return Ft},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(A){for(var Y in Ft)Ft.hasOwnProperty(Y)&&A[Y]&&(Ft[Y]=A[Y]);return this},y.__private__.setDocumentProperty=function(A,Y){if(Object.keys(Ft).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[A]=Y};var ie,ce,me,Ne,Wt,ye={},be={},Qe=[],ve={},rn={},je={},Fe={},Nn=null,Ie=0,Ee=[],Je=new Aw(y),gr=r.hotfixes||[],Dr={},Br={},$n=[],Be=function A(Y,pt,_t,St,Ht,Jt){if(!(this instanceof A))return new A(Y,pt,_t,St,Ht,Jt);isNaN(Y)&&(Y=1),isNaN(pt)&&(pt=0),isNaN(_t)&&(_t=0),isNaN(St)&&(St=1),isNaN(Ht)&&(Ht=0),isNaN(Jt)&&(Jt=0),this._matrix=[Y,pt,_t,St,Ht,Jt]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(A)},Be.prototype.multiply=function(A){var Y=A.sx*this.sx+A.shy*this.shx,pt=A.sx*this.shy+A.shy*this.sy,_t=A.shx*this.sx+A.sy*this.shx,St=A.shx*this.shy+A.sy*this.sy,Ht=A.tx*this.sx+A.ty*this.shx+this.tx,Jt=A.tx*this.shy+A.ty*this.sy+this.ty;return new Be(Y,pt,_t,St,Ht,Jt)},Be.prototype.decompose=function(){var A=this.sx,Y=this.shy,pt=this.shx,_t=this.sy,St=this.tx,Ht=this.ty,Jt=Math.sqrt(A*A+Y*Y),Ce=(A/=Jt)*pt+(Y/=Jt)*_t;pt-=A*Ce,_t-=Y*Ce;var ke=Math.sqrt(pt*pt+_t*_t);return Ce/=ke,A*(_t/=ke)<Y*(pt/=ke)&&(A=-A,Y=-Y,Ce=-Ce,Jt=-Jt),{scale:new Be(Jt,0,0,ke,0,0),translate:new Be(1,0,0,1,St,Ht),rotate:new Be(A,Y,-Y,A,0,0),skew:new Be(1,0,Ce,1,0,0)}},Be.prototype.toString=function(A){return this.join(" ")},Be.prototype.inversed=function(){var A=this.sx,Y=this.shy,pt=this.shx,_t=this.sy,St=this.tx,Ht=this.ty,Jt=1/(A*_t-Y*pt),Ce=_t*Jt,ke=-Y*Jt,Ke=-pt*Jt,Ue=A*Jt;return new Be(Ce,ke,Ke,Ue,-Ce*St-Ke*Ht,-ke*St-Ue*Ht)},Be.prototype.applyToPoint=function(A){var Y=A.x*this.sx+A.y*this.shx+this.tx,pt=A.x*this.shy+A.y*this.sy+this.ty;return new li(Y,pt)},Be.prototype.applyToRectangle=function(A){var Y=this.applyToPoint(A),pt=this.applyToPoint(new li(A.x+A.w,A.y+A.h));return new Vs(Y.x,Y.y,pt.x-Y.x,pt.y-Y.y)},Be.prototype.clone=function(){var A=this.sx,Y=this.shy,pt=this.shx,_t=this.sy,St=this.tx,Ht=this.ty;return new Be(A,Y,pt,_t,St,Ht)},y.Matrix=Be;var aa=y.matrixMult=function(A,Y){return Y.multiply(A)},Hi=new Be(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Hi;var Ci=function(A,Y){if(!rn[A]){var pt=(Y instanceof dc?"Sh":"P")+(Object.keys(ve).length+1).toString(10);Y.id=pt,rn[A]=pt,ve[pt]=Y,Je.publish("addPattern",Y)}};y.ShadingPattern=dc,y.TilingPattern=Ph,y.addShadingPattern=function(A,Y){return E("addShadingPattern()"),Ci(A,Y),this},y.beginTilingPattern=function(A){E("beginTilingPattern()"),Fs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},y.endTilingPattern=function(A,Y){E("endTilingPattern()"),Y.stream=$t[Q].join(`
`),Ci(A,Y),Je.publish("endTilingPattern",Y),$n.pop().restore()};var Ri,Gn=y.__private__.newObject=function(){var A=rr();return Ur(A,!0),A},rr=y.__private__.newObjectDeferred=function(){return ct++,bt[ct]=function(){return Et},ct},Ur=function(A,Y){return Y=typeof Y=="boolean"&&Y,bt[A]=Et,Y&&lt(A+" 0 obj"),A},gi=y.__private__.newAdditionalObject=function(){var A={objId:rr(),content:""};return Mt.push(A),A},ai=rr(),Mn=rr(),Yn=y.__private__.decodeColorString=function(A){var Y=A.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var pt=parseFloat(Y[0]);Y=[pt,pt,pt,"r"]}for(var _t="#",St=0;St<3;St++)_t+=("0"+Math.floor(255*parseFloat(Y[St])).toString(16)).slice(-2);return _t},zr=y.__private__.encodeColorString=function(A){var Y;typeof A=="string"&&(A={ch1:A});var pt=A.ch1,_t=A.ch2,St=A.ch3,Ht=A.ch4,Jt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pt=="string"&&pt.charAt(0)!=="#"){var Ce=new CA(pt);if(Ce.ok)pt=Ce.toHex();else if(!/^\d*\.?\d*$/.test(pt))throw new Error('Invalid color "'+pt+'" passed to jsPDF.encodeColorString.')}if(typeof pt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pt)&&(pt="#"+pt[1]+pt[1]+pt[2]+pt[2]+pt[3]+pt[3]),typeof pt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pt)){var ke=parseInt(pt.substr(1),16);pt=ke>>16&255,_t=ke>>8&255,St=255&ke}if(_t===void 0||Ht===void 0&&pt===_t&&_t===St)Y=typeof pt=="string"?pt+" "+Jt[0]:A.precision===2?T(pt/255)+" "+Jt[0]:I(pt/255)+" "+Jt[0];else if(Ht===void 0||tr(Ht)==="object"){if(Ht&&!isNaN(Ht.a)&&Ht.a===0)return["1.","1.","1.",Jt[1]].join(" ");Y=typeof pt=="string"?[pt,_t,St,Jt[1]].join(" "):A.precision===2?[T(pt/255),T(_t/255),T(St/255),Jt[1]].join(" "):[I(pt/255),I(_t/255),I(St/255),Jt[1]].join(" ")}else Y=typeof pt=="string"?[pt,_t,St,Ht,Jt[2]].join(" "):A.precision===2?[T(pt),T(_t),T(St),T(Ht),Jt[2]].join(" "):[I(pt),I(_t),I(St),I(Ht),Jt[2]].join(" ");return Y},Li=y.__private__.getFilters=function(){return u},as=y.__private__.putStream=function(A){var Y=(A=A||{}).data||"",pt=A.filters||Li(),_t=A.alreadyAppliedFilters||[],St=A.addLength1||!1,Ht=Y.length,Jt=A.objectId,Ce=function(R){return R};if(p!==null&&Jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Ce=hr.encryptor(Jt,0));var ke={};pt===!0&&(pt=["FlateEncode"]);var Ke=A.additionalKeyValues||[],Ue=(ke=ze.API.processDataByFilters!==void 0?ze.API.processDataByFilters(Y,pt):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(_t)?_t.join(" "):_t.toString());if(ke.data.length!==0&&(Ke.push({key:"Length",value:ke.data.length}),St===!0&&Ke.push({key:"Length1",value:Ht})),Ue.length!=0)if(Ue.split("/").length-1==1)Ke.push({key:"Filter",value:Ue});else{Ke.push({key:"Filter",value:"["+Ue+"]"});for(var gn=0;gn<Ke.length;gn+=1)if(Ke[gn].key==="DecodeParms"){for(var ir=[],Kn=0;Kn<ke.reverseChain.split("/").length-1;Kn+=1)ir.push("null");ir.push(Ke[gn].value),Ke[gn].value="["+ir.join(" ")+"]"}}lt("<<");for(var g=0;g<Ke.length;g++)lt("/"+Ke[g].key+" "+Ke[g].value);lt(">>"),ke.data.length!==0&&(lt("stream"),lt(Ce(ke.data)),lt("endstream"))},Sa=y.__private__.putPage=function(A){var Y=A.number,pt=A.data,_t=A.objId,St=A.contentsObjId;Ur(_t,!0),lt("<</Type /Page"),lt("/Parent "+A.rootDictionaryObjId+" 0 R"),lt("/Resources "+A.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(S(A.mediaBox.bottomLeftX))+" "+parseFloat(S(A.mediaBox.bottomLeftY))+" "+S(A.mediaBox.topRightX)+" "+S(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&lt("/CropBox ["+S(A.cropBox.bottomLeftX)+" "+S(A.cropBox.bottomLeftY)+" "+S(A.cropBox.topRightX)+" "+S(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&lt("/BleedBox ["+S(A.bleedBox.bottomLeftX)+" "+S(A.bleedBox.bottomLeftY)+" "+S(A.bleedBox.topRightX)+" "+S(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&lt("/TrimBox ["+S(A.trimBox.bottomLeftX)+" "+S(A.trimBox.bottomLeftY)+" "+S(A.trimBox.topRightX)+" "+S(A.trimBox.topRightY)+"]"),A.artBox!==null&&lt("/ArtBox ["+S(A.artBox.bottomLeftX)+" "+S(A.artBox.bottomLeftY)+" "+S(A.artBox.topRightX)+" "+S(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&lt("/UserUnit "+A.userUnit),Je.publish("putPage",{objId:_t,pageContext:Ee[Y],pageNumber:Y,page:pt}),lt("/Contents "+St+" 0 R"),lt(">>"),lt("endobj");var Ht=pt.join(`
`);return H===K&&(Ht+=`
Q`),Ur(St,!0),as({data:Ht,filters:Li(),objectId:St}),lt("endobj"),_t},As=y.__private__.putPages=function(){var A,Y,pt=[];for(A=1;A<=Ie;A++)Ee[A].objId=rr(),Ee[A].contentsObjId=rr();for(A=1;A<=Ie;A++)pt.push(Sa({number:A,data:$t[A],objId:Ee[A].objId,contentsObjId:Ee[A].contentsObjId,mediaBox:Ee[A].mediaBox,cropBox:Ee[A].cropBox,bleedBox:Ee[A].bleedBox,trimBox:Ee[A].trimBox,artBox:Ee[A].artBox,userUnit:Ee[A].userUnit,rootDictionaryObjId:ai,resourceDictionaryObjId:Mn}));Ur(ai,!0),lt("<</Type /Pages");var _t="/Kids [";for(Y=0;Y<Ie;Y++)_t+=pt[Y]+" 0 R ";lt(_t+"]"),lt("/Count "+Ie),lt(">>"),lt("endobj"),Je.publish("postPutPages")},Di=function(A){Je.publish("putFont",{font:A,out:lt,newObject:Gn,putStream:as}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+Dh(A.postScriptName)),lt("/Subtype /Type1"),typeof A.encoding=="string"&&lt("/Encoding /"+A.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},oa=function(A){A.objectNumber=Gn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[S(A.x),S(A.y),S(A.x+A.width),S(A.y+A.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var pt=A.pages[1].join(`
`);as({data:pt,additionalKeyValues:Y,objectId:A.objectNumber}),lt("endobj")},Gi=function(A,Y){Y||(Y=21);var pt=Gn(),_t=(function(Jt,Ce){var ke,Ke=[],Ue=1/(Ce-1);for(ke=0;ke<1;ke+=Ue)Ke.push(ke);if(Ke.push(1),Jt[0].offset!=0){var gn={offset:0,color:Jt[0].color};Jt.unshift(gn)}if(Jt[Jt.length-1].offset!=1){var ir={offset:1,color:Jt[Jt.length-1].color};Jt.push(ir)}for(var Kn="",g=0,R=0;R<Ke.length;R++){for(ke=Ke[R];ke>Jt[g+1].offset;)g++;var q=Jt[g].offset,ot=(ke-q)/(Jt[g+1].offset-q),It=Jt[g].color,Ot=Jt[g+1].color;Kn+=et(Math.round((1-ot)*It[0]+ot*Ot[0]).toString(16))+et(Math.round((1-ot)*It[1]+ot*Ot[1]).toString(16))+et(Math.round((1-ot)*It[2]+ot*Ot[2]).toString(16))}return Kn.trim()})(A.colors,Y),St=[];St.push({key:"FunctionType",value:"0"}),St.push({key:"Domain",value:"[0.0 1.0]"}),St.push({key:"Size",value:"["+Y+"]"}),St.push({key:"BitsPerSample",value:"8"}),St.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),St.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),as({data:_t,additionalKeyValues:St,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pt}),lt("endobj"),A.objectNumber=Gn(),lt("<< /ShadingType "+A.type),lt("/ColorSpace /DeviceRGB");var Ht="/Coords ["+S(parseFloat(A.coords[0]))+" "+S(parseFloat(A.coords[1]))+" ";A.type===2?Ht+=S(parseFloat(A.coords[2]))+" "+S(parseFloat(A.coords[3])):Ht+=S(parseFloat(A.coords[2]))+" "+S(parseFloat(A.coords[3]))+" "+S(parseFloat(A.coords[4]))+" "+S(parseFloat(A.coords[5])),lt(Ht+="]"),A.matrix&&lt("/Matrix ["+A.matrix.toString()+"]"),lt("/Function "+pt+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},yi=function(A,Y){var pt=rr(),_t=Gn();Y.push({resourcesOid:pt,objectOid:_t}),A.objectNumber=_t;var St=[];St.push({key:"Type",value:"/Pattern"}),St.push({key:"PatternType",value:"1"}),St.push({key:"PaintType",value:"1"}),St.push({key:"TilingType",value:"1"}),St.push({key:"BBox",value:"["+A.boundingBox.map(S).join(" ")+"]"}),St.push({key:"XStep",value:S(A.xStep)}),St.push({key:"YStep",value:S(A.yStep)}),St.push({key:"Resources",value:pt+" 0 R"}),A.matrix&&St.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),as({data:A.stream,additionalKeyValues:St,objectId:A.objectNumber}),lt("endobj")},Ki=function(A){for(var Y in A.objectNumber=Gn(),lt("<<"),A)switch(Y){case"opacity":lt("/ca "+T(A[Y]));break;case"stroke-opacity":lt("/CA "+T(A[Y]))}lt(">>"),lt("endobj")},os=function(A){Ur(A.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in lt("/Font <<"),ye)ye.hasOwnProperty(Y)&&(v===!1||v===!0&&w.hasOwnProperty(Y))&&lt("/"+Y+" "+ye[Y].objectNumber+" 0 R");lt(">>")})(),(function(){if(Object.keys(ve).length>0){for(var Y in lt("/Shading <<"),ve)ve.hasOwnProperty(Y)&&ve[Y]instanceof dc&&ve[Y].objectNumber>=0&&lt("/"+Y+" "+ve[Y].objectNumber+" 0 R");Je.publish("putShadingPatternDict"),lt(">>")}})(),(function(Y){if(Object.keys(ve).length>0){for(var pt in lt("/Pattern <<"),ve)ve.hasOwnProperty(pt)&&ve[pt]instanceof y.TilingPattern&&ve[pt].objectNumber>=0&&ve[pt].objectNumber<Y&&lt("/"+pt+" "+ve[pt].objectNumber+" 0 R");Je.publish("putTilingPatternDict"),lt(">>")}})(A.objectOid),(function(){if(Object.keys(je).length>0){var Y;for(Y in lt("/ExtGState <<"),je)je.hasOwnProperty(Y)&&je[Y].objectNumber>=0&&lt("/"+Y+" "+je[Y].objectNumber+" 0 R");Je.publish("putGStateDict"),lt(">>")}})(),(function(){for(var Y in lt("/XObject <<"),Dr)Dr.hasOwnProperty(Y)&&Dr[Y].objectNumber>=0&&lt("/"+Y+" "+Dr[Y].objectNumber+" 0 R");Je.publish("putXobjectDict"),lt(">>")})(),lt(">>"),lt("endobj")},yr=function(A){be[A.fontName]=be[A.fontName]||{},be[A.fontName][A.fontStyle]=A.id},To=function(A,Y,pt,_t,St){var Ht={id:"F"+(Object.keys(ye).length+1).toString(10),postScriptName:A,fontName:Y,fontStyle:pt,encoding:_t,isStandardFont:St||!1,metadata:{}};return Je.publish("addFont",{font:Ht,instance:this}),ye[Ht.id]=Ht,yr(Ht),Ht.id},ki=y.__private__.pdfEscape=y.pdfEscape=function(A,Y){return(function(pt,_t){var St,Ht,Jt,Ce,ke,Ke,Ue,gn,ir;if(Jt=(_t=_t||{}).sourceEncoding||"Unicode",ke=_t.outputEncoding,(_t.autoencode||ke)&&ye[ie].metadata&&ye[ie].metadata[Jt]&&ye[ie].metadata[Jt].encoding&&(Ce=ye[ie].metadata[Jt].encoding,!ke&&ye[ie].encoding&&(ke=ye[ie].encoding),!ke&&Ce.codePages&&(ke=Ce.codePages[0]),typeof ke=="string"&&(ke=Ce[ke]),ke)){for(Ue=!1,Ke=[],St=0,Ht=pt.length;St<Ht;St++)(gn=ke[pt.charCodeAt(St)])?Ke.push(String.fromCharCode(gn)):Ke.push(pt[St]),Ke[St].charCodeAt(0)>>8&&(Ue=!0);pt=Ke.join("")}for(St=pt.length;Ue===void 0&&St!==0;)pt.charCodeAt(St-1)>>8&&(Ue=!0),St--;if(!Ue)return pt;for(Ke=_t.noBOM?[]:[254,255],St=0,Ht=pt.length;St<Ht;St++){if((ir=(gn=pt.charCodeAt(St))>>8)>>8)throw new Error("Character at position "+St+" of string '"+pt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(ir),Ke.push(gn-(ir<<8))}return String.fromCharCode.apply(void 0,Ke)})(A,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ls=y.__private__.beginPage=function(A){$t[++Ie]=[],Ee[Ie]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},No(Ie),fe($t[Q])},Es=function(A,Y){var pt,_t,St;switch(e=Y||e,typeof A=="string"&&(pt=k(A.toLowerCase()),Array.isArray(pt)&&(_t=pt[0],St=pt[1])),Array.isArray(A)&&(_t=A[0]*ce,St=A[1]*ce),isNaN(_t)&&(_t=s[0],St=s[1]),(_t>14400||St>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_t=Math.min(14400,_t),St=Math.min(14400,St)),s=[_t,St],e.substr(0,1)){case"l":St>_t&&(s=[St,_t]);break;case"p":_t>St&&(s=[St,_t])}ls(s),He(Oi),lt(Yi),Xi!==0&&lt(Xi+" J"),Pr!==0&&lt(Pr+" j"),Je.publish("addPage",{pageNumber:Ie})},Qa=function(A){A>0&&A<=Ie&&($t.splice(A,1),Ee.splice(A,1),Ie--,Q>Ie&&(Q=Ie),this.setPage(Q))},No=function(A){A>0&&A<=Ie&&(Q=A)},Io=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return $t.length-1},ol=function(A,Y,pt){var _t,St=void 0;return pt=pt||{},A=A!==void 0?A:ye[ie].fontName,Y=Y!==void 0?Y:ye[ie].fontStyle,_t=A.toLowerCase(),be[_t]!==void 0&&be[_t][Y]!==void 0?St=be[_t][Y]:be[A]!==void 0&&be[A][Y]!==void 0?St=be[A][Y]:pt.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+A+"', '"+Y+"'. Refer to getFontList() for available fonts."),St||pt.noFallback||(St=be.times[Y])==null&&(St=be.times.normal),St},$i=y.__private__.putInfo=function(){var A=Gn(),Y=function(_t){return _t};for(var pt in p!==null&&(Y=hr.encryptor(A,0)),lt("<<"),lt("/Producer ("+ki(Y("jsPDF "+ze.version))+")"),Ft)Ft.hasOwnProperty(pt)&&Ft[pt]&&lt("/"+pt.substr(0,1).toUpperCase()+pt.substr(1)+" ("+ki(Y(Ft[pt]))+")");lt("/CreationDate ("+ki(Y(ft))+")"),lt(">>"),lt("endobj")},oi=y.__private__.putCatalog=function(A){var Y=(A=A||{}).rootDictionaryObjId||ai;switch(Gn(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+Y+" 0 R"),ue||(ue="fullwidth"),ue){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pt=""+ue;pt.substr(pt.length-1)==="%"&&(ue=parseInt(ue)/100),typeof ue=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+T(ue)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}de&&lt("/PageMode /"+de),Je.publish("putCatalog"),lt(">>"),lt("endobj")},Ar=y.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(ct+1)),lt("/Root "+ct+" 0 R"),lt("/Info "+(ct-1)+" 0 R"),p!==null&&lt("/Encrypt "+hr.oid+" 0 R"),lt("/ID [ <"+P+"> <"+P+"> ]"),lt(">>")},pn=y.__private__.putHeader=function(){lt("%PDF-"+C),lt("%")},la=y.__private__.putXRef=function(){var A="0000000000";lt("xref"),lt("0 "+(ct+1)),lt("0000000000 65535 f ");for(var Y=1;Y<=ct;Y++)typeof bt[Y]=="function"?lt((A+bt[Y]()).slice(-10)+" 00000 n "):bt[Y]!==void 0?lt((A+bt[Y]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},us=y.__private__.buildDocument=function(){var A;ct=0,Et=0,Tt=[],bt=[],Mt=[],ai=rr(),Mn=rr(),fe(Tt),Je.publish("buildDocument"),pn(),As(),(function(){Je.publish("putAdditionalObjects");for(var pt=0;pt<Mt.length;pt++){var _t=Mt[pt];Ur(_t.objId,!0),lt(_t.content),lt("endobj")}Je.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var pt in ye)ye.hasOwnProperty(pt)&&(v===!1||v===!0&&w.hasOwnProperty(pt))&&Di(ye[pt])})(),(function(){var pt;for(pt in je)je.hasOwnProperty(pt)&&Ki(je[pt])})(),(function(){for(var pt in Dr)Dr.hasOwnProperty(pt)&&oa(Dr[pt])})(),(function(pt){var _t;for(_t in ve)ve.hasOwnProperty(_t)&&(ve[_t]instanceof dc?Gi(ve[_t]):ve[_t]instanceof Ph&&yi(ve[_t],pt))})(A),Je.publish("putResources"),A.forEach(os),os({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),Je.publish("postPutResources"),p!==null&&(hr.oid=Gn(),lt("<<"),lt("/Filter /Standard"),lt("/V "+hr.v),lt("/R "+hr.r),lt("/U <"+hr.toHexString(hr.U)+">"),lt("/O <"+hr.toHexString(hr.O)+">"),lt("/P "+hr.P),lt(">>"),lt("endobj")),$i(),oi();var Y=Et;return la(),Ar(),lt("startxref"),lt(""+Y),lt("%%EOF"),fe($t[Q]),Tt.join(`
`)},wn=y.__private__.getBlob=function(A){return new Blob([xe(A)],{type:"application/pdf"})},Ta=y.output=y.__private__.output=(Ri=function(A,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",A){case void 0:return us();case"save":y.save(Y.filename);break;case"arraybuffer":return xe(us());case"blob":return wn(us());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(wn(us()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pt="",_t=us();try{pt=_w(_t)}catch{pt=_w(unescape(encodeURIComponent(_t)))}return"data:application/pdf;filename="+Y.filename+";base64,"+pt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var St="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(St=Y.pdfObjectUrl,Ht="");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+St+'"'+Ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Ce=nn.open();return Ce!==null&&Ce.document.write(Jt),Ce}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Ke=nn.open();if(Ke!==null){Ke.document.write(ke);var Ue=this;Ke.document.documentElement.querySelector("#pdfViewer").onload=function(){Ke.document.title=Y.filename,Ke.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ue.output("bloburl"))}}return Ke}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',ir=nn.open();if(ir!==null&&(ir.document.write(gn),ir.document.title=Y.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",Y);default:return null}},Ri.foo=function(){try{return Ri.apply(this,arguments)}catch(pt){var A=pt.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var Y="Error in function "+A.split(`
`)[0].split("<")[0]+": "+pt.message;if(!nn.console)throw new Error(Y);nn.console.error(Y,pt),nn.alert&&alert(Y)}},Ri.foo.bar=Ri,Ri.foo),kr=function(A){return Array.isArray(gr)===!0&&gr.indexOf(A)>-1};switch(n){case"pt":ce=1;break;case"mm":ce=72/25.4;break;case"cm":ce=72/2.54;break;case"in":ce=72;break;case"px":ce=kr("px_scaling")==1?.75:96/72;break;case"pc":case"em":ce=12;break;case"ex":ce=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ce=n}var hr=null;J(),tt();var Er=y.__private__.getPageInfo=y.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[A].objId,pageNumber:A,pageContext:Ee[A]}},Xa=y.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ee)if(Ee[Y].objId===A)break;return Er(Y)},ql=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ee[Q].objId,pageNumber:Q,pageContext:Ee[Q]}};y.addPage=function(){return Es.apply(this,arguments),this},y.setPage=function(){return No.apply(this,arguments),fe.call(this,$t[Q]),this},y.insertPage=function(A){return this.addPage(),this.movePage(Q,A),this},y.movePage=function(A,Y){var pt,_t;if(A>Y){pt=$t[A],_t=Ee[A];for(var St=A;St>Y;St--)$t[St]=$t[St-1],Ee[St]=Ee[St-1];$t[Y]=pt,Ee[Y]=_t,this.setPage(Y)}else if(A<Y){pt=$t[A],_t=Ee[A];for(var Ht=A;Ht<Y;Ht++)$t[Ht]=$t[Ht+1],Ee[Ht]=Ee[Ht+1];$t[Y]=pt,Ee[Y]=_t,this.setPage(Y)}return this},y.deletePage=function(){return Qa.apply(this,arguments),this},y.__private__.text=y.text=function(A,Y,pt,_t,St){var Ht,Jt,Ce,ke,Ke,Ue,gn,ir,Kn,g=(_t=_t||{}).scope||this;if(typeof A=="number"&&typeof Y=="number"&&(typeof pt=="string"||Array.isArray(pt))){var R=pt;pt=Y,Y=A,A=R}if(arguments[3]instanceof Be==0?(Ce=arguments[4],ke=arguments[5],tr(gn=arguments[3])==="object"&&gn!==null||(typeof Ce=="string"&&(ke=Ce,Ce=null),typeof gn=="string"&&(ke=gn,gn=null),typeof gn=="number"&&(Ce=gn,gn=null),_t={flags:gn,angle:Ce,align:ke})):(E("The transform parameter of text() with a Matrix value"),Kn=St),isNaN(Y)||isNaN(pt)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return g;var q,ot="",It=typeof _t.lineHeightFactor=="number"?_t.lineHeightFactor:ha,Ot=g.internal.scaleFactor;function oe(kn){return kn=kn.split("	").join(Array(_t.TabLen||9).join(" ")),ki(kn,gn)}function tn(kn){for(var Sn,ar=kn.concat(),Mr=[],Va=ar.length;Va--;)typeof(Sn=ar.shift())=="string"?Mr.push(Sn):Array.isArray(kn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Mr.push(Sn[0]):Mr.push([Sn[0],Sn[1],Sn[2]]);return Mr}function sr(kn,Sn){var ar;if(typeof kn=="string")ar=Sn(kn)[0];else if(Array.isArray(kn)){for(var Mr,Va,ma=kn.concat(),ml=[],qu=ma.length;qu--;)typeof(Mr=ma.shift())=="string"?ml.push(Sn(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(Va=Sn(Mr[0],Mr[1],Mr[2]),ml.push([Va[0],Va[1],Va[2]]));ar=ml}return ar}var fn=!1,Vn=!0;if(typeof A=="string")fn=!0;else if(Array.isArray(A)){var ui=A.concat();Jt=[];for(var bi,Qn=ui.length;Qn--;)(typeof(bi=ui.shift())!="string"||Array.isArray(bi)&&typeof bi[0]!="string")&&(Vn=!1);fn=Vn}if(fn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var _i=Bt/g.internal.scaleFactor,Is=_i*(It-1);switch(_t.baseline){case"bottom":pt-=Is;break;case"top":pt+=_i-Is;break;case"hanging":pt+=_i-2*Is;break;case"middle":pt+=_i/2-Is}if((Ue=_t.maxWidth||0)>0&&(typeof A=="string"?A=g.splitTextToSize(A,Ue):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(kn,Sn){return kn.concat(g.splitTextToSize(Sn,Ue))},[]))),Ht={text:A,x:Y,y:pt,options:_t,mutex:{pdfEscape:ki,activeFontKey:ie,fonts:ye,activeFontSize:Bt}},Je.publish("preProcessText",Ht),A=Ht.text,Ce=(_t=Ht.options).angle,Kn instanceof Be==0&&Ce&&typeof Ce=="number"){Ce*=Math.PI/180,_t.rotationDirection===0&&(Ce=-Ce),H===K&&(Ce=-Ce);var La=Math.cos(Ce),Da=Math.sin(Ce);Kn=new Be(La,Da,-Da,La,0,0)}else Ce&&Ce instanceof Be&&(Kn=Ce);H!==K||Kn||(Kn=Hi),(Ke=_t.charSpace||Qi)!==void 0&&(ot+=S(L(Ke))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=_t.horizontalScale)!==void 0&&(ot+=S(100*ir)+` Tz
`),_t.lang;var Zi=-1,eo=_t.renderingMode!==void 0?_t.renderingMode:_t.stroke,Hl=g.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":Zi=0;break;case 1:case!0:case"stroke":Zi=1;break;case 2:case"fillThenStroke":Zi=2;break;case 3:case"invisible":Zi=3;break;case 4:case"fillAndAddForClipping":Zi=4;break;case 5:case"strokeAndAddPathForClipping":Zi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zi=6;break;case 7:case"addToPathForClipping":Zi=7}var Uu=Hl.usedRenderingMode!==void 0?Hl.usedRenderingMode:-1;Zi!==-1?ot+=Zi+` Tr
`:Uu!==-1&&(ot+=`0 Tr
`),Zi!==-1&&(Hl.usedRenderingMode=Zi),ke=_t.align||"left";var Cs,da=Bt*It,no=g.internal.pageSize.getWidth(),zu=ye[ie];Ke=_t.charSpace||Qi,Ue=_t.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},_t.flags);var pa=[],Po=function(kn){return g.getStringUnitWidth(kn,{font:zu,charSpace:Ke,fontSize:Bt,doKerning:!1})*Bt/Ot};if(Object.prototype.toString.call(A)==="[object Array]"){var hs;Jt=tn(A),ke!=="left"&&(Cs=Jt.map(Po));var Ji,ka=0;if(ke==="right"){Y-=Cs[0],A=[],Qn=Jt.length;for(var Pa=0;Pa<Qn;Pa++)Pa===0?(Ji=Jr(Y),hs=qr(pt)):(Ji=L(ka-Cs[Pa]),hs=-da),A.push([Jt[Pa],Ji,hs]),ka=Cs[Pa]}else if(ke==="center"){Y-=Cs[0]/2,A=[],Qn=Jt.length;for(var ro=0;ro<Qn;ro++)ro===0?(Ji=Jr(Y),hs=qr(pt)):(Ji=L((ka-Cs[ro])/2),hs=-da),A.push([Jt[ro],Ji,hs]),ka=Cs[ro]}else if(ke==="left"){A=[],Qn=Jt.length;for(var Gl=0;Gl<Qn;Gl++)A.push(Jt[Gl])}else if(ke==="justify"&&zu.encoding==="Identity-H"){A=[],Qn=Jt.length,Ue=Ue!==0?Ue:no;for(var Kl=0,Or=0;Or<Qn;Or++)if(hs=Or===0?qr(pt):-da,Ji=Or===0?Jr(Y):Kl,Or<Qn-1){var jc=L((Ue-Cs[Or])/(Jt[Or].split(" ").length-1)),Oa=Jt[Or].split(" ");A.push([Oa[0]+" ",Ji,hs]),Kl=0;for(var Ma=1;Ma<Oa.length;Ma++){var wi=(Po(Oa[Ma-1]+" "+Oa[Ma])-Po(Oa[Ma]))*Ot+jc;Ma==Oa.length-1?A.push([Oa[Ma],wi,0]):A.push([Oa[Ma]+" ",wi,0]),Kl-=wi}}else A.push([Jt[Or],Ji,hs]);A.push(["",Kl,0])}else{if(ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Qn=Jt.length,Ue=Ue!==0?Ue:no,Or=0;Or<Qn;Or++){hs=Or===0?qr(pt):-da,Ji=Or===0?Jr(Y):0;var io=Jt[Or].split(" ").length-1,$l=io>0?(Ue-Cs[Or])/io:0;Or<Qn-1?pa.push(S(L($l))):pa.push(0),A.push([Jt[Or],Ji,hs])}}}(typeof _t.R2L=="boolean"?_t.R2L:Ae)===!0&&(A=sr(A,function(kn,Sn,ar){return[kn.split("").reverse().join(""),Sn,ar]})),Ht={text:A,x:Y,y:pt,options:_t,mutex:{pdfEscape:ki,activeFontKey:ie,fonts:ye,activeFontSize:Bt}},Je.publish("postProcessText",Ht),A=Ht.text,q=Ht.mutex.isHex||!1;var Yl=ye[ie].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(A=sr(A,function(kn,Sn,ar){return[oe(kn),Sn,ar]})),Jt=tn(A),A=[];for(var so,ao,ja,pl=Array.isArray(Jt[0])?1:0,Rs="",oo=function(kn,Sn,ar){var Mr="";return ar instanceof Be?(ar=typeof _t.angle=="number"?aa(ar,new Be(1,0,0,1,kn,Sn)):aa(new Be(1,0,0,1,kn,Sn),ar),H===K&&(ar=aa(new Be(1,0,0,-1,0,0),ar)),Mr=ar.join(" ")+` Tm
`):Mr=S(kn)+" "+S(Sn)+` Td
`,Mr},Mi=0;Mi<Jt.length;Mi++){switch(Rs="",pl){case 1:ja=(q?"<":"(")+Jt[Mi][0]+(q?">":")"),so=parseFloat(Jt[Mi][1]),ao=parseFloat(Jt[Mi][2]);break;case 0:ja=(q?"<":"(")+Jt[Mi]+(q?">":")"),so=Jr(Y),ao=qr(pt)}pa!==void 0&&pa[Mi]!==void 0&&(Rs=pa[Mi]+` Tw
`),Mi===0?A.push(Rs+oo(so,ao,Kn)+ja):pl===0?A.push(Rs+ja):pl===1&&A.push(Rs+oo(so,ao,Kn)+ja)}A=pl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var zs=`BT
/`;return zs+=ie+" "+Bt+` Tf
`,zs+=S(Bt*It)+` TL
`,zs+=Ts+`
`,zs+=ot,zs+=A,lt(zs+="ET"),w[ie]=!0,g};var ll=y.__private__.clip=y.clip=function(A){return lt(A==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ll("evenodd")},y.__private__.discardPath=y.discardPath=function(){return lt("n"),this};var vi=y.__private__.isValidStyle=function(A){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(Y=!0),Y};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(A){return vi(A)&&(d=A),this};var ul=y.__private__.getStyle=y.getStyle=function(A){var Y=d;switch(A){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=A}return Y},ua=y.close=function(){return lt("h"),this};y.stroke=function(){return lt("S"),this},y.fill=function(A){return Zr("f",A),this},y.fillEvenOdd=function(A){return Zr("f*",A),this},y.fillStroke=function(A){return Zr("B",A),this},y.fillStrokeEvenOdd=function(A){return Zr("B*",A),this};var Zr=function(A,Y){tr(Y)==="object"?hl(Y,A):lt(A)},Na=function(A){A===null||H===K&&A===void 0||(A=ul(A),lt(A))};function cl(A,Y,pt,_t,St){var Ht=new Ph(Y||this.boundingBox,pt||this.xStep,_t||this.yStep,this.gState,St||this.matrix);Ht.stream=this.stream;var Jt=A+"$$"+this.cloneIndex+++"$$";return Ci(Jt,Ht),Ht}var hl=function(A,Y){var pt=rn[A.key],_t=ve[pt];if(_t instanceof dc)lt("q"),lt(Co(Y)),_t.gState&&y.setGState(_t.gState),lt(A.matrix.toString()+" cm"),lt("/"+pt+" sh"),lt("Q");else if(_t instanceof Ph){var St=new Be(1,0,0,-1,0,Ns());A.matrix&&(St=St.multiply(A.matrix||Hi),pt=cl.call(_t,A.key,A.boundingBox,A.xStep,A.yStep,St).id),lt("q"),lt("/Pattern cs"),lt("/"+pt+" scn"),_t.gState&&y.setGState(_t.gState),lt(Y),lt("Q")}},Co=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ro=y.moveTo=function(A,Y){return lt(S(L(A))+" "+S($(Y))+" m"),this},ca=y.lineTo=function(A,Y){return lt(S(L(A))+" "+S($(Y))+" l"),this},Pi=y.curveTo=function(A,Y,pt,_t,St,Ht){return lt([S(L(A)),S($(Y)),S(L(pt)),S($(_t)),S(L(St)),S($(Ht)),"c"].join(" ")),this};y.__private__.line=y.line=function(A,Y,pt,_t,St){if(isNaN(A)||isNaN(Y)||isNaN(pt)||isNaN(_t)||!vi(St))throw new Error("Invalid arguments passed to jsPDF.line");return H===G?this.lines([[pt-A,_t-Y]],A,Y,[1,1],St||"S"):this.lines([[pt-A,_t-Y]],A,Y,[1,1]).stroke()},y.__private__.lines=y.lines=function(A,Y,pt,_t,St,Ht){var Jt,Ce,ke,Ke,Ue,gn,ir,Kn,g,R,q,ot;if(typeof A=="number"&&(ot=pt,pt=Y,Y=A,A=ot),_t=_t||[1,1],Ht=Ht||!1,isNaN(Y)||isNaN(pt)||!Array.isArray(A)||!Array.isArray(_t)||!vi(St)||typeof Ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(Y,pt),Jt=_t[0],Ce=_t[1],Ke=A.length,R=Y,q=pt,ke=0;ke<Ke;ke++)(Ue=A[ke]).length===2?(R=Ue[0]*Jt+R,q=Ue[1]*Ce+q,ca(R,q)):(gn=Ue[0]*Jt+R,ir=Ue[1]*Ce+q,Kn=Ue[2]*Jt+R,g=Ue[3]*Ce+q,R=Ue[4]*Jt+R,q=Ue[5]*Ce+q,Pi(gn,ir,Kn,g,R,q));return Ht&&ua(),Na(St),this},y.path=function(A){for(var Y=0;Y<A.length;Y++){var pt=A[Y],_t=pt.c;switch(pt.op){case"m":Ro(_t[0],_t[1]);break;case"l":ca(_t[0],_t[1]);break;case"c":Pi.apply(this,_t);break;case"h":ua()}}return this},y.__private__.rect=y.rect=function(A,Y,pt,_t,St){if(isNaN(A)||isNaN(Y)||isNaN(pt)||isNaN(_t)||!vi(St))throw new Error("Invalid arguments passed to jsPDF.rect");return H===G&&(_t=-_t),lt([S(L(A)),S($(Y)),S(L(pt)),S(L(_t)),"re"].join(" ")),Na(St),this},y.__private__.triangle=y.triangle=function(A,Y,pt,_t,St,Ht,Jt){if(isNaN(A)||isNaN(Y)||isNaN(pt)||isNaN(_t)||isNaN(St)||isNaN(Ht)||!vi(Jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pt-A,_t-Y],[St-pt,Ht-_t],[A-St,Y-Ht]],A,Y,[1,1],Jt,!0),this},y.__private__.roundedRect=y.roundedRect=function(A,Y,pt,_t,St,Ht,Jt){if(isNaN(A)||isNaN(Y)||isNaN(pt)||isNaN(_t)||isNaN(St)||isNaN(Ht)||!vi(Jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ce=4/3*(Math.SQRT2-1);return St=Math.min(St,.5*pt),Ht=Math.min(Ht,.5*_t),this.lines([[pt-2*St,0],[St*Ce,0,St,Ht-Ht*Ce,St,Ht],[0,_t-2*Ht],[0,Ht*Ce,-St*Ce,Ht,-St,Ht],[2*St-pt,0],[-St*Ce,0,-St,-Ht*Ce,-St,-Ht],[0,2*Ht-_t],[0,-Ht*Ce,St*Ce,-Ht,St,-Ht]],A+St,Y,[1,1],Jt,!0),this},y.__private__.ellipse=y.ellipse=function(A,Y,pt,_t,St){if(isNaN(A)||isNaN(Y)||isNaN(pt)||isNaN(_t)||!vi(St))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ht=4/3*(Math.SQRT2-1)*pt,Jt=4/3*(Math.SQRT2-1)*_t;return Ro(A+pt,Y),Pi(A+pt,Y-Jt,A+Ht,Y-_t,A,Y-_t),Pi(A-Ht,Y-_t,A-pt,Y-Jt,A-pt,Y),Pi(A-pt,Y+Jt,A-Ht,Y+_t,A,Y+_t),Pi(A+Ht,Y+_t,A+pt,Y+Jt,A+pt,Y),Na(St),this},y.__private__.circle=y.circle=function(A,Y,pt,_t){if(isNaN(A)||isNaN(Y)||isNaN(pt)||!vi(_t))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,Y,pt,pt,_t)},y.setFont=function(A,Y,pt){return pt&&(Y=z(Y,pt)),ie=ol(A,Y,{disableWarning:!1}),this};var Ss=y.__private__.getFont=y.getFont=function(){return ye[ol.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var A,Y,pt={};for(A in be)if(be.hasOwnProperty(A))for(Y in pt[A]=[],be[A])be[A].hasOwnProperty(Y)&&pt[A].push(Y);return pt},y.addFont=function(A,Y,pt,_t,St){var Ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ht.indexOf(arguments[3])!==-1?St=arguments[3]:arguments[3]&&Ht.indexOf(arguments[3])==-1&&(pt=z(pt,_t)),To.call(this,A,Y,pt,St=St||"Identity-H")};var ha,Oi=r.lineWidth||.200025,Ia=y.__private__.getLineWidth=y.getLineWidth=function(){return Oi},He=y.__private__.setLineWidth=y.setLineWidth=function(A){return Oi=A,lt(S(L(A))+" w"),this};y.__private__.setLineDash=ze.API.setLineDash=ze.API.setLineDashPattern=function(A,Y){if(A=A||[],Y=Y||0,isNaN(Y)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(pt){return S(L(pt))}).join(" "),Y=S(L(Y)),lt("["+A+"] "+Y+" d"),this};var Wa=y.__private__.getLineHeight=y.getLineHeight=function(){return Bt*ha};y.__private__.getLineHeight=y.getLineHeight=function(){return Bt*ha};var Lo=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(ha=A),this},Ca=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ha};Lo(r.lineHeight);var Jr=y.__private__.getHorizontalCoordinate=function(A){return L(A)},qr=y.__private__.getVerticalCoordinate=function(A){return H===K?A:Ee[Q].mediaBox.topRightY-Ee[Q].mediaBox.bottomLeftY-L(A)},Za=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(A){return S(Jr(A))},jn=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(A){return S(qr(A))},Yi=r.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Yn(Yi)},y.__private__.setStrokeColor=y.setDrawColor=function(A,Y,pt,_t){return Yi=zr({ch1:A,ch2:Y,ch3:pt,ch4:_t,pdfColorType:"draw",precision:2}),lt(Yi),this};var Ja=r.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Yn(Ja)},y.__private__.setFillColor=y.setFillColor=function(A,Y,pt,_t){return Ja=zr({ch1:A,ch2:Y,ch3:pt,ch4:_t,pdfColorType:"fill",precision:2}),lt(Ja),this};var Ts=r.textColor||"0 g",fl=y.__private__.getTextColor=y.getTextColor=function(){return Yn(Ts)};y.__private__.setTextColor=y.setTextColor=function(A,Y,pt,_t){return Ts=zr({ch1:A,ch2:Y,ch3:pt,ch4:_t,pdfColorType:"text",precision:3}),this};var Qi=r.charSpace,fa=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Qi||0)};y.__private__.setCharSpace=y.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qi=A,this};var Xi=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(A){var Y=y.CapJoinStyles[A];if(Y===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xi=Y,lt(Y+" J"),this};var Pr=0;y.__private__.setLineJoin=y.setLineJoin=function(A){var Y=y.CapJoinStyles[A];if(Y===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pr=Y,lt(Y+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(S(L(A))+" M"),this},y.GState=K1,y.setGState=function(A){(A=typeof A=="string"?je[Fe[A]]:js(null,A)).equals(Nn)||(lt("/"+A.id+" gs"),Nn=A)};var js=function(A,Y){if(!A||!Fe[A]){var pt=!1;for(var _t in je)if(je.hasOwnProperty(_t)&&je[_t].equals(Y)){pt=!0;break}if(pt)Y=je[_t];else{var St="GS"+(Object.keys(je).length+1).toString(10);je[St]=Y,Y.id=St}return A&&(Fe[A]=Y.id),Je.publish("addGState",Y),Y}};y.addGState=function(A,Y){return js(A,Y),this},y.saveGraphicsState=function(){return lt("q"),Qe.push({key:ie,size:Bt,color:Ts}),this},y.restoreGraphicsState=function(){lt("Q");var A=Qe.pop();return ie=A.key,Bt=A.size,Ts=A.color,Nn=null,this},y.setCurrentTransformationMatrix=function(A){return lt(A.toString()+" cm"),this},y.comment=function(A){return lt("#"+A),this};var li=function(A,Y){var pt=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pt},set:function(Ht){isNaN(Ht)||(pt=parseFloat(Ht))}});var _t=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _t},set:function(Ht){isNaN(Ht)||(_t=parseFloat(Ht))}});var St="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return St},set:function(Ht){St=Ht.toString()}}),this},Vs=function(A,Y,pt,_t){li.call(this,A,Y),this.type="rect";var St=pt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return St},set:function(Jt){isNaN(Jt)||(St=parseFloat(Jt))}});var Ht=_t||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ht},set:function(Jt){isNaN(Jt)||(Ht=parseFloat(Jt))}}),this},Ra=function(){this.page=Ie,this.currentPage=Q,this.pages=$t.slice(0),this.pagesContext=Ee.slice(0),this.x=me,this.y=Ne,this.matrix=Wt,this.width=cs(Q),this.height=Do(Q),this.outputDestination=le,this.id="",this.objectNumber=-1};Ra.prototype.restore=function(){Ie=this.page,Q=this.currentPage,Ee=this.pagesContext,$t=this.pages,me=this.x,Ne=this.y,Wt=this.matrix,to(Q,this.width),Wi(Q,this.height),le=this.outputDestination};var Fs=function(A,Y,pt,_t,St){$n.push(new Ra),Ie=Q=0,$t=[],me=A,Ne=Y,Wt=St,ls([pt,_t])};for(var Bs in y.beginFormObject=function(A,Y,pt,_t,St){return Fs(A,Y,pt,_t,St),this},y.endFormObject=function(A){return(function(Y){if(Br[Y])$n.pop().restore();else{var pt=new Ra,_t="Xo"+(Object.keys(Dr).length+1).toString(10);pt.id=_t,Br[Y]=_t,Dr[_t]=pt,Je.publish("addFormObject",pt),$n.pop().restore()}})(A),this},y.doFormObject=function(A,Y){var pt=Dr[Br[A]];return lt("q"),lt(Y.toString()+" cm"),lt("/"+pt.id+" Do"),lt("Q"),this},y.getFormObject=function(A){var Y=Dr[Br[A]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},y.save=function(A,Y){return A=A||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(lc(wn(us()),A),typeof lc.unload=="function"&&nn.setTimeout&&setTimeout(lc.unload,911),this):new Promise(function(pt,_t){try{var St=lc(wn(us()),A);typeof lc.unload=="function"&&nn.setTimeout&&setTimeout(lc.unload,911),pt(St)}catch(Ht){_t(Ht.message)}})},ze.API)ze.API.hasOwnProperty(Bs)&&(Bs==="events"&&ze.API.events.length?(function(A,Y){var pt,_t,St;for(St=Y.length-1;St!==-1;St--)pt=Y[St][0],_t=Y[St][1],A.subscribe.apply(A,[pt].concat(typeof _t=="function"?[_t]:_t))})(Je,ze.API.events):y[Bs]=ze.API[Bs]);function cs(A){return Ee[A].mediaBox.topRightX-Ee[A].mediaBox.bottomLeftX}function to(A,Y){Ee[A].mediaBox.topRightX=Y+Ee[A].mediaBox.bottomLeftX}function Do(A){return Ee[A].mediaBox.topRightY-Ee[A].mediaBox.bottomLeftY}function Wi(A,Y){Ee[A].mediaBox.topRightY=Y+Ee[A].mediaBox.bottomLeftY}var Us=y.getPageWidth=function(A){return cs(A=A||Q)/ce},dl=y.setPageWidth=function(A,Y){to(A,Y*ce)},Ns=y.getPageHeight=function(A){return Do(A=A||Q)/ce},ko=y.setPageHeight=function(A,Y){Wi(A,Y*ce)};return y.internal={pdfEscape:ki,getStyle:ul,getFont:Ss,getFontSize:se,getCharSpace:fa,getTextColor:fl,getLineHeight:Wa,getLineHeightFactor:Ca,getLineWidth:Ia,write:ee,getHorizontalCoordinate:Jr,getVerticalCoordinate:qr,getCoordinateString:Za,getVerticalCoordinateString:jn,collections:{},newObject:Gn,newAdditionalObject:gi,newObjectDeferred:rr,newObjectDeferredBegin:Ur,getFilters:Li,putStream:as,events:Je,scaleFactor:ce,pageSize:{getWidth:function(){return Us(Q)},setWidth:function(A){dl(Q,A)},getHeight:function(){return Ns(Q)},setHeight:function(A){ko(Q,A)}},encryptionOptions:p,encryption:hr,getEncryptor:function(A){return p!==null?hr.encryptor(A,0):function(Y){return Y}},output:Ta,getNumberOfPages:Io,get pages(){return $t},out:lt,f2:T,f3:I,getPageInfo:Er,getPageInfoByObjId:Xa,getCurrentPageInfo:ql,getPDFVersion:D,Point:li,Rectangle:Vs,Matrix:Be,hasHotfix:kr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Us(Q)},set:function(A){dl(Q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Ns(Q)},set:function(A){ko(Q,A)},enumerable:!0,configurable:!0}),(function(A){for(var Y=0,pt=he.length;Y<pt;Y++){var _t=To.call(this,A[Y][0],A[Y][1],A[Y][2],he[Y][3],!0);v===!1&&(w[_t]=!0);var St=A[Y][0].split("-");yr({id:_t,fontName:St[0],fontStyle:St[1]||""})}Je.publish("addFonts",{fonts:ye,dictionary:be})}).call(y,he),ie="F1",Es(s,e),Je.publish("initialized"),y}Lh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Lh.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lh.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Lh.prototype.processOwnerPassword=function(r,t){return o2(a2(t).substr(0,5),r)},Lh.prototype.encryptor=function(r,t){var e=a2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return o2(e,n)}},K1.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||tr(r)!==tr(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},ze.API={events:[]},ze.version="3.0.4";var Xr=ze.API,d5=1,Mc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(r){return r.toFixed(2)},xu=function(r){return r.toFixed(5)};Xr.__acroform__={};var sa=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},Ew=function(r){return r*d5},Qo=function(r){var t=new kA,e=Oe.internal.getHeight(r)||0,n=Oe.internal.getWidth(r)||0;return t.BBox=[0,0,Number(un(n)),Number(un(e))],t},JR=Xr.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},tL=Xr.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},eL=Xr.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},ni=Xr.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eL(r,t-1)},ri=Xr.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JR(r,t-1)},ii=Xr.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tL(r,t-1)},nL=Xr.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=r[0],o=r[1],u=r[2],c=r[3],f={};return f.lowerLeft_X=e(s)||0,f.lowerLeft_Y=n(o+c)||0,f.upperRight_X=e(s+u)||0,f.upperRight_Y=n(o)||0,[Number(un(f.lowerLeft_X)),Number(un(f.lowerLeft_Y)),Number(un(f.upperRight_X)),Number(un(f.upperRight_Y))]},rL=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=l2(r,e),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+s+" "+un(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Qo(r);return o.scope=r.scope,o.stream=t.join(`
`),o}},l2=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=r.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=e,u=Oe.internal.getHeight(r)||0;u=u<0?-u:u;var c=Oe.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(T,I,L){if(T+1<s.length){var $=I+" "+s[T+1][0];return Qp($,r,L).width<=c-4}return!1};o++;t:for(;o>0;){t="",o--;var d,p,v=Qp("3",r,o).height,w=r.multiline?u-o:(u-v)/2,y=w+=2,C=0,D=0,M=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qp(t,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var k="",G=0,K=0;K<s.length;K++)if(s.hasOwnProperty(K)){var H=!1;if(s[K].length!==1&&M!==s[K].length-1){if((v+2)*(G+2)+2>u)continue t;k+=s[K][M],H=!0,D=K,K--}else{k=(k+=s[K][M]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ut=parseInt(K),Z=f(ut,k,o),z=K>=s.length-1;if(Z&&!z){k+=" ",M=0;continue}if(Z||z){if(z)D=ut;else if(r.multiline&&(v+2)*(G+2)+2>u)continue t}else{if(!r.multiline||(v+2)*(G+2)+2>u)continue t;D=ut}}for(var S="",E=C;E<=D;E++){var V=s[E];if(r.multiline){if(E===D){S+=V[M]+" ",M=(M+1)%V.length;continue}if(E===C){S+=V[V.length-1]+" ";continue}}S+=V[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,p=Qp(S,r,o).width,r.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}t+=un(d)+" "+un(y)+` Td
`,t+="("+Mc(S)+`) Tj
`,t+=-un(d)+` 0 Td
`,y=-(o+2),p=0,C=H?D:D+1,G++,k=""}break}return n.text=t,n.fontSize=o,n},Qp=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},iL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sL=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},aL=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(iL)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d5=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new PA,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&sL(o,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,s){var o=!n;for(var u in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var c=n[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=nL(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Oe.createDefaultAppearanceStream(c),tr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=rL(c);f.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var C=y[u];typeof C=="function"&&(C=C.call(s,c)),v+="/"+u+" "+C+" ",s.internal.acroformPlugin.xForms.indexOf(C)>=0||s.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(s,c)),v+="/"+u+" "+C,s.internal.acroformPlugin.xForms.indexOf(C)>=0||s.internal.acroformPlugin.xForms.push(C);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(D,M){for(var k in D)if(D.hasOwnProperty(k)){var G=k,K=D[k];M.internal.newObjectDeferredBegin(K.objId,!0),tr(K)==="object"&&typeof K.putStream=="function"&&K.putStream(),delete D[G]}})(s.internal.acroformPlugin.xForms,s)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},DA=Xr.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(u){return u};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),tr(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),s+="("+Mc(n(r[o].toString()))+")"):s+=r[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dg=function(r,t,e){var n=function(s){return s};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+Mc(n(r))+")"},tl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tl.prototype.toString=function(){return this.objId+" 0 R"},tl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},tl.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:DA(s,this.objId,this.scope)}):s instanceof tl?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var kA=function(){tl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};sa(kA,tl);var PA=function(){tl.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Mc(e(r))+")"}},set:function(e){r=e}})};sa(PA,tl);var Eo=function r(){tl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(t,3)},set:function(k){k?this.F=ri(t,3):this.F=ii(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');e=k}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(k){n=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(k){n[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(k){n[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(k){n[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(k){n[3]=k}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $1)return;o="FieldObject"+r.FieldNum++}var k=function(G){return G};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Mc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/d5:d},set:function(k){d=k}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(k){p=k}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof $1||this instanceof wc))return dg(v,this.objId,this.scope)},set:function(k){k=k.toString(),v=k}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof qi==0?dg(w,this.objId,this.scope):w},set:function(k){k=k.toString(),w=this instanceof qi==0?k.substr(0,1)==="("?Eh(k.substr(1,k.length-2)):Eh(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?Eh(w.substr(1,w.length-1)):w},set:function(k){k=k.toString(),w=this instanceof qi==1?"/"+k:k}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof qi==0?dg(y,this.objId,this.scope):y},set:function(k){k=k.toString(),y=this instanceof qi==0?k.substr(0,1)==="("?Eh(k.substr(1,k.length-2)):Eh(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?Eh(y.substr(1,y.length-1)):y},set:function(k){k=k.toString(),y=this instanceof qi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(k){k=!!k,D=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(k){C=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(k){k?this.Ff=ri(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(k){k?this.Ff=ri(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(k){k?this.Ff=ri(this.Ff,3):this.Ff=ii(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');M=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(M){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};sa(Eo,tl);var Mh=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DA(t,this.objId,this.scope)},set:function(e){var n,s;s=[],typeof(n=e)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(e){e?this.Ff=ri(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ri(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(e){e?(this.Ff=ri(this.Ff,20),t.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(e){e?this.Ff=ri(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(e){e?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(e){e?this.Ff=ri(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};sa(Mh,Eo);var jh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};sa(jh,Mh);var Vh=function(){jh.call(this),this.combo=!0};sa(Vh,jh);var p1=function(){Vh.call(this),this.edit=!0};sa(p1,Vh);var qi=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(e){e?this.Ff=ri(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(e){e?this.Ff=ri(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(e){e?this.Ff=ri(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(e){e?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Mc(e(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){tr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};sa(qi,Eo);var m1=function(){qi.call(this),this.pushButton=!0};sa(m1,qi);var Fh=function(){qi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};sa(Fh,qi);var $1=function(){var r,t;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),n)u.push("/"+o+" ("+Mc(s(n[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){tr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Oe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};sa($1,Eo),Fh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},Fh.prototype.createOption=function(r){var t=new $1;return t.Parent=this,t.optionName=r,this.Kids.push(t),oL.call(this.scope,t),t};var g1=function(){qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Oe.CheckBox.createAppearanceStream()};sa(g1,qi);var wc=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(t){t?this.Ff=ri(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(t){t?this.Ff=ri(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(t){t?this.Ff=ri(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(t){t?this.Ff=ri(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};sa(wc,Eo);var y1=function(){wc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(r){r?this.Ff=ri(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};sa(y1,wc);var Oe={CheckBox:{createAppearanceStream:function(){return{N:{On:Oe.CheckBox.YesNormal},D:{On:Oe.CheckBox.YesPushDown,Off:Oe.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=l2(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+un(Oe.internal.getWidth(r))+" "+un(Oe.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+un(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=Qo(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],o=Oe.internal.getHeight(r),u=Oe.internal.getWidth(r),c=l2(r,r.caption);return s.push("1 g"),s.push("0 0 "+un(u)+" "+un(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+un(u-1)+" "+un(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+un(c.fontSize)+" Tf "+n),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+un(Oe.internal.getWidth(r))+" "+un(Oe.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:Oe.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=Oe.RadioButton.Circle.YesNormal,t.D[r]=Oe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=Qo(r);t.scope=r.scope;var e=[],n=Oe.internal.getWidth(r)<=Oe.internal.getHeight(r)?Oe.internal.getWidth(r)/4:Oe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Oe.internal.Bezier_C,o=Number((n*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+xu(Oe.internal.getWidth(r)/2)+" "+xu(Oe.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=[],n=Oe.internal.getWidth(r)<=Oe.internal.getHeight(r)?Oe.internal.getWidth(r)/4:Oe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*Oe.internal.Bezier_C).toFixed(5)),u=Number((n*Oe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+xu(Oe.internal.getWidth(r)/2)+" "+xu(Oe.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+xu(Oe.internal.getWidth(r)/2)+" "+xu(Oe.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),e.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),e.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),e.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=[],n=Oe.internal.getWidth(r)<=Oe.internal.getHeight(r)?Oe.internal.getWidth(r)/4:Oe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*Oe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+xu(Oe.internal.getWidth(r)/2)+" "+xu(Oe.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:Oe.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=Oe.RadioButton.Cross.YesNormal,t.D[r]=Oe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=Qo(r);t.scope=r.scope;var e=[],n=Oe.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+un(Oe.internal.getWidth(r)-2)+" "+un(Oe.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),e.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),e.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),e.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=Oe.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Oe.internal.getWidth(r))+" "+un(Oe.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+un(Oe.internal.getWidth(r)-2)+" "+un(Oe.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(un(e.x1.x)+" "+un(e.x1.y)+" m"),n.push(un(e.x2.x)+" "+un(e.x2.y)+" l"),n.push(un(e.x4.x)+" "+un(e.x4.y)+" m"),n.push(un(e.x3.x)+" "+un(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=Qo(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+un(Oe.internal.getWidth(r))+" "+un(Oe.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};Oe.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=Oe.internal.getWidth(r),e=Oe.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},Oe.internal.getWidth=function(r){var t=0;return tr(r)==="object"&&(t=Ew(r.Rect[2])),t},Oe.internal.getHeight=function(r){var t=0;return tr(r)==="object"&&(t=Ew(r.Rect[3])),t};var oL=Xr.addField=function(r){if(aL(this,r),!(r instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Xr.AcroFormChoiceField=Mh,Xr.AcroFormListBox=jh,Xr.AcroFormComboBox=Vh,Xr.AcroFormEditBox=p1,Xr.AcroFormButton=qi,Xr.AcroFormPushButton=m1,Xr.AcroFormRadioButton=Fh,Xr.AcroFormCheckBox=g1,Xr.AcroFormTextField=wc,Xr.AcroFormPasswordField=y1,Xr.AcroFormAppearance=Oe,Xr.AcroForm={ChoiceField:Mh,ListBox:jh,ComboBox:Vh,EditBox:p1,Button:qi,PushButton:m1,RadioButton:Fh,CheckBox:g1,TextField:wc,PasswordField:y1,Appearance:Oe},ze.AcroForm={ChoiceField:Mh,ListBox:jh,ComboBox:Vh,EditBox:p1,Button:qi,PushButton:m1,RadioButton:Fh,CheckBox:g1,TextField:wc,PasswordField:y1,Appearance:Oe};ze.AcroForm;function OA(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(T,I){var L,$,ft,P,B,tt=e;if((I=I||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Z(T))for(B in n)for(ft=n[B],L=0;L<ft.length;L+=1){for(P=!0,$=0;$<ft[L].length;$+=1)if(ft[L][$]!==void 0&&ft[L][$]!==T[$]){P=!1;break}if(P===!0){tt=B;break}}else for(B in n)for(ft=n[B],L=0;L<ft.length;L+=1){for(P=!0,$=0;$<ft[L].length;$+=1)if(ft[L][$]!==void 0&&ft[L][$]!==T.charCodeAt($)){P=!1;break}if(P===!0){tt=B;break}}return tt===e&&I!==e&&(tt=I),tt},o=function T(I){for(var L=this.internal.write,$=this.internal.putStream,ft=(0,this.internal.getFilters)();ft.indexOf("FlateEncode")!==-1;)ft.splice(ft.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var P=[];if(P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Image"}),P.push({key:"Width",value:I.width}),P.push({key:"Height",value:I.height}),I.colorSpace===k.INDEXED?P.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(P.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===k.DEVICE_CMYK&&P.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),P.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&P.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var B="",tt=0,st=I.transparency.length;tt<st;tt++)B+=I.transparency[tt]+" "+I.transparency[tt]+" ";P.push({key:"Mask",value:"["+B+"]"})}I.sMask!==void 0&&P.push({key:"SMask",value:I.objectId+1+" 0 R"});var gt=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:P,alreadyAppliedFilters:gt,objectId:I.objectId}),L("endobj"),"sMask"in I&&I.sMask!==void 0){var J,O=(J=I.sMaskBitsPerComponent)!==null&&J!==void 0?J:I.bitsPerComponent,Q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:I.sMask};"filter"in I&&(Q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(I.width),Q.filter=I.filter),T.call(this,Q)}if(I.colorSpace===k.INDEXED){var W=this.internal.newObject();$({data:S(new Uint8Array(I.palette)),objectId:W}),L("endobj")}},u=function(){var T=this.internal.collections[t+"images"];for(var I in T)o.call(this,T[I])},c=function(){var T,I=this.internal.collections[t+"images"],L=this.internal.write;for(var $ in I)L("/I"+(T=I[$]).index,T.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var T=this.internal.collections[t+"images"];return f.call(this),T},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},v=function(T){return typeof r["process"+T.toUpperCase()]=="function"},w=function(T){return tr(T)==="object"&&T.nodeType===1},y=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return d1(unescape(L).split("base64,").pop());var $=r.loadFile(L,!0);if($!==void 0)return $}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ft;switch(I){case"PNG":ft="image/png";break;case"WEBP":ft="image/webp";break;default:ft="image/jpeg"}return d1(T.toDataURL(ft,1).split("base64,").pop())}},C=function(T){var I=this.internal.collections[t+"images"];if(I){for(var L in I)if(T===I[L].alias)return I[L]}},D=function(T,I,L){return T||I||(T=-96,I=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*L.height*72/I/this.internal.scaleFactor),T===0&&(T=I*L.width/L.height),I===0&&(I=T*L.height/L.width),[T,I]},M=function(T,I,L,$,ft,P){var B=D.call(this,L,$,ft),tt=this.internal.getCoordinateString,st=this.internal.getVerticalCoordinateString,gt=d.call(this);if(L=B[0],$=B[1],gt[ft.index]=ft,P){P*=Math.PI/180;var J=Math.cos(P),O=Math.sin(P),Q=function(et){return et.toFixed(4)},W=[Q(J),Q(O),Q(-1*O),Q(J),0,0,"cm"]}this.internal.write("q"),P?(this.internal.write([1,"0","0",1,tt(T),st(I+$),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([tt(L),"0","0",tt($),"0","0","cm"].join(" "))):this.internal.write([tt(L),"0","0",tt($),tt(T),st(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ft.index+" Do"),this.internal.write("Q")},k=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},K=r.__addimage__.sHashCode=function(T){var I,L,$=0;if(typeof T=="string")for(L=T.length,I=0;I<L;I++)$=($<<5)-$+T.charCodeAt(I),$|=0;else if(Z(T))for(L=T.byteLength/2,I=0;I<L;I++)$=($<<5)-$+T[I],$|=0;return $},H=r.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},ut=r.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};r.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Z=r.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},z=r.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,L=new Uint8Array(I),$=0;$<I;$++)L[$]=T.charCodeAt($);return L},S=r.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",L=Z(T)?T:new Uint8Array(T),$=0;$<L.length;$+=8192)I+=String.fromCharCode.apply(null,L.subarray($,$+8192));return I};r.addImage=function(){var T,I,L,$,ft,P,B,tt,st;if(typeof arguments[1]=="number"?(I=e,L=arguments[1],$=arguments[2],ft=arguments[3],P=arguments[4],B=arguments[5],tt=arguments[6],st=arguments[7]):(I=arguments[1],L=arguments[2],$=arguments[3],ft=arguments[4],P=arguments[5],B=arguments[6],tt=arguments[7],st=arguments[8]),tr(T=arguments[0])==="object"&&!w(T)&&"imageData"in T){var gt=T;T=gt.imageData,I=gt.format||I||e,L=gt.x||L||0,$=gt.y||$||0,ft=gt.w||gt.width||ft,P=gt.h||gt.height||P,B=gt.alias||B,tt=gt.compression||tt,st=gt.rotation||gt.angle||st}var J=this.internal.getFilters();if(tt===void 0&&J.indexOf("FlateEncode")!==-1&&(tt="SLOW"),isNaN(L)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var O=E.call(this,T,I,B,tt);return M.call(this,L,$,ft,P,O,st),this};var E=function(T,I,L,$){var ft,P,B;if(typeof T=="string"&&s(T)===e){T=unescape(T);var tt=V(T,!1);(tt!==""||(tt=r.loadFile(T,!0))!==void 0)&&(T=tt)}if(w(T)&&(T=y(T,I)),I=s(T,I),!v(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((B=L)==null||B.length===0)&&(L=(function(st){return typeof st=="string"||Z(st)?K(st):Z(st.data)?K(st.data):null})(T)),(ft=C.call(this,L))||(T instanceof Uint8Array||I==="RGBA"||(P=T,T=z(T)),ft=this["process"+I.toUpperCase()](T,p.call(this),L,(function(st){return st&&typeof st=="string"&&(st=st.toUpperCase()),st in r.image_compression?st:G.NONE})($),P)),!ft)throw new Error("An unknown error occurred whilst processing the image.");return ft},V=r.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var L,$="";if(typeof T=="string"){var ft;L=(ft=ut(T))!==null&&ft!==void 0?ft:T;try{$=d1(L)}catch(P){if(I)throw H(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+P.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};r.getImageProperties=function(T){var I,L,$="";if(w(T)&&(T=y(T)),typeof T=="string"&&s(T)===e&&(($=V(T,!1))===""&&($=r.loadFile(T)||""),T=$),L=s(T),!v(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(T instanceof Uint8Array||(T=z(T)),!(I=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=L,I}})(ze.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};ze.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,p=!1,v=0;v<d.length&&!p;v++)switch((n=d[v]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){n=d[w];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(D.objId),G=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+y(k(n.contents))+")",o+=" /Popup "+M.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(k(G))+") >>",D.content=o;var K=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+K,n.open&&(o+=" /Open true"),o+=" >>",M.content=o,this.internal.write(D.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+u(n.bounds.x)+" "+c(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var H=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(C(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ut=this.annotations._nameMap[n.options.name];n.options.pageNumber=ut.page,n.options.top=ut.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var Z=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+Z+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(e),y:d(n),w:f(e+s),h:d(n+o)},options:u,type:"link"})},r.textWithLink=function(e,n,s,o){var u,c,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(e,c).length;u=Math.ceil(d*p)}else c=f,u=d;return this.text(e,n,s,o),s+=.2*d,o.align==="center"&&(n-=f/2),o.align==="right"&&(n-=f),this.link(n,s-d,c,u,o),f},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}})(ze.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(D){return t[D.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},c=r.__arabicParser__.isArabicEndLetter=function(D){return u(D)&&o(D)&&t[D.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(D){return u(D)&&s.indexOf(D.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return u(D)&&o(D)&&t[D.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(D){return u(D)&&o(D)&&t[D.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(D){return u(D)&&o(D)&&t[D.charCodeAt(0)].length>=3};var p=r.__arabicParser__.arabicLetterHasMedialForm=function(D){return u(D)&&o(D)&&t[D.charCodeAt(0)].length==4},v=r.__arabicParser__.resolveLigatures=function(D){var M=0,k=e,G="",K=0;for(M=0;M<D.length;M+=1)k[D.charCodeAt(M)]!==void 0?(K++,typeof(k=k[D.charCodeAt(M)])=="number"&&(G+=String.fromCharCode(k),k=e,K=0),M===D.length-1&&(k=e,G+=D.charAt(M-(K-1)),M-=K-1,K=0)):(k=e,G+=D.charAt(M-K),M-=K,K=0);return G};r.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&n[D.charCodeAt(0)]!==void 0};var w=r.__arabicParser__.getCorrectForm=function(D,M,k){return u(D)?o(D)===!1?-1:!d(D)||!u(M)&&!u(k)||!u(k)&&c(M)||c(D)&&!u(M)||c(D)&&f(M)||c(D)&&c(M)?0:p(D)&&u(M)&&!c(M)&&u(k)&&d(k)?3:c(D)||!u(k)?1:2:-1},y=function(D){var M=0,k=0,G=0,K="",H="",ut="",Z=(D=D||"").split("\\s+"),z=[];for(M=0;M<Z.length;M+=1){for(z.push(""),k=0;k<Z[M].length;k+=1)K=Z[M][k],H=Z[M][k-1],ut=Z[M][k+1],u(K)?(G=w(K,H,ut),z[M]+=G!==-1?String.fromCharCode(t[K.charCodeAt(0)][G]):K):z[M]+=K;z[M]=v(z[M])}return z.join(" ")},C=r.__arabicParser__.processArabic=r.processArabic=function(){var D,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(M)){var G=0;for(k=[],G=0;G<M.length;G+=1)Array.isArray(M[G])?k.push([y(M[G][0]),M[G][1],M[G][2]]):k.push([y(M[G])]);D=k}else D=y(M);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};r.events.push(["preProcessText",C])})(ze.API),ze.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var s;if((e=e||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ze.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(D){f=D}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(D){d=D}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(D){p=D}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(D){v=D}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(D){w=D}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(D){y=D}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(D){C=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),v=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,C=0,D=0,M=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=d.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(K,H){return K.concat(M.splitTextToSize(H,k))},[])):f=Array.isArray(f)?f:[f];for(var G=0;G<f.length;G++)y<(D=this.getStringUnitWidth(f[G],{font:v})*p)&&(y=D);return y!==0&&(C=f.length),{w:y/=w,h:Math.max((C*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,p,v,w){if(n.call(this),!p)throw new Error("No data for PDF table.");var y,C,D,M,k=[],G=[],K=[],H={},ut={},Z=[],z=[],S=(w=w||{}).autoSize||!1,E=w.printHeaders!==!1,V=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,T=w.margins||Object.assign({width:this.getPageWidth()},t),I=typeof w.padding=="number"?w.padding:3,L=w.headerBackgroundColor||"#c8c8c8",$=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=$,this.setFontSize(V),v==null)G=k=Object.keys(p[0]),K=k.map(function(){return"left"});else if(Array.isArray(v)&&tr(v[0])==="object")for(k=v.map(function(gt){return gt.name}),G=v.map(function(gt){return gt.prompt||gt.name||""}),K=v.map(function(gt){return gt.align||"left"}),y=0;y<v.length;y+=1)ut[v[y].name]=.7499990551181103*v[y].width;else Array.isArray(v)&&typeof v[0]=="string"&&(G=k=v,K=k.map(function(){return"left"}));if(S||Array.isArray(v)&&typeof v[0]=="string")for(y=0;y<k.length;y+=1){for(H[M=k[y]]=p.map(function(gt){return gt[M]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(G[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=H[M],this.setFont(void 0,"normal"),D=0;D<C.length;D+=1)Z.push(this.getTextDimensions(C[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ut[M]=Math.max.apply(null,Z)+I+I,Z=[]}if(E){var ft={};for(y=0;y<k.length;y+=1)ft[k[y]]={},ft[k[y]].text=G[y],ft[k[y]].align=K[y];var P=c.call(this,ft,ut);z=k.map(function(gt){return new o(f,d,ut[gt],P,ft[gt].text,void 0,ft[gt].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var B=v.reduce(function(gt,J){return gt[J.name]=J.align,gt},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var tt=c.call(this,p[y],ut);for(D=0;D<k.length;D+=1){var st=p[y][k[D]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:D,data:st},this),u.call(this,new o(f,d,ut[k[D]],tt,st,y+2,B[k[D]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var C=f[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,d[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*v/w+p+p},this).reduce(function(y,C){return Math.max(y,C)},0)};r.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=f;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(C)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}})(ze.API);var MA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u2=OA(jA),VA=[100,200,300,400,500,600,700,800,900],lL=OA(VA);function pg(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return MA[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),s=(function(o){return typeof u2[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:t,style:e,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:t,style:[s,e,n].join(" ")}}}function Sw(r,t,e,n){var s;for(s=e;s>=0&&s<t.length;s+=n)if(r[t[s]])return r[t[s]];for(s=e;s>=0&&s<t.length;s-=n)if(r[t[s]])return r[t[s]]}var uL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Nw(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Iw(r){return r.trimLeft()}function cL(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function hL(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var Xp,Cw,Rw,Sh,Wp,Lw,Dw,kw,mg=["times"];function Pw(r,t,e,n,s){var o=4,u=Mw;switch(s){case ze.API.image_compression.FAST:o=1,u=Ow;break;case ze.API.image_compression.MEDIUM:o=6,u=jw;break;case ze.API.image_compression.SLOW:o=9,u=Vw}r=(function(f,d,p,v){for(var w,y=f.length/d,C=new Uint8Array(f.length+y),D=[fL,Ow,Mw,jw,Vw],M=0;M<y;M+=1){var k=M*d,G=f.subarray(k,k+d);if(v)C.set(v(G,p,w),k+M);else{for(var K=D.length,H=[],ut=0;ut<K;ut+=1)H[ut]=D[ut](G,p,w);var Z=pL(H.concat());C.set(H[Z],k+M)}w=G}return C})(r,t,Math.ceil(e*n/8),u);var c=n2(r,{level:o});return ze.API.__addimage__.arrayBufferToBinaryString(c)}function fL(r){var t=Array.apply([],r);return t.unshift(0),t}function Ow(r,t){var e=r.length,n=[];n[0]=1;for(var s=0;s<e;s+=1){var o=r[s-t]||0;n[s+1]=r[s]-o+256&255}return n}function Mw(r,t,e){var n=r.length,s=[];s[0]=2;for(var o=0;o<n;o+=1){var u=e&&e[o]||0;s[o+1]=r[o]-u+256&255}return s}function jw(r,t,e){var n=r.length,s=[];s[0]=3;for(var o=0;o<n;o+=1){var u=r[o-t]||0,c=e&&e[o]||0;s[o+1]=r[o]+256-(u+c>>>1)&255}return s}function Vw(r,t,e){var n=r.length,s=[];s[0]=4;for(var o=0;o<n;o+=1){var u=dL(r[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=r[o]-u+256&255}return s}function dL(r,t,e){if(r===t&&t===e)return r;var n=Math.abs(t-e),s=Math.abs(r-e),o=Math.abs(r+t-e-e);return n<=s&&n<=o?r:s<=o?t:e}function pL(r){var t=r.map(function(e){return e.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function gg(r,t,e){var n=t*e,s=Math.floor(n/8),o=16-(n-8*s+e),u=(1<<e)-1;return FA(r,s)>>o&u}function Fw(r,t,e,n){var s=e*n,o=Math.floor(s/8),u=16-(s-8*o+n),c=(1<<n)-1,f=(t&c)<<u;(function(d,p,v){if(p+1<d.byteLength)d.setUint16(p,v,!1);else{var w=v>>8&255;d.setUint8(p,w)}})(r,o,FA(r,o)&~(c<<u)&65535|f)}function FA(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function mL(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,s=r[t++],o=s>>7,u=1<<1+(7&s);r[t++],r[t++];var c=null,f=null;o&&(c=t,f=u,t+=3*u);var d=!0,p=[],v=0,w=null,y=0,C=null;for(this.width=e,this.height=n;d&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,C=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((T=r[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var D=r[t++];v=r[t++]|r[t++]<<8,w=r[t++],1&D||(w=null),y=D>>2&7,t++;break;case 254:for(;;){if(!((T=r[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var M=r[t++]|r[t++]<<8,k=r[t++]|r[t++]<<8,G=r[t++]|r[t++]<<8,K=r[t++]|r[t++]<<8,H=r[t++],ut=H>>6&1,Z=1<<1+(7&H),z=c,S=f,E=!1;H>>7&&(E=!0,z=t,S=Z,t+=3*Z);var V=t;for(t++;;){var T;if(!((T=r[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}p.push({x:M,y:k,width:G,height:K,has_local_palette:E,palette_offset:z,palette_size:S,data_offset:V,data_length:t-V,transparent_index:w,interlaced:!!ut,delay:v,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return C},this.frameInfo=function(I){if(I<0||I>=p.length)throw new Error("Frame index out of range.");return p[I]},this.decodeAndBlitFrameBGRA=function(I,L){var $=this.frameInfo(I),ft=$.width*$.height,P=new Uint8Array(ft);Bw(r,$.data_offset,P,ft);var B=$.palette_offset,tt=$.transparent_index;tt===null&&(tt=256);var st=$.width,gt=e-st,J=st,O=4*($.y*e+$.x),Q=4*(($.y+$.height)*e+$.x),W=O,et=4*gt;$.interlaced===!0&&(et+=4*e*7);for(var ct=8,bt=0,Tt=P.length;bt<Tt;++bt){var Et=P[bt];if(J===0&&(J=st,(W+=et)>=Q&&(et=4*gt+4*e*(ct-1),W=O+(st+gt)*(ct<<1),ct>>=1)),Et===tt)W+=4;else{var Mt=r[B+3*Et],$t=r[B+3*Et+1],te=r[B+3*Et+2];L[W++]=te,L[W++]=$t,L[W++]=Mt,L[W++]=255}--J}},this.decodeAndBlitFrameRGBA=function(I,L){var $=this.frameInfo(I),ft=$.width*$.height,P=new Uint8Array(ft);Bw(r,$.data_offset,P,ft);var B=$.palette_offset,tt=$.transparent_index;tt===null&&(tt=256);var st=$.width,gt=e-st,J=st,O=4*($.y*e+$.x),Q=4*(($.y+$.height)*e+$.x),W=O,et=4*gt;$.interlaced===!0&&(et+=4*e*7);for(var ct=8,bt=0,Tt=P.length;bt<Tt;++bt){var Et=P[bt];if(J===0&&(J=st,(W+=et)>=Q&&(et=4*gt+4*e*(ct-1),W=O+(st+gt)*(ct<<1),ct>>=1)),Et===tt)W+=4;else{var Mt=r[B+3*Et],$t=r[B+3*Et+1],te=r[B+3*Et+2];L[W++]=Mt,L[W++]=$t,L[W++]=te,L[W++]=255}--J}}}function Bw(r,t,e,n){for(var s=r[t++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,p=0,v=0,w=0,y=r[t++],C=new Int32Array(4096),D=null;;){for(;p<16&&y!==0;)v|=r[t++]<<p,p+=8,y===1?y=r[t++]:--y;if(p<f)break;var M=v&d;if(v>>=f,p-=f,M!==o){if(M===u)break;for(var k=M<c?M:D,G=0,K=k;K>o;)K=C[K]>>8,++G;var H=K;if(w+G+(k!==M?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");e[w++]=H;var ut=w+=G;for(k!==M&&(e[w++]=H),K=k;G--;)K=C[K],e[--ut]=255&K,K>>=8;D!==null&&c<4096&&(C[c++]=D<<8|H,c>=d+1&&f<12&&(++f,d=d<<1|1)),D=M}else c=u+1,d=(1<<(f=s+1))-1,D=null}return w!==n&&mr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yg(r){var t,e,n,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),v=new Array(65535),w=new Array(65535),y=new Array(64),C=new Array(64),D=[],M=0,k=7,G=new Array(64),K=new Array(64),H=new Array(64),ut=new Array(256),Z=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ft=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(O,Q){for(var W=0,et=0,ct=new Array,bt=1;bt<=16;bt++){for(var Tt=1;Tt<=O[bt];Tt++)ct[Q[et]]=[],ct[Q[et]][0]=W,ct[Q[et]][1]=bt,et++,W++;W*=2}return ct}function B(O){for(var Q=O[0],W=O[1]-1;W>=0;)Q&1<<W&&(M|=1<<k),W--,--k<0&&(M==255?(tt(255),tt(0)):tt(M),k=7,M=0)}function tt(O){D.push(O)}function st(O){tt(O>>8&255),tt(255&O)}function gt(O,Q,W,et,ct){for(var bt,Tt=ct[0],Et=ct[240],Mt=(function(Bt,ue){var se,Ae,de,we,yt,ne,Vt,Ft,ie,ce,me=0;for(ie=0;ie<8;++ie){se=Bt[me],Ae=Bt[me+1],de=Bt[me+2],we=Bt[me+3],yt=Bt[me+4],ne=Bt[me+5],Vt=Bt[me+6];var Ne=se+(Ft=Bt[me+7]),Wt=se-Ft,ye=Ae+Vt,be=Ae-Vt,Qe=de+ne,ve=de-ne,rn=we+yt,je=we-yt,Fe=Ne+rn,Nn=Ne-rn,Ie=ye+Qe,Ee=ye-Qe;Bt[me]=Fe+Ie,Bt[me+4]=Fe-Ie;var Je=.707106781*(Ee+Nn);Bt[me+2]=Nn+Je,Bt[me+6]=Nn-Je;var gr=.382683433*((Fe=je+ve)-(Ee=be+Wt)),Dr=.5411961*Fe+gr,Br=1.306562965*Ee+gr,$n=.707106781*(Ie=ve+be),Be=Wt+$n,aa=Wt-$n;Bt[me+5]=aa+Dr,Bt[me+3]=aa-Dr,Bt[me+1]=Be+Br,Bt[me+7]=Be-Br,me+=8}for(me=0,ie=0;ie<8;++ie){se=Bt[me],Ae=Bt[me+8],de=Bt[me+16],we=Bt[me+24],yt=Bt[me+32],ne=Bt[me+40],Vt=Bt[me+48];var Hi=se+(Ft=Bt[me+56]),Ci=se-Ft,Ri=Ae+Vt,Gn=Ae-Vt,rr=de+ne,Ur=de-ne,gi=we+yt,ai=we-yt,Mn=Hi+gi,Yn=Hi-gi,zr=Ri+rr,Li=Ri-rr;Bt[me]=Mn+zr,Bt[me+32]=Mn-zr;var as=.707106781*(Li+Yn);Bt[me+16]=Yn+as,Bt[me+48]=Yn-as;var Sa=.382683433*((Mn=ai+Ur)-(Li=Gn+Ci)),As=.5411961*Mn+Sa,Di=1.306562965*Li+Sa,oa=.707106781*(zr=Ur+Gn),Gi=Ci+oa,yi=Ci-oa;Bt[me+40]=yi+As,Bt[me+24]=yi-As,Bt[me+8]=Gi+Di,Bt[me+56]=Gi-Di,me++}for(ie=0;ie<64;++ie)ce=Bt[ie]*ue[ie],y[ie]=ce>0?ce+.5|0:ce-.5|0;return y})(O,Q),$t=0;$t<64;++$t)C[z[$t]]=Mt[$t];var te=C[0]-W;W=C[0],te==0?B(et[0]):(B(et[w[bt=32767+te]]),B(v[bt]));for(var le=63;le>0&&C[le]==0;)le--;if(le==0)return B(Tt),W;for(var fe,lt=1;lt<=le;){for(var ee=lt;C[lt]==0&&lt<=le;)++lt;var xe=lt-ee;if(xe>=16){fe=xe>>4;for(var he=1;he<=fe;++he)B(Et);xe&=15}bt=32767+C[lt],B(ct[(xe<<4)+w[bt]]),B(v[bt]),lt++}return le!=63&&B(Tt),W}function J(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(Q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],et=0;et<64;et++){var ct=u((W[et]*Q+50)/100);ct=Math.min(Math.max(ct,1),255),c[z[et]]=ct}for(var bt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Tt=0;Tt<64;Tt++){var Et=u((bt[Tt]*Q+50)/100);Et=Math.min(Math.max(Et,1),255),f[z[Tt]]=Et}for(var Mt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$t=0,te=0;te<8;te++)for(var le=0;le<8;le++)d[$t]=1/(c[z[$t]]*Mt[te]*Mt[le]*8),p[$t]=1/(f[z[$t]]*Mt[te]*Mt[le]*8),$t++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,Q){Q&&J(Q),D=new Array,M=0,k=7,st(65496),st(65504),st(16),tt(74),tt(70),tt(73),tt(70),tt(0),tt(1),tt(1),tt(0),st(1),st(1),tt(0),tt(0),(function(){st(65499),st(132),tt(0);for(var Ae=0;Ae<64;Ae++)tt(c[Ae]);tt(1);for(var de=0;de<64;de++)tt(f[de])})(),(function(Ae,de){st(65472),st(17),tt(8),st(de),st(Ae),tt(3),tt(1),tt(17),tt(0),tt(2),tt(17),tt(1),tt(3),tt(17),tt(1)})(O.width,O.height),(function(){st(65476),st(418),tt(0);for(var Ae=0;Ae<16;Ae++)tt(S[Ae+1]);for(var de=0;de<=11;de++)tt(E[de]);tt(16);for(var we=0;we<16;we++)tt(V[we+1]);for(var yt=0;yt<=161;yt++)tt(T[yt]);tt(1);for(var ne=0;ne<16;ne++)tt(I[ne+1]);for(var Vt=0;Vt<=11;Vt++)tt(L[Vt]);tt(17);for(var Ft=0;Ft<16;Ft++)tt($[Ft+1]);for(var ie=0;ie<=161;ie++)tt(ft[ie])})(),st(65498),st(12),tt(3),tt(1),tt(0),tt(2),tt(17),tt(3),tt(17),tt(0),tt(63),tt(0);var W=0,et=0,ct=0;M=0,k=7,this.encode.displayName="_encode_";for(var bt,Tt,Et,Mt,$t,te,le,fe,lt,ee=O.data,xe=O.width,he=O.height,Bt=4*xe,ue=0;ue<he;){for(bt=0;bt<Bt;){for($t=Bt*ue+bt,le=-1,fe=0,lt=0;lt<64;lt++)te=$t+(fe=lt>>3)*Bt+(le=4*(7&lt)),ue+fe>=he&&(te-=Bt*(ue+1+fe-he)),bt+le>=Bt&&(te-=bt+le-Bt+4),Tt=ee[te++],Et=ee[te++],Mt=ee[te++],G[lt]=(Z[Tt]+Z[Et+256|0]+Z[Mt+512|0]>>16)-128,K[lt]=(Z[Tt+768|0]+Z[Et+1024|0]+Z[Mt+1280|0]>>16)-128,H[lt]=(Z[Tt+1280|0]+Z[Et+1536|0]+Z[Mt+1792|0]>>16)-128;W=gt(G,d,W,t,n),et=gt(K,p,et,e,s),ct=gt(H,p,ct,e,s),bt+=32}ue+=8}if(k>=0){var se=[];se[1]=k+1,se[0]=(1<<k+1)-1,B(se)}return st(65497),new Uint8Array(D)},r=r||50,(function(){for(var O=String.fromCharCode,Q=0;Q<256;Q++)ut[Q]=O(Q)})(),t=P(S,E),e=P(I,L),n=P(V,T),s=P($,ft),(function(){for(var O=1,Q=2,W=1;W<=15;W++){for(var et=O;et<Q;et++)w[32767+et]=W,v[32767+et]=[],v[32767+et][1]=W,v[32767+et][0]=et;for(var ct=-(Q-1);ct<=-O;ct++)w[32767+ct]=W,v[32767+ct]=[],v[32767+ct][1]=W,v[32767+ct][0]=Q-1+ct;O<<=1,Q<<=1}})(),(function(){for(var O=0;O<256;O++)Z[O]=19595*O,Z[O+256|0]=38470*O,Z[O+512|0]=7471*O+32768,Z[O+768|0]=-11059*O,Z[O+1024|0]=-21709*O,Z[O+1280|0]=32768*O+8421375,Z[O+1536|0]=-27439*O,Z[O+1792|0]=-5329*O})(),J(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yo(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Uw(r){function t(E){if(!E)throw Error("assert :P")}function e(E,V,T){for(var I=0;4>I;I++)if(E[V+I]!=T.charCodeAt(I))return!0;return!1}function n(E,V,T,I,L){for(var $=0;$<L;$++)E[V+$]=T[I+$]}function s(E,V,T,I){for(var L=0;L<I;L++)E[V+L]=T}function o(E){return new Int32Array(E)}function u(E,V){for(var T=[],I=0;I<E;I++)T.push(new V);return T}function c(E,V){var T=[];return(function I(L,$,ft){for(var P=ft[$],B=0;B<P&&(L.push(ft.length>$+1?[]:new V),!(ft.length<$+1));B++)I(L[B],$+1,ft)})(T,0,E),T}var f=function(){var E=this;function V(m,_){for(var N=1<<_-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function T(m,_,N,j,X){t(!(j%N));do m[_+(j-=N)]=X;while(0<j)}function I(m,_,N,j,X){if(t(2328>=X),512>=X)var nt=o(512);else if((nt=o(X))==null)return 0;return(function(rt,at,ht,mt,wt,Dt){var dt,At,Ct=at,qt=1<<ht,Rt=o(16),zt=o(16);for(t(wt!=0),t(mt!=null),t(rt!=null),t(0<ht),At=0;At<wt;++At){if(15<mt[At])return 0;++Rt[mt[At]]}if(Rt[0]==wt)return 0;for(zt[1]=0,dt=1;15>dt;++dt){if(Rt[dt]>1<<dt)return 0;zt[dt+1]=zt[dt]+Rt[dt]}for(At=0;At<wt;++At)dt=mt[At],0<mt[At]&&(Dt[zt[dt]++]=At);if(zt[15]==1)return(mt=new L).g=0,mt.value=Dt[0],T(rt,Ct,1,qt,mt),qt;var Yt,re=-1,Zt=qt-1,Pe=0,Se=1,en=1,Le=1<<ht;for(At=0,dt=1,wt=2;dt<=ht;++dt,wt<<=1){if(Se+=en<<=1,0>(en-=Rt[dt]))return 0;for(;0<Rt[dt];--Rt[dt])(mt=new L).g=dt,mt.value=Dt[At++],T(rt,Ct+Pe,wt,Le,mt),Pe=V(Pe,dt)}for(dt=ht+1,wt=2;15>=dt;++dt,wt<<=1){if(Se+=en<<=1,0>(en-=Rt[dt]))return 0;for(;0<Rt[dt];--Rt[dt]){if(mt=new L,(Pe&Zt)!=re){for(Ct+=Le,Yt=1<<(re=dt)-ht;15>re&&!(0>=(Yt-=Rt[re]));)++re,Yt<<=1;qt+=Le=1<<(Yt=re-ht),rt[at+(re=Pe&Zt)].g=Yt+ht,rt[at+re].value=Ct-at-re}mt.g=dt-ht,mt.value=Dt[At++],T(rt,Ct+(Pe>>ht),wt,Le,mt),Pe=V(Pe,dt)}}return Se!=2*zt[15]-1?0:qt})(m,_,N,j,X,nt)}function L(){this.value=this.g=0}function $(){this.value=this.g=0}function ft(){this.G=u(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Po,$)}function P(m,_,N,j){t(m!=null),t(_!=null),t(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=N,m.Jd=_,m.Yc=N+j,m.Zc=4<=j?N+j-4+1:N,Tt(m)}function B(m,_){for(var N=0;0<_--;)N|=Mt(m,128)<<_;return N}function tt(m,_){var N=B(m,_);return Et(m)?-N:N}function st(m,_,N,j){var X,nt=0;for(t(m!=null),t(_!=null),t(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),X=0;X<j;++X)nt+=_[N+X]<<8*X;m.Ra=nt,m.bb=j,m.oa=_,m.pa=N}function gt(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ka-8>>>0,++m.bb,m.u-=8;et(m)&&(m.h=1,m.u=0)}function J(m,_){if(t(0<=_),!m.h&&_<=Ji){var N=W(m)&hs[_];return m.u+=_,gt(m),N}return m.h=1,m.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(m){return m.Ra>>>(m.u&ka-1)>>>0}function et(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ka}function ct(m,_){m.u=_,m.h=et(m)}function bt(m){m.u>=Pa&&(t(m.u>=Pa),gt(m))}function Tt(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Et(m){return B(m,1)}function Mt(m,_){var N=m.Ca;0>m.b&&Tt(m);var j=m.b,X=N*_>>>8,nt=(m.I>>>j>X)+0;for(nt?(N-=X,m.I-=X+1<<j>>>0):N=X+1,j=N,X=0;256<=j;)X+=8,j>>=8;return j=7^X+ro[j],m.b-=j,m.Ca=(N<<j)-1,nt}function $t(m,_,N){m[_+0]=N>>24&255,m[_+1]=N>>16&255,m[_+2]=N>>8&255,m[_+3]=255&N}function te(m,_){return m[_+0]|m[_+1]<<8}function le(m,_){return te(m,_)|m[_+2]<<16}function fe(m,_){return te(m,_)|te(m,_+2)<<16}function lt(m,_){var N=1<<_;return t(m!=null),t(0<_),m.X=o(N),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function ee(m,_){t(m!=null),t(_!=null),t(m.Xa==_.Xa),n(_.X,0,m.X,0,1<<_.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function he(m,_,N,j){t(N!=null),t(j!=null);var X=N[0],nt=j[0];return X==0&&(X=(m*nt+_/2)/_),nt==0&&(nt=(_*X+m/2)/m),0>=X||0>=nt?0:(N[0]=X,j[0]=nt,1)}function Bt(m,_){return m+(1<<_)-1>>>_}function ue(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function se(m,_){E[_]=function(N,j,X,nt,rt,at,ht){var mt;for(mt=0;mt<rt;++mt){var wt=E[m](at[ht+mt-1],X,nt+mt);at[ht+mt]=ue(N[j+mt],wt)}}}function Ae(){this.ud=this.hd=this.jd=0}function de(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function we(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function yt(m,_){return we(m+(m-_+.5>>1))}function ne(m,_,N){return Math.abs(_-N)-Math.abs(m-N)}function Vt(m,_,N,j,X,nt,rt){for(j=nt[rt-1],N=0;N<X;++N)nt[rt+N]=j=ue(m[_+N],j)}function Ft(m,_,N,j,X){var nt;for(nt=0;nt<N;++nt){var rt=m[_+nt],at=rt>>8&255,ht=16711935&(ht=(ht=16711935&rt)+((at<<16)+at));j[X+nt]=(4278255360&rt)+ht>>>0}}function ie(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function ce(m,_,N,j,X,nt){var rt;for(rt=0;rt<j;++rt){var at=_[N+rt],ht=at>>>8,mt=at,wt=255&(wt=(wt=at>>>16)+((m.jd<<24>>24)*(ht<<24>>24)>>>5));mt=255&(mt=(mt+=(m.hd<<24>>24)*(ht<<24>>24)>>>5)+((m.ud<<24>>24)*(wt<<24>>24)>>>5)),X[nt+rt]=(4278255360&at)+(wt<<16)+mt}}function me(m,_,N,j,X){E[_]=function(nt,rt,at,ht,mt,wt,Dt,dt,At){for(ht=Dt;ht<dt;++ht)for(Dt=0;Dt<At;++Dt)mt[wt++]=X(at[j(nt[rt++])])},E[m]=function(nt,rt,at,ht,mt,wt,Dt){var dt=8>>nt.b,At=nt.Ea,Ct=nt.K[0],qt=nt.w;if(8>dt)for(nt=(1<<nt.b)-1,qt=(1<<dt)-1;rt<at;++rt){var Rt,zt=0;for(Rt=0;Rt<At;++Rt)Rt&nt||(zt=j(ht[mt++])),wt[Dt++]=X(Ct[zt&qt]),zt>>=dt}else E["VP8LMapColor"+N](ht,mt,Ct,qt,wt,Dt,rt,at,At)}}function Ne(m,_,N,j,X){for(N=_+N;_<N;){var nt=m[_++];j[X++]=nt>>16&255,j[X++]=nt>>8&255,j[X++]=255&nt}}function Wt(m,_,N,j,X){for(N=_+N;_<N;){var nt=m[_++];j[X++]=nt>>16&255,j[X++]=nt>>8&255,j[X++]=255&nt,j[X++]=nt>>24&255}}function ye(m,_,N,j,X){for(N=_+N;_<N;){var nt=(rt=m[_++])>>16&240|rt>>12&15,rt=240&rt|rt>>28&15;j[X++]=nt,j[X++]=rt}}function be(m,_,N,j,X){for(N=_+N;_<N;){var nt=(rt=m[_++])>>16&248|rt>>13&7,rt=rt>>5&224|rt>>3&31;j[X++]=nt,j[X++]=rt}}function Qe(m,_,N,j,X){for(N=_+N;_<N;){var nt=m[_++];j[X++]=255&nt,j[X++]=nt>>8&255,j[X++]=nt>>16&255}}function ve(m,_,N,j,X,nt){if(nt==0)for(N=_+N;_<N;)$t(j,((nt=m[_++])[0]>>24|nt[1]>>8&65280|nt[2]<<8&16711680|nt[3]<<24)>>>0),X+=32;else n(j,X,m,_,N)}function rn(m,_){E[_][0]=E[m+"0"],E[_][1]=E[m+"1"],E[_][2]=E[m+"2"],E[_][3]=E[m+"3"],E[_][4]=E[m+"4"],E[_][5]=E[m+"5"],E[_][6]=E[m+"6"],E[_][7]=E[m+"7"],E[_][8]=E[m+"8"],E[_][9]=E[m+"9"],E[_][10]=E[m+"10"],E[_][11]=E[m+"11"],E[_][12]=E[m+"12"],E[_][13]=E[m+"13"],E[_][14]=E[m+"0"],E[_][15]=E[m+"0"]}function je(m){return m==Qu||m==zc||m==Xl||m==qc}function Fe(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fe,this.f.kb=new Nn,this.sd=null}function Ee(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gr(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Dr(m,_){var N=m.T,j=_.ba.f.RGBA,X=j.eb,nt=j.fb+m.ka*j.A,rt=Ei[_.ba.S],at=m.y,ht=m.O,mt=m.f,wt=m.N,Dt=m.ea,dt=m.W,At=_.cc,Ct=_.dc,qt=_.Mc,Rt=_.Nc,zt=m.ka,Yt=m.ka+m.T,re=m.U,Zt=re+1>>1;for(zt==0?rt(at,ht,null,null,mt,wt,Dt,dt,mt,wt,Dt,dt,X,nt,null,null,re):(rt(_.ec,_.fc,at,ht,At,Ct,qt,Rt,mt,wt,Dt,dt,X,nt-j.A,X,nt,re),++N);zt+2<Yt;zt+=2)At=mt,Ct=wt,qt=Dt,Rt=dt,wt+=m.Rc,dt+=m.Rc,nt+=2*j.A,rt(at,(ht+=2*m.fa)-m.fa,at,ht,At,Ct,qt,Rt,mt,wt,Dt,dt,X,nt-j.A,X,nt,re);return ht+=m.fa,m.j+Yt<m.o?(n(_.ec,_.fc,at,ht,re),n(_.cc,_.dc,mt,wt,Zt),n(_.Mc,_.Nc,Dt,dt,Zt),N--):1&Yt||rt(at,ht,null,null,mt,wt,Dt,dt,mt,wt,Dt,dt,X,nt+j.A,null,null,re),N}function Br(m,_,N){var j=m.F,X=[m.J];if(j!=null){var nt=m.U,rt=_.ba.S,at=rt==Yu||rt==Xl;_=_.ba.f.RGBA;var ht=[0],mt=m.ka;ht[0]=m.T,m.Kb&&(mt==0?--ht[0]:(--mt,X[0]-=m.width),m.j+m.ka+m.T==m.o&&(ht[0]=m.o-m.j-mt));var wt=_.eb;mt=_.fb+mt*_.A,m=Hu(j,X[0],m.width,nt,ht,wt,mt+(at?0:3),_.A),t(N==ht),m&&je(rt)&&gl(wt,mt,at,nt,ht,_.A)}return 0}function $n(m){var _=m.ma,N=_.ba.S,j=11>N,X=N==Vi||N==Hs||N==Yu||N==Ql||N==12||je(N);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!no(_.Oa,m,X?11:12))return 0;if(X&&je(N)&&tn(),m.da)alert("todo:use_scaling");else{if(j){if(_.Ib=gr,m.Kb){if(N=m.U+1>>1,_.memory=o(m.U+2*N),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+N,_.Ib=Dr,tn()}}else alert("todo:EmitYUV");X&&(_.Jb=Br,j&&Ot())}if(j&&!Uo){for(m=0;256>m;++m)Si[m]=89858*(m-128)+Jl>>Xs,_m[m]=-22014*(m-128)+Jl,$d[m]=-45773*(m-128),Yc[m]=113618*(m-128)+Jl>>Xs;for(m=_l;m<Bo;++m)_=76283*(m-16)+Jl>>Xs,wm[m-_l]=$i(_,255),xm[m-_l]=$i(_+8>>4,15);Uo=1}return 1}function Be(m){var _=m.ma,N=m.U,j=m.T;return t(!(1&m.ka)),0>=N||0>=j?0:(N=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,N),_.Dc+=N,1)}function aa(m){m.ma.memory=null}function Hi(m,_,N,j){return J(m,8)!=47?0:(_[0]=J(m,14)+1,N[0]=J(m,14)+1,j[0]=J(m,1),J(m,3)!=0?0:!m.h)}function Ci(m,_){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+J(_,N)+1}function Ri(m,_){return 120<_?_-120:1<=(N=((N=Ks[_-1])>>4)*m+(8-(15&N)))?N:1;var N}function Gn(m,_,N){var j=W(N),X=m[_+=255&j].g-8;return 0<X&&(ct(N,N.u+8),j=W(N),_+=m[_].value,_+=j&(1<<X)-1),ct(N,N.u+m[_].g),m[_].value}function rr(m,_,N){return N.g+=m.g,N.value+=m.value<<_>>>0,t(8>=N.g),m.g}function Ur(m,_,N){var j=m.xc;return t((_=j==0?0:m.vc[m.md*(N>>j)+(_>>j)])<m.Wb),m.Ya[_]}function gi(m,_,N,j){var X=m.ab,nt=m.c*_,rt=m.C;_=rt+_;var at=N,ht=j;for(j=m.Ta,N=m.Ua;0<X--;){var mt=m.gc[X],wt=rt,Dt=_,dt=at,At=ht,Ct=(ht=j,at=N,mt.Ea);switch(t(wt<Dt),t(Dt<=mt.nc),mt.hc){case 2:Or(dt,At,(Dt-wt)*Ct,ht,at);break;case 0:var qt=wt,Rt=Dt,zt=ht,Yt=at,re=(Le=mt).Ea;qt==0&&(Gl(dt,At,null,null,1,zt,Yt),Vt(dt,At+1,0,0,re-1,zt,Yt+1),At+=re,Yt+=re,++qt);for(var Zt=1<<Le.b,Pe=Zt-1,Se=Bt(re,Le.b),en=Le.K,Le=Le.w+(qt>>Le.b)*Se;qt<Rt;){var yn=en,dr=Le,on=1;for(Kl(dt,At,zt,Yt-re,1,zt,Yt);on<re;){var Te=(on&~Pe)+Zt;Te>re&&(Te=re),(0,io[yn[dr++]>>8&15])(dt,At+ +on,zt,Yt+on-re,Te-on,zt,Yt+on),on=Te}At+=re,Yt+=re,++qt&Pe||(Le+=Se)}Dt!=mt.nc&&n(ht,at-Ct,ht,at+(Dt-wt-1)*Ct,Ct);break;case 1:for(Ct=dt,Rt=At,re=(dt=mt.Ea)-(Yt=dt&~(zt=(At=1<<mt.b)-1)),qt=Bt(dt,mt.b),Zt=mt.K,mt=mt.w+(wt>>mt.b)*qt;wt<Dt;){for(Pe=Zt,Se=mt,en=new Ae,Le=Rt+Yt,yn=Rt+dt;Rt<Le;)ie(Pe[Se++],en),$l(en,Ct,Rt,At,ht,at),Rt+=At,at+=At;Rt<yn&&(ie(Pe[Se++],en),$l(en,Ct,Rt,re,ht,at),Rt+=re,at+=re),++wt&zt||(mt+=qt)}break;case 3:if(dt==ht&&At==at&&0<mt.b){for(Rt=ht,dt=Ct=at+(Dt-wt)*Ct-(Yt=(Dt-wt)*Bt(mt.Ea,mt.b)),At=ht,zt=at,qt=[],Yt=(re=Yt)-1;0<=Yt;--Yt)qt[Yt]=At[zt+Yt];for(Yt=re-1;0<=Yt;--Yt)Rt[dt+Yt]=qt[Yt];jc(mt,wt,Dt,ht,Ct,ht,at)}else jc(mt,wt,Dt,dt,At,ht,at)}at=j,ht=N}ht!=N&&n(j,N,at,ht,nt)}function ai(m,_){var N=m.V,j=m.Ba+m.c*m.C,X=_-m.C;if(t(_<=m.l.o),t(16>=X),0<X){var nt=m.l,rt=m.Ta,at=m.Ua,ht=nt.width;if(gi(m,X,N,j),X=at=[at],t((N=m.C)<(j=_)),t(nt.v<nt.va),j>nt.o&&(j=nt.o),N<nt.j){var mt=nt.j-N;N=nt.j,X[0]+=mt*ht}if(N>=j?N=0:(X[0]+=4*nt.v,nt.ka=N-nt.j,nt.U=nt.va-nt.v,nt.T=j-N,N=1),N){if(at=at[0],11>(N=m.ca).S){var wt=N.f.RGBA,Dt=(j=N.S,X=nt.U,nt=nt.T,mt=wt.eb,wt.A),dt=nt;for(wt=wt.fb+m.Ma*wt.A;0<dt--;){var At=rt,Ct=at,qt=X,Rt=mt,zt=wt;switch(j){case Bc:Yl(At,Ct,qt,Rt,zt);break;case Vi:so(At,Ct,qt,Rt,zt);break;case Qu:so(At,Ct,qt,Rt,zt),gl(Rt,zt,0,qt,1,0);break;case Uc:pl(At,Ct,qt,Rt,zt);break;case Hs:ve(At,Ct,qt,Rt,zt,1);break;case zc:ve(At,Ct,qt,Rt,zt,1),gl(Rt,zt,0,qt,1,0);break;case Yu:ve(At,Ct,qt,Rt,zt,0);break;case Xl:ve(At,Ct,qt,Rt,zt,0),gl(Rt,zt,1,qt,1,0);break;case Ql:ao(At,Ct,qt,Rt,zt);break;case qc:ao(At,Ct,qt,Rt,zt),qs(Rt,zt,qt,1,0);break;case Oo:ja(At,Ct,qt,Rt,zt);break;default:t(0)}at+=ht,wt+=Dt}m.Ma+=nt}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=N.height)}}m.C=_,t(m.C<=m.i)}function Mn(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var N=m.Ya[_].G,j=m.Ya[_].H;if(0<N[1][j[1]+0].g||0<N[2][j[2]+0].g||0<N[3][j[3]+0].g)return 0}return 1}function Yn(m,_,N,j,X,nt){if(m.Z!=0){var rt=m.qd,at=m.rd;for(t(uo[m.Z]!=null);_<N;++_)uo[m.Z](rt,at,j,X,j,X,nt),rt=j,at=X,X+=nt;m.qd=rt,m.rd=at}}function zr(m,_){var N=m.l.ma,j=N.Z==0||N.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,t(_<=m.l.o),_>j){var X=m.l.width,nt=N.ca,rt=N.tb+X*j,at=m.V,ht=m.Ba+m.c*j,mt=m.gc;t(m.ab==1),t(mt[0].hc==3),Ma(mt[0],j,_,at,ht,nt,rt),Yn(N,j,_,nt,rt,X)}m.C=m.Ma=_}function Li(m,_,N,j,X,nt,rt){var at=m.$/j,ht=m.$%j,mt=m.m,wt=m.s,Dt=N+m.$,dt=Dt;X=N+j*X;var At=N+j*nt,Ct=280+wt.ua,qt=m.Pb?at:16777216,Rt=0<wt.ua?wt.Wa:null,zt=wt.wc,Yt=Dt<At?Ur(wt,ht,at):null;t(m.C<nt),t(At<=X);var re=!1;t:for(;;){for(;re||Dt<At;){var Zt=0;if(at>=qt){var Pe=Dt-N;t((qt=m).Pb),qt.wd=qt.m,qt.xd=Pe,0<qt.s.ua&&ee(qt.s.Wa,qt.s.vb),qt=at+Mo}if(ht&zt||(Yt=Ur(wt,ht,at)),t(Yt!=null),Yt.Qb&&(_[Dt]=Yt.qb,re=!0),!re)if(bt(mt),Yt.jc){Zt=mt,Pe=_;var Se=Dt,en=Yt.pd[W(Zt)&Po-1];t(Yt.jc),256>en.g?(ct(Zt,Zt.u+en.g),Pe[Se]=en.value,Zt=0):(ct(Zt,Zt.u+en.g-256),t(256<=en.value),Zt=en.value),Zt==0&&(re=!0)}else Zt=Gn(Yt.G[0],Yt.H[0],mt);if(mt.h)break;if(re||256>Zt){if(!re)if(Yt.nd)_[Dt]=(Yt.qb|Zt<<8)>>>0;else{if(bt(mt),re=Gn(Yt.G[1],Yt.H[1],mt),bt(mt),Pe=Gn(Yt.G[2],Yt.H[2],mt),Se=Gn(Yt.G[3],Yt.H[3],mt),mt.h)break;_[Dt]=(Se<<24|re<<16|Zt<<8|Pe)>>>0}if(re=!1,++Dt,++ht>=j&&(ht=0,++at,rt!=null&&at<=nt&&!(at%16)&&rt(m,at),Rt!=null))for(;dt<Dt;)Zt=_[dt++],Rt.X[(506832829*Zt&4294967295)>>>Rt.Mb]=Zt}else if(280>Zt){if(Zt=Ci(Zt-256,mt),Pe=Gn(Yt.G[4],Yt.H[4],mt),bt(mt),Pe=Ri(j,Pe=Ci(Pe,mt)),mt.h)break;if(Dt-N<Pe||X-Dt<Zt)break t;for(Se=0;Se<Zt;++Se)_[Dt+Se]=_[Dt+Se-Pe];for(Dt+=Zt,ht+=Zt;ht>=j;)ht-=j,++at,rt!=null&&at<=nt&&!(at%16)&&rt(m,at);if(t(Dt<=X),ht&zt&&(Yt=Ur(wt,ht,at)),Rt!=null)for(;dt<Dt;)Zt=_[dt++],Rt.X[(506832829*Zt&4294967295)>>>Rt.Mb]=Zt}else{if(!(Zt<Ct))break t;for(re=Zt-280,t(Rt!=null);dt<Dt;)Zt=_[dt++],Rt.X[(506832829*Zt&4294967295)>>>Rt.Mb]=Zt;Zt=Dt,t(!(re>>>(Pe=Rt).Xa)),_[Zt]=Pe.X[re],re=!0}re||t(mt.h==et(mt))}if(m.Pb&&mt.h&&Dt<X)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ee(m.s.vb,m.s.Wa);else{if(mt.h)break t;rt!=null&&rt(m,at>nt?nt:at),m.a=0,m.$=Dt-N}return 1}return m.a=3,0}function as(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,t(m!=null)}function Sa(){var m=new Ke;return m==null?null:(m.a=0,m.xb=cf,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),Or=Ft,$l=ce,Yl=Ne,so=Wt,ao=ye,ja=be,pl=Qe,E.VP8LMapColor32b=Oa,E.VP8LMapColor8b=wi,m)}function As(m,_,N,j,X){var nt=1,rt=[m],at=[_],ht=j.m,mt=j.s,wt=null,Dt=0;t:for(;;){if(N)for(;nt&&J(ht,1);){var dt=rt,At=at,Ct=j,qt=1,Rt=Ct.m,zt=Ct.gc[Ct.ab],Yt=J(Rt,2);if(Ct.Oc&1<<Yt)nt=0;else{switch(Ct.Oc|=1<<Yt,zt.hc=Yt,zt.Ea=dt[0],zt.nc=At[0],zt.K=[null],++Ct.ab,t(4>=Ct.ab),Yt){case 0:case 1:zt.b=J(Rt,3)+2,qt=As(Bt(zt.Ea,zt.b),Bt(zt.nc,zt.b),0,Ct,zt.K),zt.K=zt.K[0];break;case 3:var re,Zt=J(Rt,8)+1,Pe=16<Zt?0:4<Zt?1:2<Zt?2:3;if(dt[0]=Bt(zt.Ea,Pe),zt.b=Pe,re=qt=As(Zt,1,0,Ct,zt.K)){var Se,en=Zt,Le=zt,yn=1<<(8>>Le.b),dr=o(yn);if(dr==null)re=0;else{var on=Le.K[0],Te=Le.w;for(dr[0]=Le.K[0][0],Se=1;Se<1*en;++Se)dr[Se]=ue(on[Te+Se],dr[Se-1]);for(;Se<4*yn;++Se)dr[Se]=0;Le.K[0]=null,Le.K[0]=dr,re=1}}qt=re;break;case 2:break;default:t(0)}nt=qt}}if(rt=rt[0],at=at[0],nt&&J(ht,1)&&!(nt=1<=(Dt=J(ht,4))&&11>=Dt)){j.a=3;break t}var pe;if(pe=nt)e:{var vr,We,cn,Un=j,ti=rt,Ti=at,or=Dt,Hr=N,Fi=Un.m,Gr=Un.s,dn=[null],In=1,br=0,Pn=$s[or];n:for(;;){if(Hr&&J(Fi,1)){var ei=J(Fi,3)+2,_r=Bt(ti,ei),Cn=Bt(Ti,ei),Vr=_r*Cn;if(!As(_r,Cn,0,Un,dn))break n;for(dn=dn[0],Gr.xc=ei,vr=0;vr<Vr;++vr){var zn=dn[vr]>>8&65535;dn[vr]=zn,zn>=In&&(In=zn+1)}}if(Fi.h)break n;for(We=0;5>We;++We){var Kr=vl[We];!We&&0<or&&(Kr+=1<<or),br<Kr&&(br=Kr)}var $r=u(In*Pn,L),Xn=In,Tn=u(Xn,ft);if(Tn==null)var Bi=null;else t(65536>=Xn),Bi=Tn;var Tr=o(br);if(Bi==null||Tr==null||$r==null){Un.a=1;break n}var Ge=$r;for(vr=cn=0;vr<In;++vr){var $e=Bi[vr],Rn=$e.G,fs=$e.H,Ws=0,es=1,Yr=0;for(We=0;5>We;++We){Kr=vl[We],Rn[We]=Ge,fs[We]=cn,!We&&0<or&&(Kr+=1<<or);i:{var zo,qo=Kr,Xc=Un,lr=Tr,ff=Ge,df=cn,Wc=0,co=Xc.m,Am=J(co,1);if(s(lr,0,0,qo),Am){var pf=J(co,1)+1,mf=J(co,1),Zc=J(co,mf==0?1:8);lr[Zc]=1,pf==2&&(lr[Zc=J(co,8)]=1);var ci=1}else{var Nr=o(19),Ju=J(co,4)+4;if(19<Ju){Xc.a=3;var Ho=0;break i}for(zo=0;zo<Ju;++zo)Nr[Xu[zo]]=J(co,3);var eu=void 0,wl=void 0,Ba=Xc,Jc=Nr,nu=qo,th=lr,eh=0,ho=Ba.m,gf=8,yf=u(128,L);r:for(;I(yf,0,7,Jc,19);){if(J(ho,1)){var Yd=2+2*J(ho,3);if((eu=2+J(ho,Yd))>nu)break r}else eu=nu;for(wl=0;wl<nu&&eu--;){bt(ho);var vf=yf[0+(127&W(ho))];ct(ho,ho.u+vf.g);var Go=vf.value;if(16>Go)th[wl++]=Go,Go!=0&&(gf=Go);else{var Qd=Go==16,Xd=Go-16,Wd=Wl[Xd],bf=J(ho,Gs[Xd])+Wd;if(wl+bf>nu)break r;for(var Zd=Qd?gf:0;0<bf--;)th[wl++]=Zd}}eh=1;break r}eh||(Ba.a=3),ci=eh}(ci=ci&&!co.h)&&(Wc=I(ff,df,8,lr,qo)),ci&&Wc!=0?Ho=Wc:(Xc.a=3,Ho=0)}if(Ho==0)break n;if(es&&Hc[We]==1&&(es=Ge[cn].g==0),Ws+=Ge[cn].g,cn+=Ho,3>=We){var xl,nh=Tr[0];for(xl=1;xl<Kr;++xl)Tr[xl]>nh&&(nh=Tr[xl]);Yr+=nh}}if($e.nd=es,$e.Qb=0,es&&($e.qb=(Rn[3][fs[3]+0].value<<24|Rn[1][fs[1]+0].value<<16|Rn[2][fs[2]+0].value)>>>0,Ws==0&&256>Rn[0][fs[0]+0].value&&($e.Qb=1,$e.qb+=Rn[0][fs[0]+0].value<<8)),$e.jc=!$e.Qb&&6>Yr,$e.jc){var tc,Ua=$e;for(tc=0;tc<Po;++tc){var fo=tc,po=Ua.pd[fo],rh=Ua.G[0][Ua.H[0]+fo];256<=rh.value?(po.g=rh.g+256,po.value=rh.value):(po.g=0,po.value=0,fo>>=rr(rh,8,po),fo>>=rr(Ua.G[1][Ua.H[1]+fo],16,po),fo>>=rr(Ua.G[2][Ua.H[2]+fo],0,po),rr(Ua.G[3][Ua.H[3]+fo],24,po))}}}Gr.vc=dn,Gr.Wb=In,Gr.Ya=Bi,Gr.yc=$r,pe=1;break e}pe=0}if(!(nt=pe)){j.a=3;break t}if(0<Dt){if(mt.ua=1<<Dt,!lt(mt.Wa,Dt)){j.a=1,nt=0;break t}}else mt.ua=0;var ih=j,Al=rt,Jd=at,ru=ih.s,iu=ru.xc;if(ih.c=Al,ih.i=Jd,ru.md=Bt(Al,iu),ru.wc=iu==0?-1:(1<<iu)-1,N){j.xb=jo;break t}if((wt=o(rt*at))==null){j.a=1,nt=0;break t}nt=(nt=Li(j,wt,0,rt,at,at,null))&&!ht.h;break t}return nt?(X!=null?X[0]=wt:(t(wt==null),t(N)),j.$=0,N||as(mt)):as(mt),nt}function Di(m,_){var N=m.c*m.i,j=N+_+16*_;return t(m.c<=_),m.V=o(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+_,1)}function oa(m,_){var N=m.C,j=_-N,X=m.V,nt=m.Ba+m.c*N;for(t(_<=m.l.o);0<j;){var rt=16<j?16:j,at=m.l.ma,ht=m.l.width,mt=ht*rt,wt=at.ca,Dt=at.tb+ht*N,dt=m.Ta,At=m.Ua;gi(m,rt,X,nt),Ls(dt,At,wt,Dt,mt),Yn(at,N,N+rt,wt,Dt,ht),j-=rt,X+=rt*m.c,N+=rt}t(N==_),m.C=m.Ma=_}function Gi(){this.ub=this.yd=this.td=this.Rb=0}function yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ki(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function os(){this.Yb=(function(){var m=[];return(function _(N,j,X){for(var nt=X[j],rt=0;rt<nt&&(N.push(X.length>j+1?[]:0),!(X.length<j+1));rt++)_(N[rt],j+1,X)})(m,0,[3,11]),m})()}function yr(){this.jb=o(3),this.Wc=c([4,8],os),this.Xc=c([4,17],os)}function To(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ki(){this.ld=this.La=this.dd=this.tc=0}function ls(){this.Na=this.la=0}function Es(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function No(){this.uc=this.M=this.Nb=0,this.wa=Array(new ki),this.Y=0,this.ya=Array(new Qa),this.aa=0,this.l=new oi}function Io(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ol(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Gi,this.Kc=new yi,this.ed=new To,this.Qa=new Ki,this.Ic=this.$c=this.Aa=0,this.D=new No,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,O),this.ia=0,this.pb=u(4,Es),this.Pa=new yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Io),this.Hd=0,this.rb=Array(new ls),this.sb=0,this.wa=Array(new ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qa),this.L=this.aa=0,this.gd=c([4,2],ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(m,_){return 0>m?0:m>_?_:m}function oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ar(){var m=new ol;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ds||(Ds=wn)),m}function pn(m,_,N){return m.a==0&&(m.a=_,m.sc=N,m.cb=0),0}function la(m,_,N){return 3<=N&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function us(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return pn(m,2,"null VP8Io passed to VP8GetHeaders()");var N=_.data,j=_.w,X=_.ha;if(4>X)return pn(m,7,"Truncated header.");var nt=N[j+0]|N[j+1]<<8|N[j+2]<<16,rt=m.Od;if(rt.Rb=!(1&nt),rt.td=nt>>1&7,rt.yd=nt>>4&1,rt.ub=nt>>5,3<rt.td)return pn(m,3,"Incorrect keyframe parameters.");if(!rt.yd)return pn(m,4,"Frame not displayable.");j+=3,X-=3;var at=m.Kc;if(rt.Rb){if(7>X)return pn(m,7,"cannot parse picture header");if(!la(N,j,X))return pn(m,3,"Bad code word");at.c=16383&(N[j+4]<<8|N[j+3]),at.Td=N[j+4]>>6,at.i=16383&(N[j+6]<<8|N[j+5]),at.Ud=N[j+6]>>6,j+=7,X-=7,m.za=at.c+15>>4,m.Ub=at.i+15>>4,_.width=at.c,_.height=at.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((nt=m.Pa).jb,0,255,nt.jb.length),t((nt=m.Qa)!=null),nt.Cb=0,nt.Bb=0,nt.Fb=1,s(nt.Zb,0,0,nt.Zb.length),s(nt.Lb,0,0,nt.Lb)}if(rt.ub>X)return pn(m,7,"bad partition length");P(nt=m.m,N,j,rt.ub),j+=rt.ub,X-=rt.ub,rt.Rb&&(at.Ld=Et(nt),at.Kd=Et(nt)),at=m.Qa;var ht,mt=m.Pa;if(t(nt!=null),t(at!=null),at.Cb=Et(nt),at.Cb){if(at.Bb=Et(nt),Et(nt)){for(at.Fb=Et(nt),ht=0;4>ht;++ht)at.Zb[ht]=Et(nt)?tt(nt,7):0;for(ht=0;4>ht;++ht)at.Lb[ht]=Et(nt)?tt(nt,6):0}if(at.Bb)for(ht=0;3>ht;++ht)mt.jb[ht]=Et(nt)?B(nt,8):255}else at.Bb=0;if(nt.Ka)return pn(m,3,"cannot parse segment header");if((at=m.ed).zd=Et(nt),at.Tb=B(nt,6),at.wb=B(nt,3),at.Pc=Et(nt),at.Pc&&Et(nt)){for(mt=0;4>mt;++mt)Et(nt)&&(at.vd[mt]=tt(nt,6));for(mt=0;4>mt;++mt)Et(nt)&&(at.od[mt]=tt(nt,6))}if(m.L=at.Tb==0?0:at.zd?1:2,nt.Ka)return pn(m,3,"cannot parse filter header");var wt=X;if(X=ht=j,j=ht+wt,at=wt,m.Xb=(1<<B(m.m,2))-1,wt<3*(mt=m.Xb))N=7;else{for(ht+=3*mt,at-=3*mt,wt=0;wt<mt;++wt){var Dt=N[X+0]|N[X+1]<<8|N[X+2]<<16;Dt>at&&(Dt=at),P(m.Jc[+wt],N,ht,Dt),ht+=Dt,at-=Dt,X+=3}P(m.Jc[+mt],N,ht,at),N=ht<j?0:5}if(N!=0)return pn(m,N,"cannot parse partitions");for(N=B(ht=m.m,7),X=Et(ht)?tt(ht,4):0,j=Et(ht)?tt(ht,4):0,at=Et(ht)?tt(ht,4):0,mt=Et(ht)?tt(ht,4):0,ht=Et(ht)?tt(ht,4):0,wt=m.Qa,Dt=0;4>Dt;++Dt){if(wt.Cb){var dt=wt.Zb[Dt];wt.Fb||(dt+=N)}else{if(0<Dt){m.pb[Dt]=m.pb[0];continue}dt=N}var At=m.pb[Dt];At.Sc[0]=Ys[$i(dt+X,127)],At.Sc[1]=Qs[$i(dt+0,127)],At.Eb[0]=2*Ys[$i(dt+j,127)],At.Eb[1]=101581*Qs[$i(dt+at,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=Ys[$i(dt+mt,117)],At.Qc[1]=Qs[$i(dt+ht,127)],At.lc=dt+ht}if(!rt.Rb)return pn(m,4,"Not a key frame.");for(Et(nt),rt=m.Pa,N=0;4>N;++N){for(X=0;8>X;++X)for(j=0;3>j;++j)for(at=0;11>at;++at)mt=Mt(nt,fr[N][X][j][at])?B(nt,8):Kd[N][X][j][at],rt.Wc[N][X].Yb[j][at]=mt;for(X=0;17>X;++X)rt.Xc[N][X]=rt.Wc[N][vn[X]]}return m.kc=Et(nt),m.kc&&(m.Bd=B(nt,8)),m.cb=1}function wn(m,_,N,j,X,nt,rt){var at=_[X].Yb[N];for(N=0;16>X;++X){if(!Mt(m,at[N+0]))return X;for(;!Mt(m,at[N+1]);)if(at=_[++X].Yb[0],N=0,X==16)return 16;var ht=_[X+1].Yb;if(Mt(m,at[N+2])){var mt=m,wt=0;if(Mt(mt,(dt=at)[(Dt=N)+3]))if(Mt(mt,dt[Dt+6])){for(at=0,Dt=2*(wt=Mt(mt,dt[Dt+8]))+(dt=Mt(mt,dt[Dt+9+wt])),wt=0,dt=Gd[Dt];dt[at];++at)wt+=wt+Mt(mt,dt[at]);wt+=3+(8<<Dt)}else Mt(mt,dt[Dt+7])?(wt=7+2*Mt(mt,165),wt+=Mt(mt,145)):wt=5+Mt(mt,159);else wt=Mt(mt,dt[Dt+4])?3+Mt(mt,dt[Dt+5]):2;at=ht[2]}else wt=1,at=ht[1];ht=rt+uf[X],0>(mt=m).b&&Tt(mt);var Dt,dt=mt.b,At=(Dt=mt.Ca>>1)-(mt.I>>dt)>>31;--mt.b,mt.Ca+=At,mt.Ca|=1,mt.I-=(Dt+1&At)<<dt,nt[ht]=((wt^At)-At)*j[(0<X)+0]}return 16}function Ta(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function kr(m,_,N,j,X){X=m[_+N+32*j]+(X>>3),m[_+N+32*j]=-256&X?0>X?0:255:X}function hr(m,_,N,j,X,nt){kr(m,_,0,N,j+X),kr(m,_,1,N,j+nt),kr(m,_,2,N,j-nt),kr(m,_,3,N,j-X)}function Er(m){return(20091*m>>16)+m}function Xa(m,_,N,j){var X,nt=0,rt=o(16);for(X=0;4>X;++X){var at=m[_+0]+m[_+8],ht=m[_+0]-m[_+8],mt=(35468*m[_+4]>>16)-Er(m[_+12]),wt=Er(m[_+4])+(35468*m[_+12]>>16);rt[nt+0]=at+wt,rt[nt+1]=ht+mt,rt[nt+2]=ht-mt,rt[nt+3]=at-wt,nt+=4,_++}for(X=nt=0;4>X;++X)at=(m=rt[nt+0]+4)+rt[nt+8],ht=m-rt[nt+8],mt=(35468*rt[nt+4]>>16)-Er(rt[nt+12]),kr(N,j,0,0,at+(wt=Er(rt[nt+4])+(35468*rt[nt+12]>>16))),kr(N,j,1,0,ht+mt),kr(N,j,2,0,ht-mt),kr(N,j,3,0,at-wt),nt++,j+=32}function ql(m,_,N,j){var X=m[_+0]+4,nt=35468*m[_+4]>>16,rt=Er(m[_+4]),at=35468*m[_+1]>>16;hr(N,j,0,X+rt,m=Er(m[_+1]),at),hr(N,j,1,X+nt,m,at),hr(N,j,2,X-nt,m,at),hr(N,j,3,X-rt,m,at)}function ll(m,_,N,j,X){Xa(m,_,N,j),X&&Xa(m,_+16,N,j+4)}function vi(m,_,N,j){oo(m,_+0,N,j,1),oo(m,_+32,N,j+128,1)}function ul(m,_,N,j){var X;for(m=m[_+0]+4,X=0;4>X;++X)for(_=0;4>_;++_)kr(N,j,_,X,m)}function ua(m,_,N,j){m[_+0]&&kn(m,_+0,N,j),m[_+16]&&kn(m,_+16,N,j+4),m[_+32]&&kn(m,_+32,N,j+128),m[_+48]&&kn(m,_+48,N,j+128+4)}function Zr(m,_,N,j){var X,nt=o(16);for(X=0;4>X;++X){var rt=m[_+0+X]+m[_+12+X],at=m[_+4+X]+m[_+8+X],ht=m[_+4+X]-m[_+8+X],mt=m[_+0+X]-m[_+12+X];nt[0+X]=rt+at,nt[8+X]=rt-at,nt[4+X]=mt+ht,nt[12+X]=mt-ht}for(X=0;4>X;++X)rt=(m=nt[0+4*X]+3)+nt[3+4*X],at=nt[1+4*X]+nt[2+4*X],ht=nt[1+4*X]-nt[2+4*X],mt=m-nt[3+4*X],N[j+0]=rt+at>>3,N[j+16]=mt+ht>>3,N[j+32]=rt-at>>3,N[j+48]=mt-ht>>3,j+=64}function Na(m,_,N){var j,X=_-32,nt=ji,rt=255-m[X-1];for(j=0;j<N;++j){var at,ht=nt,mt=rt+m[_-1];for(at=0;at<N;++at)m[_+at]=ht[mt+m[X+at]];_+=32}}function cl(m,_){Na(m,_,4)}function hl(m,_){Na(m,_,8)}function Co(m,_){Na(m,_,16)}function Ro(m,_){var N;for(N=0;16>N;++N)n(m,_+32*N,m,_-32,16)}function ca(m,_){var N;for(N=16;0<N;--N)s(m,_,m[_-1],16),_+=32}function Pi(m,_,N){var j;for(j=0;16>j;++j)s(_,N+32*j,m,16)}function Ss(m,_){var N,j=16;for(N=0;16>N;++N)j+=m[_-1+32*N]+m[_+N-32];Pi(j>>5,m,_)}function ha(m,_){var N,j=8;for(N=0;16>N;++N)j+=m[_-1+32*N];Pi(j>>4,m,_)}function Oi(m,_){var N,j=8;for(N=0;16>N;++N)j+=m[_+N-32];Pi(j>>4,m,_)}function Ia(m,_){Pi(128,m,_)}function He(m,_,N){return m+2*_+N+2>>2}function Wa(m,_){var N,j=_-32;for(j=new Uint8Array([He(m[j-1],m[j+0],m[j+1]),He(m[j+0],m[j+1],m[j+2]),He(m[j+1],m[j+2],m[j+3]),He(m[j+2],m[j+3],m[j+4])]),N=0;4>N;++N)n(m,_+32*N,j,0,j.length)}function Lo(m,_){var N=m[_-1],j=m[_-1+32],X=m[_-1+64],nt=m[_-1+96];$t(m,_+0,16843009*He(m[_-1-32],N,j)),$t(m,_+32,16843009*He(N,j,X)),$t(m,_+64,16843009*He(j,X,nt)),$t(m,_+96,16843009*He(X,nt,nt))}function Ca(m,_){var N,j=4;for(N=0;4>N;++N)j+=m[_+N-32]+m[_-1+32*N];for(j>>=3,N=0;4>N;++N)s(m,_+32*N,j,4)}function Jr(m,_){var N=m[_-1+0],j=m[_-1+32],X=m[_-1+64],nt=m[_-1-32],rt=m[_+0-32],at=m[_+1-32],ht=m[_+2-32],mt=m[_+3-32];m[_+0+96]=He(j,X,m[_-1+96]),m[_+1+96]=m[_+0+64]=He(N,j,X),m[_+2+96]=m[_+1+64]=m[_+0+32]=He(nt,N,j),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=He(rt,nt,N),m[_+3+64]=m[_+2+32]=m[_+1+0]=He(at,rt,nt),m[_+3+32]=m[_+2+0]=He(ht,at,rt),m[_+3+0]=He(mt,ht,at)}function qr(m,_){var N=m[_+1-32],j=m[_+2-32],X=m[_+3-32],nt=m[_+4-32],rt=m[_+5-32],at=m[_+6-32],ht=m[_+7-32];m[_+0+0]=He(m[_+0-32],N,j),m[_+1+0]=m[_+0+32]=He(N,j,X),m[_+2+0]=m[_+1+32]=m[_+0+64]=He(j,X,nt),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=He(X,nt,rt),m[_+3+32]=m[_+2+64]=m[_+1+96]=He(nt,rt,at),m[_+3+64]=m[_+2+96]=He(rt,at,ht),m[_+3+96]=He(at,ht,ht)}function Za(m,_){var N=m[_-1+0],j=m[_-1+32],X=m[_-1+64],nt=m[_-1-32],rt=m[_+0-32],at=m[_+1-32],ht=m[_+2-32],mt=m[_+3-32];m[_+0+0]=m[_+1+64]=nt+rt+1>>1,m[_+1+0]=m[_+2+64]=rt+at+1>>1,m[_+2+0]=m[_+3+64]=at+ht+1>>1,m[_+3+0]=ht+mt+1>>1,m[_+0+96]=He(X,j,N),m[_+0+64]=He(j,N,nt),m[_+0+32]=m[_+1+96]=He(N,nt,rt),m[_+1+32]=m[_+2+96]=He(nt,rt,at),m[_+2+32]=m[_+3+96]=He(rt,at,ht),m[_+3+32]=He(at,ht,mt)}function jn(m,_){var N=m[_+0-32],j=m[_+1-32],X=m[_+2-32],nt=m[_+3-32],rt=m[_+4-32],at=m[_+5-32],ht=m[_+6-32],mt=m[_+7-32];m[_+0+0]=N+j+1>>1,m[_+1+0]=m[_+0+64]=j+X+1>>1,m[_+2+0]=m[_+1+64]=X+nt+1>>1,m[_+3+0]=m[_+2+64]=nt+rt+1>>1,m[_+0+32]=He(N,j,X),m[_+1+32]=m[_+0+96]=He(j,X,nt),m[_+2+32]=m[_+1+96]=He(X,nt,rt),m[_+3+32]=m[_+2+96]=He(nt,rt,at),m[_+3+64]=He(rt,at,ht),m[_+3+96]=He(at,ht,mt)}function Yi(m,_){var N=m[_-1+0],j=m[_-1+32],X=m[_-1+64],nt=m[_-1+96];m[_+0+0]=N+j+1>>1,m[_+2+0]=m[_+0+32]=j+X+1>>1,m[_+2+32]=m[_+0+64]=X+nt+1>>1,m[_+1+0]=He(N,j,X),m[_+3+0]=m[_+1+32]=He(j,X,nt),m[_+3+32]=m[_+1+64]=He(X,nt,nt),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=nt}function Ja(m,_){var N=m[_-1+0],j=m[_-1+32],X=m[_-1+64],nt=m[_-1+96],rt=m[_-1-32],at=m[_+0-32],ht=m[_+1-32],mt=m[_+2-32];m[_+0+0]=m[_+2+32]=N+rt+1>>1,m[_+0+32]=m[_+2+64]=j+N+1>>1,m[_+0+64]=m[_+2+96]=X+j+1>>1,m[_+0+96]=nt+X+1>>1,m[_+3+0]=He(at,ht,mt),m[_+2+0]=He(rt,at,ht),m[_+1+0]=m[_+3+32]=He(N,rt,at),m[_+1+32]=m[_+3+64]=He(j,N,rt),m[_+1+64]=m[_+3+96]=He(X,j,N),m[_+1+96]=He(nt,X,j)}function Ts(m,_){var N;for(N=0;8>N;++N)n(m,_+32*N,m,_-32,8)}function fl(m,_){var N;for(N=0;8>N;++N)s(m,_,m[_-1],8),_+=32}function Qi(m,_,N){var j;for(j=0;8>j;++j)s(_,N+32*j,m,8)}function fa(m,_){var N,j=8;for(N=0;8>N;++N)j+=m[_+N-32]+m[_-1+32*N];Qi(j>>4,m,_)}function Xi(m,_){var N,j=4;for(N=0;8>N;++N)j+=m[_+N-32];Qi(j>>3,m,_)}function Pr(m,_){var N,j=4;for(N=0;8>N;++N)j+=m[_-1+32*N];Qi(j>>3,m,_)}function js(m,_){Qi(128,m,_)}function li(m,_,N){var j=m[_-N],X=m[_+0],nt=3*(X-j)+lo[1020+m[_-2*N]-m[_+N]],rt=$u[112+(nt+4>>3)];m[_-N]=ji[255+j+$u[112+(nt+3>>3)]],m[_+0]=ji[255+X-rt]}function Vs(m,_,N,j){var X=m[_+0],nt=m[_+N];return xi[255+m[_-2*N]-m[_-N]]>j||xi[255+nt-X]>j}function Ra(m,_,N,j){return 4*xi[255+m[_-N]-m[_+0]]+xi[255+m[_-2*N]-m[_+N]]<=j}function Fs(m,_,N,j,X){var nt=m[_-3*N],rt=m[_-2*N],at=m[_-N],ht=m[_+0],mt=m[_+N],wt=m[_+2*N],Dt=m[_+3*N];return 4*xi[255+at-ht]+xi[255+rt-mt]>j?0:xi[255+m[_-4*N]-nt]<=X&&xi[255+nt-rt]<=X&&xi[255+rt-at]<=X&&xi[255+Dt-wt]<=X&&xi[255+wt-mt]<=X&&xi[255+mt-ht]<=X}function Bs(m,_,N,j){var X=2*j+1;for(j=0;16>j;++j)Ra(m,_+j,N,X)&&li(m,_+j,N)}function cs(m,_,N,j){var X=2*j+1;for(j=0;16>j;++j)Ra(m,_+j*N,1,X)&&li(m,_+j*N,1)}function to(m,_,N,j){var X;for(X=3;0<X;--X)Bs(m,_+=4*N,N,j)}function Do(m,_,N,j){var X;for(X=3;0<X;--X)cs(m,_+=4,N,j)}function Wi(m,_,N,j,X,nt,rt,at){for(nt=2*nt+1;0<X--;){if(Fs(m,_,N,nt,rt))if(Vs(m,_,N,at))li(m,_,N);else{var ht=m,mt=_,wt=N,Dt=ht[mt-2*wt],dt=ht[mt-wt],At=ht[mt+0],Ct=ht[mt+wt],qt=ht[mt+2*wt],Rt=27*(Yt=lo[1020+3*(At-dt)+lo[1020+Dt-Ct]])+63>>7,zt=18*Yt+63>>7,Yt=9*Yt+63>>7;ht[mt-3*wt]=ji[255+ht[mt-3*wt]+Yt],ht[mt-2*wt]=ji[255+Dt+zt],ht[mt-wt]=ji[255+dt+Rt],ht[mt+0]=ji[255+At-Rt],ht[mt+wt]=ji[255+Ct-zt],ht[mt+2*wt]=ji[255+qt-Yt]}_+=j}}function Us(m,_,N,j,X,nt,rt,at){for(nt=2*nt+1;0<X--;){if(Fs(m,_,N,nt,rt))if(Vs(m,_,N,at))li(m,_,N);else{var ht=m,mt=_,wt=N,Dt=ht[mt-wt],dt=ht[mt+0],At=ht[mt+wt],Ct=$u[112+(4+(qt=3*(dt-Dt))>>3)],qt=$u[112+(qt+3>>3)],Rt=Ct+1>>1;ht[mt-2*wt]=ji[255+ht[mt-2*wt]+Rt],ht[mt-wt]=ji[255+Dt+qt],ht[mt+0]=ji[255+dt-Ct],ht[mt+wt]=ji[255+At-Rt]}_+=j}}function dl(m,_,N,j,X,nt){Wi(m,_,N,1,16,j,X,nt)}function Ns(m,_,N,j,X,nt){Wi(m,_,1,N,16,j,X,nt)}function ko(m,_,N,j,X,nt){var rt;for(rt=3;0<rt;--rt)Us(m,_+=4*N,N,1,16,j,X,nt)}function A(m,_,N,j,X,nt){var rt;for(rt=3;0<rt;--rt)Us(m,_+=4,1,N,16,j,X,nt)}function Y(m,_,N,j,X,nt,rt,at){Wi(m,_,X,1,8,nt,rt,at),Wi(N,j,X,1,8,nt,rt,at)}function pt(m,_,N,j,X,nt,rt,at){Wi(m,_,1,X,8,nt,rt,at),Wi(N,j,1,X,8,nt,rt,at)}function _t(m,_,N,j,X,nt,rt,at){Us(m,_+4*X,X,1,8,nt,rt,at),Us(N,j+4*X,X,1,8,nt,rt,at)}function St(m,_,N,j,X,nt,rt,at){Us(m,_+4,1,X,8,nt,rt,at),Us(N,j+4,1,X,8,nt,rt,at)}function Ht(){this.ba=new Ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ce(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ke(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ft,this.yc=new L}function Ke(){this.xb=this.a=0,this.l=new oi,this.ca=new Ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ke,this.ab=0,this.gc=u(4,Ce),this.Oc=0}function Ue(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gn(m,_,N,j,X,nt,rt){for(m=m==null?0:m[_+0],_=0;_<rt;++_)X[nt+_]=m+N[j+_]&255,m=X[nt+_]}function ir(m,_,N,j,X,nt,rt){var at;if(m==null)gn(null,null,N,j,X,nt,rt);else for(at=0;at<rt;++at)X[nt+at]=m[_+at]+N[j+at]&255}function Kn(m,_,N,j,X,nt,rt){if(m==null)gn(null,null,N,j,X,nt,rt);else{var at,ht=m[_+0],mt=ht,wt=ht;for(at=0;at<rt;++at)mt=wt+(ht=m[_+at])-mt,wt=N[j+at]+(-256&mt?0>mt?0:255:mt)&255,mt=ht,X[nt+at]=wt}}function g(m,_,N,j){var X=_.width,nt=_.o;if(t(m!=null&&_!=null),0>N||0>=j||N+j>nt)return null;if(!m.Cc){if(m.ga==null){var rt;if(m.ga=new Ue,(rt=m.ga==null)||(rt=_.width*_.o,t(m.Gb.length==0),m.Gb=o(rt),m.Uc=0,m.Gb==null?rt=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,rt=1),rt=!rt),!rt){rt=m.ga;var at=m.Fa,ht=m.P,mt=m.qc,wt=m.mb,Dt=m.nb,dt=ht+1,At=mt-1,Ct=rt.l;if(t(at!=null&&wt!=null&&_!=null),uo[0]=null,uo[1]=gn,uo[2]=ir,uo[3]=Kn,rt.ca=wt,rt.tb=Dt,rt.c=_.width,rt.i=_.height,t(0<rt.c&&0<rt.i),1>=mt)_=0;else if(rt.$a=3&at[ht+0],rt.Z=at[ht+0]>>2&3,rt.Lc=at[ht+0]>>4&3,ht=at[ht+0]>>6&3,0>rt.$a||1<rt.$a||4<=rt.Z||1<rt.Lc||ht)_=0;else if(Ct.put=Be,Ct.ac=$n,Ct.bc=aa,Ct.ma=rt,Ct.width=_.width,Ct.height=_.height,Ct.Da=_.Da,Ct.v=_.v,Ct.va=_.va,Ct.j=_.j,Ct.o=_.o,rt.$a)t:{t(rt.$a==1),_=Sa();e:for(;;){if(_==null){_=0;break t}if(t(rt!=null),rt.mc=_,_.c=rt.c,_.i=rt.i,_.l=rt.l,_.l.ma=rt,_.l.width=rt.c,_.l.height=rt.i,_.a=0,st(_.m,at,dt,At),!As(rt.c,rt.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Mn(_.s)?(rt.ic=1,at=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(at),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(rt.ic=0,_=Di(_,rt.c)),!_))break e;_=1;break t}rt.mc=null,_=0}else _=At>=rt.c*rt.i;rt=!_}if(rt)return null;m.ga.Lc!=1?m.Ga=0:j=nt-N}t(m.ga!=null),t(N+j<=nt);t:{if(_=(at=m.ga).c,nt=at.l.o,at.$a==0){if(dt=m.rc,At=m.Vc,Ct=m.Fa,ht=m.P+1+N*_,mt=m.mb,wt=m.nb+N*_,t(ht<=m.P+m.qc),at.Z!=0)for(t(uo[at.Z]!=null),rt=0;rt<j;++rt)uo[at.Z](dt,At,Ct,ht,mt,wt,_),dt=mt,At=wt,wt+=_,ht+=_;else for(rt=0;rt<j;++rt)n(mt,wt,Ct,ht,_),dt=mt,At=wt,wt+=_,ht+=_;m.rc=dt,m.Vc=At}else{if(t(at.mc!=null),_=N+j,t((rt=at.mc)!=null),t(_<=rt.i),rt.C>=_)_=1;else if(at.ic||Ot(),at.ic){at=rt.V,dt=rt.Ba,At=rt.c;var qt=rt.i,Rt=(Ct=1,ht=rt.$/At,mt=rt.$%At,wt=rt.m,Dt=rt.s,rt.$),zt=At*qt,Yt=At*_,re=Dt.wc,Zt=Rt<Yt?Ur(Dt,mt,ht):null;t(Rt<=zt),t(_<=qt),t(Mn(Dt));e:for(;;){for(;!wt.h&&Rt<Yt;){if(mt&re||(Zt=Ur(Dt,mt,ht)),t(Zt!=null),bt(wt),256>(qt=Gn(Zt.G[0],Zt.H[0],wt)))at[dt+Rt]=qt,++Rt,++mt>=At&&(mt=0,++ht<=_&&!(ht%16)&&zr(rt,ht));else{if(!(280>qt)){Ct=0;break e}qt=Ci(qt-256,wt);var Pe,Se=Gn(Zt.G[4],Zt.H[4],wt);if(bt(wt),!(Rt>=(Se=Ri(At,Se=Ci(Se,wt)))&&zt-Rt>=qt)){Ct=0;break e}for(Pe=0;Pe<qt;++Pe)at[dt+Rt+Pe]=at[dt+Rt+Pe-Se];for(Rt+=qt,mt+=qt;mt>=At;)mt-=At,++ht<=_&&!(ht%16)&&zr(rt,ht);Rt<Yt&&mt&re&&(Zt=Ur(Dt,mt,ht))}t(wt.h==et(wt))}zr(rt,ht>_?_:ht);break e}!Ct||wt.h&&Rt<zt?(Ct=0,rt.a=wt.h?5:3):rt.$=Rt,_=Ct}else _=Li(rt,rt.V,rt.Ba,rt.c,rt.i,_,oa);if(!_){j=0;break t}}N+j>=nt&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*X}function R(m,_,N,j,X,nt){for(;0<X--;){var rt,at=m,ht=_+(N?1:0),mt=m,wt=_+(N?0:3);for(rt=0;rt<j;++rt){var Dt=mt[wt+4*rt];Dt!=255&&(Dt*=32897,at[ht+4*rt+0]=at[ht+4*rt+0]*Dt>>23,at[ht+4*rt+1]=at[ht+4*rt+1]*Dt>>23,at[ht+4*rt+2]=at[ht+4*rt+2]*Dt>>23)}_+=nt}}function q(m,_,N,j,X){for(;0<j--;){var nt;for(nt=0;nt<N;++nt){var rt=m[_+2*nt+0],at=15&(mt=m[_+2*nt+1]),ht=4369*at,mt=(240&mt|mt>>4)*ht>>16;m[_+2*nt+0]=(240&rt|rt>>4)*ht>>16&240|(15&rt|rt<<4)*ht>>16>>4&15,m[_+2*nt+1]=240&mt|at}_+=X}}function ot(m,_,N,j,X,nt,rt,at){var ht,mt,wt=255;for(mt=0;mt<X;++mt){for(ht=0;ht<j;++ht){var Dt=m[_+ht];nt[rt+4*ht]=Dt,wt&=Dt}_+=N,rt+=at}return wt!=255}function It(m,_,N,j,X){var nt;for(nt=0;nt<X;++nt)N[j+nt]=m[_+nt]>>8}function Ot(){gl=R,qs=q,Hu=ot,Ls=It}function oe(m,_,N){E[m]=function(j,X,nt,rt,at,ht,mt,wt,Dt,dt,At,Ct,qt,Rt,zt,Yt,re){var Zt,Pe=re-1>>1,Se=at[ht+0]|mt[wt+0]<<16,en=Dt[dt+0]|At[Ct+0]<<16;t(j!=null);var Le=3*Se+en+131074>>2;for(_(j[X+0],255&Le,Le>>16,qt,Rt),nt!=null&&(Le=3*en+Se+131074>>2,_(nt[rt+0],255&Le,Le>>16,zt,Yt)),Zt=1;Zt<=Pe;++Zt){var yn=at[ht+Zt]|mt[wt+Zt]<<16,dr=Dt[dt+Zt]|At[Ct+Zt]<<16,on=Se+yn+en+dr+524296,Te=on+2*(yn+en)>>3;Le=Te+Se>>1,Se=(on=on+2*(Se+dr)>>3)+yn>>1,_(j[X+2*Zt-1],255&Le,Le>>16,qt,Rt+(2*Zt-1)*N),_(j[X+2*Zt-0],255&Se,Se>>16,qt,Rt+(2*Zt-0)*N),nt!=null&&(Le=on+en>>1,Se=Te+dr>>1,_(nt[rt+2*Zt-1],255&Le,Le>>16,zt,Yt+(2*Zt-1)*N),_(nt[rt+2*Zt+0],255&Se,Se>>16,zt,Yt+(2*Zt+0)*N)),Se=yn,en=dr}1&re||(Le=3*Se+en+131074>>2,_(j[X+re-1],255&Le,Le>>16,qt,Rt+(re-1)*N),nt!=null&&(Le=3*en+Se+131074>>2,_(nt[rt+re-1],255&Le,Le>>16,zt,Yt+(re-1)*N)))}}function tn(){Ei[Bc]=bl,Ei[Vi]=Zl,Ei[Uc]=hf,Ei[Hs]=Kc,Ei[Yu]=Vo,Ei[Ql]=Fa,Ei[Oo]=Fo,Ei[Qu]=Zl,Ei[zc]=Kc,Ei[Xl]=Vo,Ei[qc]=Fa}function sr(m){return m&-16384?0>m?0:255:m>>$c}function fn(m,_){return sr((19077*m>>8)+(26149*_>>8)-14234)}function Vn(m,_,N){return sr((19077*m>>8)-(6419*_>>8)-(13320*N>>8)+8708)}function ui(m,_){return sr((19077*m>>8)+(33050*_>>8)-17685)}function bi(m,_,N,j,X){j[X+0]=fn(m,N),j[X+1]=Vn(m,_,N),j[X+2]=ui(m,_)}function Qn(m,_,N,j,X){j[X+0]=ui(m,_),j[X+1]=Vn(m,_,N),j[X+2]=fn(m,N)}function _i(m,_,N,j,X){var nt=Vn(m,_,N);_=nt<<3&224|ui(m,_)>>3,j[X+0]=248&fn(m,N)|nt>>5,j[X+1]=_}function Is(m,_,N,j,X){var nt=240&ui(m,_)|15;j[X+0]=240&fn(m,N)|Vn(m,_,N)>>4,j[X+1]=nt}function La(m,_,N,j,X){j[X+0]=255,bi(m,_,N,j,X+1)}function Da(m,_,N,j,X){Qn(m,_,N,j,X),j[X+3]=255}function Zi(m,_,N,j,X){bi(m,_,N,j,X),j[X+3]=255}function eo(m,_,N){E[m]=function(j,X,nt,rt,at,ht,mt,wt,Dt){for(var dt=wt+(-2&Dt)*N;wt!=dt;)_(j[X+0],nt[rt+0],at[ht+0],mt,wt),_(j[X+1],nt[rt+0],at[ht+0],mt,wt+N),X+=2,++rt,++ht,wt+=2*N;1&Dt&&_(j[X+0],nt[rt+0],at[ht+0],mt,wt)}}function Hl(m,_,N){return N==0?m==0?_==0?6:5:_==0?4:0:N}function Uu(m,_,N,j,X){switch(m>>>30){case 3:oo(_,N,j,X,0);break;case 2:Mi(_,N,j,X);break;case 1:kn(_,N,j,X)}}function Cs(m,_){var N,j,X=_.M,nt=_.Nb,rt=m.oc,at=m.pc+40,ht=m.oc,mt=m.pc+584,wt=m.oc,Dt=m.pc+600;for(N=0;16>N;++N)rt[at+32*N-1]=129;for(N=0;8>N;++N)ht[mt+32*N-1]=129,wt[Dt+32*N-1]=129;for(0<X?rt[at-1-32]=ht[mt-1-32]=wt[Dt-1-32]=129:(s(rt,at-32-1,127,21),s(ht,mt-32-1,127,9),s(wt,Dt-32-1,127,9)),j=0;j<m.za;++j){var dt=_.ya[_.aa+j];if(0<j){for(N=-1;16>N;++N)n(rt,at+32*N-4,rt,at+32*N+12,4);for(N=-1;8>N;++N)n(ht,mt+32*N-4,ht,mt+32*N+4,4),n(wt,Dt+32*N-4,wt,Dt+32*N+4,4)}var At=m.Gd,Ct=m.Hd+j,qt=dt.ad,Rt=dt.Hc;if(0<X&&(n(rt,at-32,At[Ct].y,0,16),n(ht,mt-32,At[Ct].f,0,8),n(wt,Dt-32,At[Ct].ea,0,8)),dt.Za){var zt=rt,Yt=at-32+16;for(0<X&&(j>=m.za-1?s(zt,Yt,At[Ct].y[15],4):n(zt,Yt,At[Ct+1].y,0,4)),N=0;4>N;N++)zt[Yt+128+N]=zt[Yt+256+N]=zt[Yt+384+N]=zt[Yt+0+N];for(N=0;16>N;++N,Rt<<=2)zt=rt,Yt=at+jr[N],Sr[dt.Ob[N]](zt,Yt),Uu(Rt,qt,16*+N,zt,Yt)}else if(zt=Hl(j,X,dt.Ob[0]),ts[zt](rt,at),Rt!=0)for(N=0;16>N;++N,Rt<<=2)Uu(Rt,qt,16*+N,rt,at+jr[N]);for(N=dt.Gc,zt=Hl(j,X,dt.Dd),ga[zt](ht,mt),ga[zt](wt,Dt),Rt=qt,zt=ht,Yt=mt,255&(dt=0|N)&&(170&dt?zs(Rt,256,zt,Yt):Sn(Rt,256,zt,Yt)),dt=wt,Rt=Dt,255&(N>>=8)&&(170&N?zs(qt,320,dt,Rt):Sn(qt,320,dt,Rt)),X<m.Ub-1&&(n(At[Ct].y,0,rt,at+480,16),n(At[Ct].f,0,ht,mt+224,8),n(At[Ct].ea,0,wt,Dt+224,8)),N=8*nt*m.B,At=m.sa,Ct=m.ta+16*j+16*nt*m.R,qt=m.qa,dt=m.ra+8*j+N,Rt=m.Ha,zt=m.Ia+8*j+N,N=0;16>N;++N)n(At,Ct+N*m.R,rt,at+32*N,16);for(N=0;8>N;++N)n(qt,dt+N*m.B,ht,mt+32*N,8),n(Rt,zt+N*m.B,wt,Dt+32*N,8)}}function da(m,_,N,j,X,nt,rt,at,ht){var mt=[0],wt=[0],Dt=0,dt=ht!=null?ht.kd:0,At=ht??new Jt;if(m==null||12>N)return 7;At.data=m,At.w=_,At.ha=N,_=[_],N=[N],At.gb=[At.gb];t:{var Ct=_,qt=N,Rt=At.gb;if(t(m!=null),t(qt!=null),t(Rt!=null),Rt[0]=0,12<=qt[0]&&!e(m,Ct[0],"RIFF")){if(e(m,Ct[0]+8,"WEBP")){Rt=3;break t}var zt=fe(m,Ct[0]+4);if(12>zt||4294967286<zt){Rt=3;break t}if(dt&&zt>qt[0]-8){Rt=7;break t}Rt[0]=zt,Ct[0]+=12,qt[0]-=12}Rt=0}if(Rt!=0)return Rt;for(zt=0<At.gb[0],N=N[0];;){t:{var Yt=m;qt=_,Rt=N;var re=mt,Zt=wt,Pe=Ct=[0];if((Le=Dt=[Dt])[0]=0,8>Rt[0])Rt=7;else{if(!e(Yt,qt[0],"VP8X")){if(fe(Yt,qt[0]+4)!=10){Rt=3;break t}if(18>Rt[0]){Rt=7;break t}var Se=fe(Yt,qt[0]+8),en=1+le(Yt,qt[0]+12);if(2147483648<=en*(Yt=1+le(Yt,qt[0]+15))){Rt=3;break t}Pe!=null&&(Pe[0]=Se),re!=null&&(re[0]=en),Zt!=null&&(Zt[0]=Yt),qt[0]+=18,Rt[0]-=18,Le[0]=1}Rt=0}}if(Dt=Dt[0],Ct=Ct[0],Rt!=0)return Rt;if(qt=!!(2&Ct),!zt&&Dt)return 3;if(nt!=null&&(nt[0]=!!(16&Ct)),rt!=null&&(rt[0]=qt),at!=null&&(at[0]=0),rt=mt[0],Ct=wt[0],Dt&&qt&&ht==null){Rt=0;break}if(4>N){Rt=7;break}if(zt&&Dt||!zt&&!Dt&&!e(m,_[0],"ALPH")){N=[N],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{Se=m,Rt=_,zt=N;var Le=At.gb;re=At.na,Zt=At.P,Pe=At.Sa,en=22,t(Se!=null),t(zt!=null),Yt=Rt[0];var yn=zt[0];for(t(re!=null),t(Pe!=null),re[0]=null,Zt[0]=null,Pe[0]=0;;){if(Rt[0]=Yt,zt[0]=yn,8>yn){Rt=7;break t}var dr=fe(Se,Yt+4);if(4294967286<dr){Rt=3;break t}var on=8+dr+1&-2;if(en+=on,0<Le&&en>Le){Rt=3;break t}if(!e(Se,Yt,"VP8 ")||!e(Se,Yt,"VP8L")){Rt=0;break t}if(yn[0]<on){Rt=7;break t}e(Se,Yt,"ALPH")||(re[0]=Se,Zt[0]=Yt+8,Pe[0]=dr),Yt+=on,yn-=on}}if(N=N[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],Rt!=0)break}N=[N],At.Ja=[At.Ja],At.xa=[At.xa];t:if(Le=m,Rt=_,zt=N,re=At.gb[0],Zt=At.Ja,Pe=At.xa,Se=Rt[0],Yt=!e(Le,Se,"VP8 "),en=!e(Le,Se,"VP8L"),t(Le!=null),t(zt!=null),t(Zt!=null),t(Pe!=null),8>zt[0])Rt=7;else{if(Yt||en){if(Le=fe(Le,Se+4),12<=re&&Le>re-12){Rt=3;break t}if(dt&&Le>zt[0]-8){Rt=7;break t}Zt[0]=Le,Rt[0]+=8,zt[0]-=8,Pe[0]=en}else Pe[0]=5<=zt[0]&&Le[Se+0]==47&&!(Le[Se+4]>>5),Zt[0]=zt[0];Rt=0}if(N=N[0],At.Ja=At.Ja[0],At.xa=At.xa[0],_=_[0],Rt!=0)break;if(4294967286<At.Ja)return 3;if(at==null||qt||(at[0]=At.xa?2:1),rt=[rt],Ct=[Ct],At.xa){if(5>N){Rt=7;break}at=rt,dt=Ct,qt=nt,m==null||5>N?m=0:5<=N&&m[_+0]==47&&!(m[_+4]>>5)?(zt=[0],Le=[0],re=[0],st(Zt=new Q,m,_,N),Hi(Zt,zt,Le,re)?(at!=null&&(at[0]=zt[0]),dt!=null&&(dt[0]=Le[0]),qt!=null&&(qt[0]=re[0]),m=1):m=0):m=0}else{if(10>N){Rt=7;break}at=Ct,m==null||10>N||!la(m,_+3,N-3)?m=0:(dt=m[_+0]|m[_+1]<<8|m[_+2]<<16,qt=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=At.Ja||!qt||!m?m=0:(rt&&(rt[0]=qt),at&&(at[0]=m),m=1))}if(!m||(rt=rt[0],Ct=Ct[0],Dt&&(mt[0]!=rt||wt[0]!=Ct)))return 3;ht!=null&&(ht[0]=At,ht.offset=_-ht.w,t(4294967286>_-ht.w),t(ht.offset==ht.ha-N));break}return Rt==0||Rt==7&&Dt&&ht==null?(nt!=null&&(nt[0]|=At.na!=null&&0<At.na.length),j!=null&&(j[0]=rt),X!=null&&(X[0]=Ct),0):Rt}function no(m,_,N){var j=_.width,X=_.height,nt=0,rt=0,at=j,ht=X;if(_.Da=m!=null&&0<m.Da,_.Da&&(at=m.cd,ht=m.bd,nt=m.v,rt=m.j,11>N||(nt&=-2,rt&=-2),0>nt||0>rt||0>=at||0>=ht||nt+at>j||rt+ht>X))return 0;if(_.v=nt,_.j=rt,_.va=nt+at,_.o=rt+ht,_.U=at,_.T=ht,_.da=m!=null&&0<m.da,_.da){if(!he(at,ht,N=[m.ib],nt=[m.hb]))return 0;_.ib=N[0],_.hb=nt[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*j/4&&_.hb<3*X/4,_.Kb=0),1}function zu(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function pa(m,_,N,j){if(j==null||0>=m||0>=_)return 2;if(N!=null){if(N.Da){var X=N.cd,nt=N.bd,rt=-2&N.v,at=-2&N.j;if(0>rt||0>at||0>=X||0>=nt||rt+X>m||at+nt>_)return 2;m=X,_=nt}if(N.da){if(!he(m,_,X=[N.ib],nt=[N.hb]))return 2;m=X[0],_=nt[0]}}j.width=m,j.height=_;t:{var ht=j.width,mt=j.height;if(m=j.S,0>=ht||0>=mt||!(m>=Bc&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){rt=nt=X=_=0;var wt=(at=ht*Qc[m])*mt;if(11>m||(nt=(mt+1)/2*(_=(ht+1)/2),m==12&&(rt=(X=ht)*mt)),(mt=o(wt+2*nt+rt))==null){m=1;break t}j.sd=mt,11>m?((ht=j.f.RGBA).eb=mt,ht.fb=0,ht.A=at,ht.size=wt):((ht=j.f.kb).y=mt,ht.O=0,ht.fa=at,ht.Fd=wt,ht.f=mt,ht.N=0+wt,ht.Ab=_,ht.Cd=nt,ht.ea=mt,ht.W=0+wt+nt,ht.Db=_,ht.Ed=nt,m==12&&(ht.F=mt,ht.J=0+wt+2*nt),ht.Tc=rt,ht.lb=X)}if(_=1,X=j.S,nt=j.width,rt=j.height,X>=Bc&&13>X)if(11>X)m=j.f.RGBA,_&=(at=Math.abs(m.A))*(rt-1)+nt<=m.size,_&=at>=nt*Qc[X],_&=m.eb!=null;else{m=j.f.kb,at=(nt+1)/2,wt=(rt+1)/2,ht=Math.abs(m.fa),mt=Math.abs(m.Ab);var Dt=Math.abs(m.Db),dt=Math.abs(m.lb),At=dt*(rt-1)+nt;_&=ht*(rt-1)+nt<=m.Fd,_&=mt*(wt-1)+at<=m.Cd,_=(_&=Dt*(wt-1)+at<=m.Ed)&ht>=nt&mt>=at&Dt>=at,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,X==12&&(_&=dt>=nt,_&=At<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||N!=null&&N.fd&&(m=zu(j)),m}var Po=64,hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ji=24,ka=32,Pa=8,ro=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,_,N){return _[N+0]},E.Predictor3=function(m,_,N){return _[N+1]},E.Predictor4=function(m,_,N){return _[N-1]},E.Predictor5=function(m,_,N){return de(de(m,_[N+1]),_[N+0])},E.Predictor6=function(m,_,N){return de(m,_[N-1])},E.Predictor7=function(m,_,N){return de(m,_[N+0])},E.Predictor8=function(m,_,N){return de(_[N-1],_[N+0])},E.Predictor9=function(m,_,N){return de(_[N+0],_[N+1])},E.Predictor10=function(m,_,N){return de(de(m,_[N-1]),de(_[N+0],_[N+1]))},E.Predictor11=function(m,_,N){var j=_[N+0];return 0>=ne(j>>24&255,m>>24&255,(_=_[N-1])>>24&255)+ne(j>>16&255,m>>16&255,_>>16&255)+ne(j>>8&255,m>>8&255,_>>8&255)+ne(255&j,255&m,255&_)?j:m},E.Predictor12=function(m,_,N){var j=_[N+0];return(we((m>>24&255)+(j>>24&255)-((_=_[N-1])>>24&255))<<24|we((m>>16&255)+(j>>16&255)-(_>>16&255))<<16|we((m>>8&255)+(j>>8&255)-(_>>8&255))<<8|we((255&m)+(255&j)-(255&_)))>>>0},E.Predictor13=function(m,_,N){var j=_[N-1];return(yt((m=de(m,_[N+0]))>>24&255,j>>24&255)<<24|yt(m>>16&255,j>>16&255)<<16|yt(m>>8&255,j>>8&255)<<8|yt(255&m,255&j))>>>0};var Gl=E.PredictorAdd0;E.PredictorAdd1=Vt,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var Kl=E.PredictorAdd2;me("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Or,jc=E.ColorIndexInverseTransform,Oa=E.MapARGB,Ma=E.VP8LColorIndexInverseTransformAlpha,wi=E.MapAlpha,io=E.VP8LPredictorsAdd=[];io.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var $l,Yl,so,ao,ja,pl,Rs,oo,Mi,zs,kn,Sn,ar,Mr,Va,ma,ml,qu,af,zd,qd,Hd,of,lf,gl,qs,Hu,Ls,yl=o(511),Vc=o(2041),Gu=o(225),Ku=o(767),Fc=0,lo=Vc,$u=Gu,ji=Ku,xi=yl,Bc=0,Vi=1,Uc=2,Hs=3,Yu=4,Ql=5,Oo=6,Qu=7,zc=8,Xl=9,qc=10,Gs=[2,3,7],Wl=[3,3,11],vl=[280,256,256,256,40],Hc=[0,1,1,1,0],Xu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ks=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$s=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mo=8,Ys=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ds=null,Gd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ai=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ts=[],Sr=[],ga=[],jo=1,cf=2,uo=[],Ei=[];oe("UpsampleRgbLinePair",bi,3),oe("UpsampleBgrLinePair",Qn,3),oe("UpsampleRgbaLinePair",Zi,4),oe("UpsampleBgraLinePair",Da,4),oe("UpsampleArgbLinePair",La,4),oe("UpsampleRgba4444LinePair",Is,2),oe("UpsampleRgb565LinePair",_i,2);var bl=E.UpsampleRgbLinePair,hf=E.UpsampleBgrLinePair,Zl=E.UpsampleRgbaLinePair,Kc=E.UpsampleBgraLinePair,Vo=E.UpsampleArgbLinePair,Fa=E.UpsampleRgba4444LinePair,Fo=E.UpsampleRgb565LinePair,Xs=16,Jl=1<<Xs-1,_l=-227,Bo=482,$c=6,Uo=0,Si=o(256),Yc=o(256),$d=o(256),_m=o(256),wm=o(Bo-_l),xm=o(Bo-_l);eo("YuvToRgbRow",bi,3),eo("YuvToBgrRow",Qn,3),eo("YuvToRgbaRow",Zi,4),eo("YuvToBgraRow",Da,4),eo("YuvToArgbRow",La,4),eo("YuvToRgba4444Row",Is,2),eo("YuvToRgb565Row",_i,2);var jr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],Wu=[8,7,6,4,4,2,2,2,1,1,1,1],Zu=1;this.WebPDecodeRGBA=function(m,_,N,j,X){var nt=Vi,rt=new Ht,at=new Ie;rt.ba=at,at.S=nt,at.width=[at.width],at.height=[at.height];var ht=at.width,mt=at.height,wt=new Ee;if(wt==null||m==null)var Dt=2;else t(wt!=null),Dt=da(m,_,N,wt.width,wt.height,wt.Pd,wt.Qd,wt.format,null);if(Dt!=0?ht=0:(ht!=null&&(ht[0]=wt.width[0]),mt!=null&&(mt[0]=wt.height[0]),ht=1),ht){at.width=at.width[0],at.height=at.height[0],j!=null&&(j[0]=at.width),X!=null&&(X[0]=at.height);t:{if(j=new oi,(X=new Jt).data=m,X.w=_,X.ha=N,X.kd=1,_=[0],t(X!=null),((m=da(X.data,X.w,X.ha,null,null,null,_,null,X))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(t(rt!=null),j.data=X.data,j.w=X.w+X.offset,j.ha=X.ha-X.offset,j.put=Be,j.ac=$n,j.bc=aa,j.ma=rt,X.xa){if((m=Sa())==null){rt=1;break t}if((function(dt,At){var Ct=[0],qt=[0],Rt=[0];e:for(;;){if(dt==null)return 0;if(At==null)return dt.a=2,0;if(dt.l=At,dt.a=0,st(dt.m,At.data,At.w,At.ha),!Hi(dt.m,Ct,qt,Rt)){dt.a=3;break e}if(dt.xb=cf,At.width=Ct[0],At.height=qt[0],!As(Ct[0],qt[0],1,dt,null))break e;return 1}return t(dt.a!=0),0})(m,j)){if(j=(_=pa(j.width,j.height,rt.Oa,rt.ba))==0){e:{j=m;n:for(;;){if(j==null){j=0;break e}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((N=j.l)!=null),t((X=N.ma)!=null),j.xb!=0){if(j.ca=X.ba,j.tb=X.tb,t(j.ca!=null),!no(X.Oa,N,Hs)){j.a=2;break n}if(!Di(j,N.width)||N.da)break n;if((N.da||je(j.ca.S))&&Ot(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Ot()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!lt(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Li(j,j.V,j.Ba,j.c,j.i,N.o,ai))break n;X.Dc=j.Ma,j=1;break e}t(j.a!=0),j=0}j=!j}j&&(_=m.a)}else _=m.a}else{if((m=new Ar)==null){rt=1;break t}if(m.Fa=X.na,m.P=X.P,m.qc=X.Sa,us(m,j)){if((_=pa(j.width,j.height,rt.Oa,rt.ba))==0){if(m.Aa=0,N=rt.Oa,t((X=m)!=null),N!=null){if(0<(ht=0>(ht=N.Md)?0:100<ht?255:255*ht/100)){for(mt=wt=0;4>mt;++mt)12>(Dt=X.pb[mt]).lc&&(Dt.ia=ht*Wu[0>Dt.lc?0:Dt.lc]>>3),wt|=Dt.ia;wt&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=N.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function(dt,At){if(dt==null)return 0;if(At==null)return pn(dt,2,"NULL VP8Io parameter in VP8Decode().");if(!dt.cb&&!us(dt,At))return 0;if(t(dt.cb),At.ac==null||At.ac(At)){At.ob&&(dt.L=0);var Ct=tu[dt.L];if(dt.L==2?(dt.yb=0,dt.zb=0):(dt.yb=At.v-Ct>>4,dt.zb=At.j-Ct>>4,0>dt.yb&&(dt.yb=0),0>dt.zb&&(dt.zb=0)),dt.Va=At.o+15+Ct>>4,dt.Hb=At.va+15+Ct>>4,dt.Hb>dt.za&&(dt.Hb=dt.za),dt.Va>dt.Ub&&(dt.Va=dt.Ub),0<dt.L){var qt=dt.ed;for(Ct=0;4>Ct;++Ct){var Rt;if(dt.Qa.Cb){var zt=dt.Qa.Lb[Ct];dt.Qa.Fb||(zt+=qt.Tb)}else zt=qt.Tb;for(Rt=0;1>=Rt;++Rt){var Yt=dt.gd[Ct][Rt],re=zt;if(qt.Pc&&(re+=qt.vd[0],Rt&&(re+=qt.od[0])),0<(re=0>re?0:63<re?63:re)){var Zt=re;0<qt.wb&&(Zt=4<qt.wb?Zt>>2:Zt>>1)>9-qt.wb&&(Zt=9-qt.wb),1>Zt&&(Zt=1),Yt.dd=Zt,Yt.tc=2*re+Zt,Yt.ld=40<=re?2:15<=re?1:0}else Yt.tc=0;Yt.La=Rt}}}Ct=0}else pn(dt,6,"Frame setup failed"),Ct=dt.a;if(Ct=Ct==0){if(Ct){dt.$c=0,0<dt.Aa||(dt.Ic=Zu);e:{Ct=dt.Ic,qt=4*(Zt=dt.za);var Pe=32*Zt,Se=Zt+1,en=0<dt.L?Zt*(0<dt.Aa?2:1):0,Le=(dt.Aa==2?2:1)*Zt;if((Yt=qt+832+(Rt=3*(16*Ct+tu[dt.L])/2*Pe)+(zt=dt.Fa!=null&&0<dt.Fa.length?dt.Kc.c*dt.Kc.i:0))!=Yt)Ct=0;else{if(Yt>dt.Vb){if(dt.Vb=0,dt.Ec=o(Yt),dt.Fc=0,dt.Ec==null){Ct=pn(dt,1,"no memory during frame initialization.");break e}dt.Vb=Yt}Yt=dt.Ec,re=dt.Fc,dt.Ac=Yt,dt.Bc=re,re+=qt,dt.Gd=u(Pe,Io),dt.Hd=0,dt.rb=u(Se+1,ls),dt.sb=1,dt.wa=en?u(en,ki):null,dt.Y=0,dt.D.Nb=0,dt.D.wa=dt.wa,dt.D.Y=dt.Y,0<dt.Aa&&(dt.D.Y+=Zt),t(!0),dt.oc=Yt,dt.pc=re,re+=832,dt.ya=u(Le,Qa),dt.aa=0,dt.D.ya=dt.ya,dt.D.aa=dt.aa,dt.Aa==2&&(dt.D.aa+=Zt),dt.R=16*Zt,dt.B=8*Zt,Zt=(Pe=tu[dt.L])*dt.R,Pe=Pe/2*dt.B,dt.sa=Yt,dt.ta=re+Zt,dt.qa=dt.sa,dt.ra=dt.ta+16*Ct*dt.R+Pe,dt.Ha=dt.qa,dt.Ia=dt.ra+8*Ct*dt.B+Pe,dt.$c=0,re+=Rt,dt.mb=zt?Yt:null,dt.nb=zt?re:null,t(re+zt<=dt.Fc+dt.Vb),Ta(dt),s(dt.Ac,dt.Bc,0,qt),Ct=1}}if(Ct){if(At.ka=0,At.y=dt.sa,At.O=dt.ta,At.f=dt.qa,At.N=dt.ra,At.ea=dt.Ha,At.Vd=dt.Ia,At.fa=dt.R,At.Rc=dt.B,At.F=null,At.J=0,!Fc){for(Ct=-255;255>=Ct;++Ct)yl[255+Ct]=0>Ct?-Ct:Ct;for(Ct=-1020;1020>=Ct;++Ct)Vc[1020+Ct]=-128>Ct?-128:127<Ct?127:Ct;for(Ct=-112;112>=Ct;++Ct)Gu[112+Ct]=-16>Ct?-16:15<Ct?15:Ct;for(Ct=-255;510>=Ct;++Ct)Ku[255+Ct]=0>Ct?0:255<Ct?255:Ct;Fc=1}Rs=Zr,oo=ll,zs=vi,kn=ul,Sn=ua,Mi=ql,ar=dl,Mr=Ns,Va=Y,ma=pt,ml=ko,qu=A,af=_t,zd=St,qd=Bs,Hd=cs,of=to,lf=Do,Sr[0]=Ca,Sr[1]=cl,Sr[2]=Wa,Sr[3]=Lo,Sr[4]=Jr,Sr[5]=Za,Sr[6]=qr,Sr[7]=jn,Sr[8]=Ja,Sr[9]=Yi,ts[0]=Ss,ts[1]=Co,ts[2]=Ro,ts[3]=ca,ts[4]=ha,ts[5]=Oi,ts[6]=Ia,ga[0]=fa,ga[1]=hl,ga[2]=Ts,ga[3]=fl,ga[4]=Pr,ga[5]=Xi,ga[6]=js,Ct=1}else Ct=0}Ct&&(Ct=(function(yn,dr){for(yn.M=0;yn.M<yn.Va;++yn.M){var on,Te=yn.Jc[yn.M&yn.Xb],pe=yn.m,vr=yn;for(on=0;on<vr.za;++on){var We=pe,cn=vr,Un=cn.Ac,ti=cn.Bc+4*on,Ti=cn.zc,or=cn.ya[cn.aa+on];if(cn.Qa.Bb?or.$b=Mt(We,cn.Pa.jb[0])?2+Mt(We,cn.Pa.jb[2]):Mt(We,cn.Pa.jb[1]):or.$b=0,cn.kc&&(or.Ad=Mt(We,cn.Bd)),or.Za=!Mt(We,145)+0,or.Za){var Hr=or.Ob,Fi=0;for(cn=0;4>cn;++cn){var Gr,dn=Ti[0+cn];for(Gr=0;4>Gr;++Gr){dn=Ai[Un[ti+Gr]][dn];for(var In=Gc[Mt(We,dn[0])];0<In;)In=Gc[2*In+Mt(We,dn[In])];dn=-In,Un[ti+Gr]=dn}n(Hr,Fi,Un,ti,4),Fi+=4,Ti[0+cn]=dn}}else dn=Mt(We,156)?Mt(We,128)?1:3:Mt(We,163)?2:0,or.Ob[0]=dn,s(Un,ti,dn,4),s(Ti,0,dn,4);or.Dd=Mt(We,142)?Mt(We,114)?Mt(We,183)?1:3:2:0}if(vr.m.Ka)return pn(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(vr=Te,We=(pe=yn).rb[pe.sb-1],Un=pe.rb[pe.sb+pe.ja],on=pe.ya[pe.aa+pe.ja],ti=pe.kc?on.Ad:0)We.la=Un.la=0,on.Za||(We.Na=Un.Na=0),on.Hc=0,on.Gc=0,on.ia=0;else{var br,Pn;if(We=Un,Un=vr,ti=pe.Pa.Xc,Ti=pe.ya[pe.aa+pe.ja],or=pe.pb[Ti.$b],cn=Ti.ad,Hr=0,Fi=pe.rb[pe.sb-1],dn=Gr=0,s(cn,Hr,0,384),Ti.Za)var ei=0,_r=ti[3];else{In=o(16);var Cn=We.Na+Fi.Na;if(Cn=Ds(Un,ti[1],Cn,or.Eb,0,In,0),We.Na=Fi.Na=(0<Cn)+0,1<Cn)Rs(In,0,cn,Hr);else{var Vr=In[0]+3>>3;for(In=0;256>In;In+=16)cn[Hr+In]=Vr}ei=1,_r=ti[0]}var zn=15&We.la,Kr=15&Fi.la;for(In=0;4>In;++In){var $r=1&Kr;for(Vr=Pn=0;4>Vr;++Vr)zn=zn>>1|($r=(Cn=Ds(Un,_r,Cn=$r+(1&zn),or.Sc,ei,cn,Hr))>ei)<<7,Pn=Pn<<2|(3<Cn?3:1<Cn?2:cn[Hr+0]!=0),Hr+=16;zn>>=4,Kr=Kr>>1|$r<<7,Gr=(Gr<<8|Pn)>>>0}for(_r=zn,ei=Kr>>4,br=0;4>br;br+=2){for(Pn=0,zn=We.la>>4+br,Kr=Fi.la>>4+br,In=0;2>In;++In){for($r=1&Kr,Vr=0;2>Vr;++Vr)Cn=$r+(1&zn),zn=zn>>1|($r=0<(Cn=Ds(Un,ti[2],Cn,or.Qc,0,cn,Hr)))<<3,Pn=Pn<<2|(3<Cn?3:1<Cn?2:cn[Hr+0]!=0),Hr+=16;zn>>=2,Kr=Kr>>1|$r<<5}dn|=Pn<<4*br,_r|=zn<<4<<br,ei|=(240&Kr)<<br}We.la=_r,Fi.la=ei,Ti.Hc=Gr,Ti.Gc=dn,Ti.ia=43690&dn?0:or.ia,ti=!(Gr|dn)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[on.$b][on.Za],pe.wa[pe.Y+pe.ja].La|=!ti),vr.Ka)return pn(yn,7,"Premature end-of-file encountered.")}if(Ta(yn),pe=dr,vr=1,on=(Te=yn).D,We=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(on.M=Te.M,on.uc=We,Cs(Te,on),vr=1,on=(Pn=Te.D).Nb,We=(dn=tu[Te.L])*Te.R,Un=dn/2*Te.B,In=16*on*Te.R,Vr=8*on*Te.B,ti=Te.sa,Ti=Te.ta-We+In,or=Te.qa,cn=Te.ra-Un+Vr,Hr=Te.Ha,Fi=Te.Ia-Un+Vr,Kr=(zn=Pn.M)==0,Gr=zn>=Te.Va-1,Te.Aa==2&&Cs(Te,Pn),Pn.uc)for($r=(Cn=Te).D.M,t(Cn.D.uc),Pn=Cn.yb;Pn<Cn.Hb;++Pn){ei=Pn,_r=$r;var Xn=(Tn=(Yr=Cn).D).Nb;br=Yr.R;var Tn=Tn.wa[Tn.Y+ei],Bi=Yr.sa,Tr=Yr.ta+16*Xn*br+16*ei,Ge=Tn.dd,$e=Tn.tc;if($e!=0)if(t(3<=$e),Yr.L==1)0<ei&&Hd(Bi,Tr,br,$e+4),Tn.La&&lf(Bi,Tr,br,$e),0<_r&&qd(Bi,Tr,br,$e+4),Tn.La&&of(Bi,Tr,br,$e);else{var Rn=Yr.B,fs=Yr.qa,Ws=Yr.ra+8*Xn*Rn+8*ei,es=Yr.Ha,Yr=Yr.Ia+8*Xn*Rn+8*ei;Xn=Tn.ld,0<ei&&(Mr(Bi,Tr,br,$e+4,Ge,Xn),ma(fs,Ws,es,Yr,Rn,$e+4,Ge,Xn)),Tn.La&&(qu(Bi,Tr,br,$e,Ge,Xn),zd(fs,Ws,es,Yr,Rn,$e,Ge,Xn)),0<_r&&(ar(Bi,Tr,br,$e+4,Ge,Xn),Va(fs,Ws,es,Yr,Rn,$e+4,Ge,Xn)),Tn.La&&(ml(Bi,Tr,br,$e,Ge,Xn),af(fs,Ws,es,Yr,Rn,$e,Ge,Xn))}}if(Te.ia&&alert("todo:DitherRow"),pe.put!=null){if(Pn=16*zn,zn=16*(zn+1),Kr?(pe.y=Te.sa,pe.O=Te.ta+In,pe.f=Te.qa,pe.N=Te.ra+Vr,pe.ea=Te.Ha,pe.W=Te.Ia+Vr):(Pn-=dn,pe.y=ti,pe.O=Ti,pe.f=or,pe.N=cn,pe.ea=Hr,pe.W=Fi),Gr||(zn-=dn),zn>pe.o&&(zn=pe.o),pe.F=null,pe.J=null,Te.Fa!=null&&0<Te.Fa.length&&Pn<zn&&(pe.J=g(Te,pe,Pn,zn-Pn),pe.F=Te.mb,pe.F==null&&pe.F.length==0)){vr=pn(Te,3,"Could not decode alpha data.");break e}Pn<pe.j&&(dn=pe.j-Pn,Pn=pe.j,t(!(1&dn)),pe.O+=Te.R*dn,pe.N+=Te.B*(dn>>1),pe.W+=Te.B*(dn>>1),pe.F!=null&&(pe.J+=pe.width*dn)),Pn<zn&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=Pn-pe.j,pe.U=pe.va-pe.v,pe.T=zn-Pn,vr=pe.put(pe))}on+1!=Te.Ic||Gr||(n(Te.sa,Te.ta-We,ti,Ti+16*Te.R,We),n(Te.qa,Te.ra-Un,or,cn+8*Te.B,Un),n(Te.Ha,Te.Ia-Un,Hr,Fi+8*Te.B,Un))}if(!vr)return pn(yn,6,"Output aborted.")}return 1})(dt,At)),At.bc!=null&&At.bc(At),Ct&=1}return Ct?(dt.cb=0,Ct):0})(m,j)||(_=m.a)}}else _=m.a}_==0&&rt.Oa!=null&&rt.Oa.fd&&(_=zu(rt.ba))}rt=_}nt=rt!=0?null:11>nt?at.f.RGBA.eb:at.f.kb.y}else nt=null;return nt};var Qc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,V){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(E[V++]);return T}function p(E,V){return E[V+0]|E[V+1]<<8}function v(E,V){return(E[V+0]|E[V+1]<<8|E[V+2]<<16)>>>0}function w(E,V){return(E[V+0]|E[V+1]<<8|E[V+2]<<16|E[V+3]<<24)>>>0}new f;var y=[0],C=[0],D=[],M=new f,k=r,G=(function(E,V){var T={},I=0,L=!1,$=0,ft=0;if(T.frames=[],!(function(O,Q){for(var W=0;W<4;W++)if(O[Q+W]!="RIFF".charCodeAt(W))return!0;return!1})(E,V)){for(w(E,V+=4),V+=8;V<E.length;){var P=d(E,V),B=w(E,V+=4);V+=4;var tt=B+(1&B);switch(P){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(J=T.frames[I]).src_off=L?ft:V-8,J.src_size=$+B+8,I++,L&&(L=!1,$=0,ft=0);break;case"VP8X":(J=T.header={}).feature_flags=E[V];var st=V+4;J.canvas_width=1+v(E,st),st+=3,J.canvas_height=1+v(E,st),st+=3;break;case"ALPH":L=!0,$=tt+8,ft=V-8;break;case"ANIM":(J=T.header).bgcolor=w(E,V),st=V+4,J.loop_count=p(E,st),st+=2;break;case"ANMF":var gt,J;(J=T.frames[I]={}).offset_x=2*v(E,V),V+=3,J.offset_y=2*v(E,V),V+=3,J.width=1+v(E,V),V+=3,J.height=1+v(E,V),V+=3,J.duration=v(E,V),V+=3,gt=E[V++],J.dispose=1&gt,J.blend=gt>>1&1}P!="ANMF"&&(V+=tt)}return T}})(k,0);G.response=k,G.rgbaoutput=!0,G.dataurl=!1;var K=G.header?G.header:null,H=G.frames?G.frames:null;if(K){K.loop_counter=K.loop_count,y=[K.canvas_height],C=[K.canvas_width];for(var ut=0;ut<H.length&&H[ut].blend!=0;ut++);}var Z=H[0],z=M.WebPDecodeRGBA(k,Z.src_off,Z.src_size,C,y);Z.rgba=z,Z.imgwidth=C[0],Z.imgheight=y[0];for(var S=0;S<C[0]*y[0]*4;S++)D[S]=z[S];return this.width=C,this.height=y,this.data=D,this}(function(r){var t,e,n,s,o,u,c,f,d,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new u,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new u,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var v=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=O;Object.defineProperty(this,"pdf",{get:function(){return Q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(lt){W=!!lt}});var et=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return et},set:function(lt){et=!!lt}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(lt){isNaN(lt)||(ct=lt)}});var bt=0;Object.defineProperty(this,"posY",{get:function(){return bt},set:function(lt){isNaN(lt)||(bt=lt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(lt){var ee;typeof lt=="number"?ee=[lt,lt,lt,lt]:((ee=new Array(4))[0]=lt[0],ee[1]=lt.length>=2?lt[1]:ee[0],ee[2]=lt.length>=3?lt[2]:ee[0],ee[3]=lt.length>=4?lt[3]:ee[1]),d.margin=ee}});var Tt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Tt},set:function(lt){Tt=lt}});var Et=0;Object.defineProperty(this,"lastBreak",{get:function(){return Et},set:function(lt){Et=lt}});var Mt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Mt},set:function(lt){Mt=lt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(lt){lt instanceof p&&(d=lt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(lt){d.path=lt}});var $t=[];Object.defineProperty(this,"ctxStack",{get:function(){return $t},set:function(lt){$t=lt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(lt){var ee;ee=w(lt),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(lt){var ee=w(lt);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(lt){["butt","round","square"].indexOf(lt)!==-1&&(this.ctx.lineCap=lt,this.pdf.setLineCap(lt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(lt){isNaN(lt)||(this.ctx.lineWidth=lt,this.pdf.setLineWidth(lt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(lt){["bevel","round","miter"].indexOf(lt)!==-1&&(this.ctx.lineJoin=lt,this.pdf.setLineJoin(lt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(lt){isNaN(lt)||(this.ctx.miterLimit=lt,this.pdf.setMiterLimit(lt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(lt){this.ctx.textBaseline=lt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(lt){["right","end","center","left","start"].indexOf(lt)!==-1&&(this.ctx.textAlign=lt)}});var te=null,le=null,fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return fe},set:function(lt){te=null,le=null,fe=lt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(lt){var ee;if(this.ctx.font=lt,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(lt))!==null){var xe=ee[1];ee[2];var he=ee[3],Bt=ee[4];ee[5];var ue=ee[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Bt)[2];Bt=Math.floor(se==="px"?parseFloat(Bt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Bt)*this.pdf.getFontSize():parseFloat(Bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Bt);var Ae=(function(me){var Ne,Wt,ye=[],be=me.trim();if(be==="")return mg;if(be in Tw)return[Tw[be]];for(;be!=="";){switch(Wt=null,Ne=(be=Iw(be)).charAt(0)){case'"':case"'":Wt=cL(be.substring(1),Ne);break;default:Wt=hL(be)}if(Wt===null||(ye.push(Wt[0]),(be=Iw(Wt[1]))!==""&&be.charAt(0)!==","))return mg;be=be.replace(/^,/,"")}return ye})(ue);if(this.fontFaces){var de=(function(me,Ne){var Wt=me.getFontList(),ye=JSON.stringify(Wt);if(te===null||le!==ye){var be=(function(Qe){var ve=[];return Object.keys(Qe).forEach(function(rn){Qe[rn].forEach(function(je){var Fe=null;switch(je){case"bold":Fe={family:rn,weight:"bold"};break;case"italic":Fe={family:rn,style:"italic"};break;case"bolditalic":Fe={family:rn,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:rn}}Fe!==null&&(Fe.ref={name:rn,style:je},ve.push(Fe))})}),ve})(Wt);te=(function(Qe){for(var ve={},rn=0;rn<Qe.length;++rn){var je=pg(Qe[rn]),Fe=je.family,Nn=je.stretch,Ie=je.style,Ee=je.weight;ve[Fe]=ve[Fe]||{},ve[Fe][Nn]=ve[Fe][Nn]||{},ve[Fe][Nn][Ie]=ve[Fe][Nn][Ie]||{},ve[Fe][Nn][Ie][Ee]=je}return ve})(be.concat(Ne)),le=ye}return te})(this.pdf,this.fontFaces),we=Ae.map(function(me){return{family:me,stretch:"normal",weight:he,style:xe}}),yt=(function(me,Ne,Wt){for(var ye=(Wt=Wt||{}).defaultFontFamily||"times",be=Object.assign({},uL,Wt.genericFontFamilies||{}),Qe=null,ve=null,rn=0;rn<Ne.length;++rn)if(be[(Qe=pg(Ne[rn])).family]&&(Qe.family=be[Qe.family]),me.hasOwnProperty(Qe.family)){ve=me[Qe.family];break}if(!(ve=ve||me[ye]))throw new Error("Could not find a font-family for the rule '"+Nw(Qe)+"' and default family '"+ye+"'.");if(ve=(function(je,Fe){if(Fe[je])return Fe[je];var Nn=u2[je],Ie=Nn<=u2.normal?-1:1,Ee=Sw(Fe,jA,Nn,Ie);if(!Ee)throw new Error("Could not find a matching font-stretch value for "+je);return Ee})(Qe.stretch,ve),ve=(function(je,Fe){if(Fe[je])return Fe[je];for(var Nn=MA[je],Ie=0;Ie<Nn.length;++Ie)if(Fe[Nn[Ie]])return Fe[Nn[Ie]];throw new Error("Could not find a matching font-style for "+je)})(Qe.style,ve),!(ve=(function(je,Fe){if(Fe[je])return Fe[je];if(je===400&&Fe[500])return Fe[500];if(je===500&&Fe[400])return Fe[400];var Nn=lL[je],Ie=Sw(Fe,VA,Nn,je<400?-1:1);if(!Ie)throw new Error("Could not find a matching font-weight for value "+je);return Ie})(Qe.weight,ve)))throw new Error("Failed to resolve a font for the rule '"+Nw(Qe)+"'.");return ve})(de,we);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var ne="";(he==="bold"||parseInt(he,10)>=700||xe==="bold")&&(ne="bold"),xe==="italic"&&(ne+="italic"),ne.length===0&&(ne="normal");for(var Vt="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ie=0;ie<Ae.length;ie++){if(this.pdf.internal.getFont(Ae[ie],ne,{noFallback:!0,disableWarning:!0})!==void 0){Vt=Ae[ie];break}if(ne==="bolditalic"&&this.pdf.internal.getFont(Ae[ie],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=Ae[ie],ne="bold";else if(this.pdf.internal.getFont(Ae[ie],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=Ae[ie],ne="normal";break}}if(Vt===""){for(var ce=0;ce<Ae.length;ce++)if(Ft[Ae[ce]]){Vt=Ft[Ae[ce]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(lt){this.ctx.globalCompositeOperation=lt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(lt){this.ctx.globalAlpha=lt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(lt){this.ctx.lineDashOffset=lt,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(lt){this.ctx.lineDash=lt,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(lt){this.ctx.ignoreClearRect=!!lt}})};v.prototype.setLineDash=function(O){this.lineDash=O},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){H.call(this,"fill",!1)},v.prototype.stroke=function(){H.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(O,Q){if(isNaN(O)||isNaN(Q))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new u(O,Q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(O,Q)},v.prototype.closePath=function(){var O=new u(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&tr(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){O=new u(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(O.x,O.y)},v.prototype.lineTo=function(O,Q){if(isNaN(O)||isNaN(Q))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new u(O,Q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(W.x,W.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},v.prototype.quadraticCurveTo=function(O,Q,W,et){if(isNaN(W)||isNaN(et)||isNaN(O)||isNaN(Q))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new u(W,et)),bt=this.ctx.transform.applyToPoint(new u(O,Q));this.path.push({type:"qct",x1:bt.x,y1:bt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new u(ct.x,ct.y)},v.prototype.bezierCurveTo=function(O,Q,W,et,ct,bt){if(isNaN(ct)||isNaN(bt)||isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Tt=this.ctx.transform.applyToPoint(new u(ct,bt)),Et=this.ctx.transform.applyToPoint(new u(O,Q)),Mt=this.ctx.transform.applyToPoint(new u(W,et));this.path.push({type:"bct",x1:Et.x,y1:Et.y,x2:Mt.x,y2:Mt.y,x:Tt.x,y:Tt.y}),this.ctx.lastPoint=new u(Tt.x,Tt.y)},v.prototype.arc=function(O,Q,W,et,ct,bt){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et)||isNaN(ct))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(bt=!!bt,!this.ctx.transform.isIdentity){var Tt=this.ctx.transform.applyToPoint(new u(O,Q));O=Tt.x,Q=Tt.y;var Et=this.ctx.transform.applyToPoint(new u(0,W)),Mt=this.ctx.transform.applyToPoint(new u(0,0));W=Math.sqrt(Math.pow(Et.x-Mt.x,2)+Math.pow(Et.y-Mt.y,2))}Math.abs(ct-et)>=2*Math.PI&&(et=0,ct=2*Math.PI),this.path.push({type:"arc",x:O,y:Q,radius:W,startAngle:et,endAngle:ct,counterclockwise:bt})},v.prototype.arcTo=function(O,Q,W,et,ct){throw new Error("arcTo not implemented.")},v.prototype.rect=function(O,Q,W,et){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,Q),this.lineTo(O+W,Q),this.lineTo(O+W,Q+et),this.lineTo(O,Q+et),this.lineTo(O,Q),this.lineTo(O+W,Q),this.lineTo(O,Q)},v.prototype.fillRect=function(O,Q,W,et){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,Q,W,et),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},v.prototype.strokeRect=function(O,Q,W,et){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(O,Q,W,et),this.stroke())},v.prototype.clearRect=function(O,Q,W,et){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,Q,W,et))},v.prototype.save=function(O){O=typeof O!="boolean"||O;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var et=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=et}},v.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var Q,W,et,ct;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))Q=0,W=0,et=0,ct=0;else{var bt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(bt!==null)Q=parseInt(bt[1]),W=parseInt(bt[2]),et=parseInt(bt[3]),ct=1;else if((bt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)Q=parseInt(bt[1]),W=parseInt(bt[2]),et=parseInt(bt[3]),ct=parseFloat(bt[4]);else{if(ct=1,typeof O=="string"&&O.charAt(0)!=="#"){var Tt=new CA(O);O=Tt.ok?Tt.toHex():"#000000"}O.length===4?(Q=O.substring(1,2),Q+=Q,W=O.substring(2,3),W+=W,et=O.substring(3,4),et+=et):(Q=O.substring(1,3),W=O.substring(3,5),et=O.substring(5,7)),Q=parseInt(Q,16),W=parseInt(W,16),et=parseInt(et,16)}}return{r:Q,g:W,b:et,a:ct,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(O,Q,W,et){if(isNaN(Q)||isNaN(W)||typeof O!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(et=isNaN(et)?void 0:et,!y.call(this)){var ct=tt(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;I.call(this,{text:O,x:Q,y:W,scale:bt,angle:ct,align:this.textAlign,maxWidth:et})}},v.prototype.strokeText=function(O,Q,W,et){if(isNaN(Q)||isNaN(W)||typeof O!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){et=isNaN(et)?void 0:et;var ct=tt(this.ctx.transform.rotation),bt=this.ctx.transform.scaleX;I.call(this,{text:O,x:Q,y:W,scale:bt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:et})}},v.prototype.measureText=function(O){if(typeof O!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,W=this.pdf.internal.scaleFactor,et=Q.internal.getFontSize(),ct=Q.getStringUnitWidth(O)*et/Q.internal.scaleFactor;return new function(bt){var Tt=(bt=bt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Tt}}),this}({width:ct*=Math.round(96*W/72*1e4)/1e4})},v.prototype.scale=function(O,Q){if(isNaN(O)||isNaN(Q))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new f(O,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},v.prototype.rotate=function(O){if(isNaN(O))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},v.prototype.translate=function(O,Q){if(isNaN(O)||isNaN(Q))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new f(1,0,0,1,O,Q);this.ctx.transform=this.ctx.transform.multiply(W)},v.prototype.transform=function(O,Q,W,et,ct,bt){if(isNaN(O)||isNaN(Q)||isNaN(W)||isNaN(et)||isNaN(ct)||isNaN(bt))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Tt=new f(O,Q,W,et,ct,bt);this.ctx.transform=this.ctx.transform.multiply(Tt)},v.prototype.setTransform=function(O,Q,W,et,ct,bt){O=isNaN(O)?1:O,Q=isNaN(Q)?0:Q,W=isNaN(W)?0:W,et=isNaN(et)?1:et,ct=isNaN(ct)?0:ct,bt=isNaN(bt)?0:bt,this.ctx.transform=new f(O,Q,W,et,ct,bt)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(O,Q,W,et,ct,bt,Tt,Et,Mt){var $t=this.pdf.getImageProperties(O),te=1,le=1,fe=1,lt=1;et!==void 0&&Et!==void 0&&(fe=Et/et,lt=Mt/ct,te=$t.width/et*Et/et,le=$t.height/ct*Mt/ct),bt===void 0&&(bt=Q,Tt=W,Q=0,W=0),et!==void 0&&Et===void 0&&(Et=et,Mt=ct),et===void 0&&Et===void 0&&(Et=$t.width,Mt=$t.height);var ee=this.ctx.transform.decompose(),xe=tt(ee.rotate.shx),he=new f,Bt=(he=(he=(he=he.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new c(bt-Q*fe,Tt-W*lt,et*te,ct*le));if(this.autoPaging){for(var ue,se=M.call(this,Bt),Ae=[],de=0;de<se.length;de+=1)Ae.indexOf(se[de])===-1&&Ae.push(se[de]);K(Ae);for(var we=Ae[0],yt=Ae[Ae.length-1],ne=we;ne<yt+1;ne++){this.pdf.setPage(ne);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=ne===1?this.posY+this.margin[0]:this.margin[0],ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=ne===1?0:ie+(ne-2)*ce;if(this.ctx.clip_path.length!==0){var Ne=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(ue,this.posX+this.margin[3],-me+Ft+this.ctx.prevPageLastElemOffset),ut.call(this,"fill",!0),this.path=Ne}var Wt=JSON.parse(JSON.stringify(Bt));Wt=G([Wt],this.posX+this.margin[3],-me+Ft+this.ctx.prevPageLastElemOffset)[0];var ye=(ne>we||ne<yt)&&D.call(this);ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,ce,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,xe),ye&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,xe)};var M=function(O,Q,W){var et=[];Q=Q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":et.push(Math.floor((O.y+ct)/W)+1);break;case"arc":et.push(Math.floor((O.y+ct-O.radius)/W)+1),et.push(Math.floor((O.y+ct+O.radius)/W)+1);break;case"qct":var bt=st(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);et.push(Math.floor((bt.y+ct)/W)+1),et.push(Math.floor((bt.y+bt.h+ct)/W)+1);break;case"bct":var Tt=gt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);et.push(Math.floor((Tt.y+ct)/W)+1),et.push(Math.floor((Tt.y+Tt.h+ct)/W)+1);break;case"rect":et.push(Math.floor((O.y+ct)/W)+1),et.push(Math.floor((O.y+O.h+ct)/W)+1)}for(var Et=0;Et<et.length;Et+=1)for(;this.pdf.internal.getNumberOfPages()<et[Et];)k.call(this);return et},k=function(){var O=this.fillStyle,Q=this.strokeStyle,W=this.font,et=this.lineCap,ct=this.lineWidth,bt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=Q,this.font=W,this.lineCap=et,this.lineWidth=ct,this.lineJoin=bt},G=function(O,Q,W){for(var et=0;et<O.length;et++)switch(O[et].type){case"bct":O[et].x2+=Q,O[et].y2+=W;case"qct":O[et].x1+=Q,O[et].y1+=W;default:O[et].x+=Q,O[et].y+=W}return O},K=function(O){return O.sort(function(Q,W){return Q-W})},H=function(O,Q){var W=this.fillStyle,et=this.strokeStyle,ct=this.lineCap,bt=this.lineWidth,Tt=Math.abs(bt*this.ctx.transform.scaleX),Et=this.lineJoin;if(this.autoPaging){for(var Mt,$t,te=JSON.parse(JSON.stringify(this.path)),le=JSON.parse(JSON.stringify(this.path)),fe=[],lt=0;lt<le.length;lt++)if(le[lt].x!==void 0)for(var ee=M.call(this,le[lt]),xe=0;xe<ee.length;xe+=1)fe.indexOf(ee[xe])===-1&&fe.push(ee[xe]);for(var he=0;he<fe.length;he++)for(;this.pdf.internal.getNumberOfPages()<fe[he];)k.call(this);K(fe);for(var Bt=fe[0],ue=fe[fe.length-1],se=Bt;se<ue+1;se++){this.pdf.setPage(se),this.fillStyle=W,this.strokeStyle=et,this.lineCap=ct,this.lineWidth=Tt,this.lineJoin=Et;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=se===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=se===1?0:we+(se-2)*yt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Mt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Mt,this.posX+this.margin[3],-ne+de+this.ctx.prevPageLastElemOffset),ut.call(this,O,!0),this.path=Vt}if($t=JSON.parse(JSON.stringify(te)),this.path=G($t,this.posX+this.margin[3],-ne+de+this.ctx.prevPageLastElemOffset),Q===!1||se===0){var Ft=(se>Bt||se<ue)&&D.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,yt,null).clip().discardPath()),ut.call(this,O,Q),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=bt}this.path=te}else this.lineWidth=Tt,ut.call(this,O,Q),this.lineWidth=bt},ut=function(O,Q){if((O!=="stroke"||Q||!C.call(this))&&(O==="stroke"||Q||!y.call(this))){for(var W,et,ct=[],bt=this.path,Tt=0;Tt<bt.length;Tt++){var Et=bt[Tt];switch(Et.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:Et,deltas:[],abs:[]});break;case"lt":var Mt=ct.length;if(bt[Tt-1]&&!isNaN(bt[Tt-1].x)&&(W=[Et.x-bt[Tt-1].x,Et.y-bt[Tt-1].y],Mt>0)){for(;Mt>=0;Mt--)if(ct[Mt-1].close!==!0&&ct[Mt-1].begin!==!0){ct[Mt-1].deltas.push(W),ct[Mt-1].abs.push(Et);break}}break;case"bct":W=[Et.x1-bt[Tt-1].x,Et.y1-bt[Tt-1].y,Et.x2-bt[Tt-1].x,Et.y2-bt[Tt-1].y,Et.x-bt[Tt-1].x,Et.y-bt[Tt-1].y],ct[ct.length-1].deltas.push(W);break;case"qct":var $t=bt[Tt-1].x+2/3*(Et.x1-bt[Tt-1].x),te=bt[Tt-1].y+2/3*(Et.y1-bt[Tt-1].y),le=Et.x+2/3*(Et.x1-Et.x),fe=Et.y+2/3*(Et.y1-Et.y),lt=Et.x,ee=Et.y;W=[$t-bt[Tt-1].x,te-bt[Tt-1].y,le-bt[Tt-1].x,fe-bt[Tt-1].y,lt-bt[Tt-1].x,ee-bt[Tt-1].y],ct[ct.length-1].deltas.push(W);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(Et)}}et=Q?null:O==="stroke"?"stroke":"fill";for(var xe=!1,he=0;he<ct.length;he++)if(ct[he].arc)for(var Bt=ct[he].abs,ue=0;ue<Bt.length;ue++){var se=Bt[ue];se.type==="arc"?S.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,Q,!xe):L.call(this,se.x,se.y),xe=!0}else if(ct[he].close===!0)this.pdf.internal.out("h"),xe=!1;else if(ct[he].begin!==!0){var Ae=ct[he].start.x,de=ct[he].start.y;$.call(this,ct[he].deltas,Ae,de),xe=!0}et&&E.call(this,et),Q&&V.call(this)}},Z=function(O){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-W;case"top":return O+Q-W;case"hanging":return O+Q-2*W;case"middle":return O+Q/2-W;default:return O}},z=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(Q,W){this.colorStops.push([Q,W])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,Q,W,et,ct,bt,Tt,Et,Mt){for(var $t=P.call(this,W,et,ct,bt),te=0;te<$t.length;te++){var le=$t[te];te===0&&(Mt?T.call(this,le.x1+O,le.y1+Q):L.call(this,le.x1+O,le.y1+Q)),ft.call(this,O,Q,le.x2,le.y2,le.x3,le.y3,le.x4,le.y4)}Et?V.call(this):E.call(this,Tt)},E=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,Q){this.pdf.internal.out(e(O)+" "+n(Q)+" m")},I=function(O){var Q;switch(O.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var W,et,ct,bt=this.pdf.getTextDimensions(O.text),Tt=Z.call(this,O.y),Et=z.call(this,Tt)-bt.h,Mt=this.ctx.transform.applyToPoint(new u(O.x,Tt));if(this.autoPaging){var $t=this.ctx.transform.decompose(),te=new f;te=(te=(te=te.multiply($t.translate)).multiply($t.skew)).multiply($t.scale);for(var le=this.ctx.transform.applyToRectangle(new c(O.x,Tt,bt.w,bt.h)),fe=te.applyToRectangle(new c(O.x,Et,bt.w,bt.h)),lt=M.call(this,fe),ee=[],xe=0;xe<lt.length;xe+=1)ee.indexOf(lt[xe])===-1&&ee.push(lt[xe]);K(ee);for(var he=ee[0],Bt=ee[ee.length-1],ue=he;ue<Bt+1;ue++){this.pdf.setPage(ue);var se=ue===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[2],we=de-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ne=yt-this.margin[3],Vt=ue===1?0:Ae+(ue-2)*we;if(this.ctx.clip_path.length!==0){var Ft=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(W,this.posX+this.margin[3],-1*Vt+se),ut.call(this,"fill",!0),this.path=Ft}var ie=G([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-Vt+se+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*O.scale),ct=this.lineWidth,this.lineWidth=ct*O.scale);var ce=this.autoPaging!=="text";if(ce||ie.y+ie.h<=de){if(ce||ie.y>=se&&ie.x<=yt){var me=ce?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||yt-ie.x)[0],Ne=G([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-Vt+se+this.ctx.prevPageLastElemOffset)[0],Wt=ce&&(ue>he||ue<Bt)&&D.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,we,null).clip().discardPath()),this.pdf.text(me,Ne.x,Ne.y,{angle:O.angle,align:Q,renderingMode:O.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else ie.y<de&&(this.ctx.prevPageLastElemOffset+=de-ie.y);O.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=ct)}}else O.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*O.scale),ct=this.lineWidth,this.lineWidth=ct*O.scale),this.pdf.text(O.text,Mt.x+this.posX,Mt.y+this.posY,{angle:O.angle,align:Q,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=ct)},L=function(O,Q,W,et){W=W||0,et=et||0,this.pdf.internal.out(e(O+W)+" "+n(Q+et)+" l")},$=function(O,Q,W){return this.pdf.lines(O,Q,W,null,null)},ft=function(O,Q,W,et,ct,bt,Tt,Et){this.pdf.internal.out([t(s(W+O)),t(o(et+Q)),t(s(ct+O)),t(o(bt+Q)),t(s(Tt+O)),t(o(Et+Q)),"c"].join(" "))},P=function(O,Q,W,et){for(var ct=2*Math.PI,bt=Math.PI/2;Q>W;)Q-=ct;var Tt=Math.abs(W-Q);Tt<ct&&et&&(Tt=ct-Tt);for(var Et=[],Mt=et?-1:1,$t=Q;Tt>1e-5;){var te=$t+Mt*Math.min(Tt,bt);Et.push(B.call(this,O,$t,te)),Tt-=Math.abs(te-$t),$t=te}return Et},B=function(O,Q,W){var et=(W-Q)/2,ct=O*Math.cos(et),bt=O*Math.sin(et),Tt=ct,Et=-bt,Mt=Tt*Tt+Et*Et,$t=Mt+Tt*ct+Et*bt,te=4/3*(Math.sqrt(2*Mt*$t)-$t)/(Tt*bt-Et*ct),le=Tt-te*Et,fe=Et+te*Tt,lt=le,ee=-fe,xe=et+Q,he=Math.cos(xe),Bt=Math.sin(xe);return{x1:O*Math.cos(Q),y1:O*Math.sin(Q),x2:le*he-fe*Bt,y2:le*Bt+fe*he,x3:lt*he-ee*Bt,y3:lt*Bt+ee*he,x4:O*Math.cos(W),y4:O*Math.sin(W)}},tt=function(O){return 180*O/Math.PI},st=function(O,Q,W,et,ct,bt){var Tt=O+.5*(W-O),Et=Q+.5*(et-Q),Mt=ct+.5*(W-ct),$t=bt+.5*(et-bt),te=Math.min(O,ct,Tt,Mt),le=Math.max(O,ct,Tt,Mt),fe=Math.min(Q,bt,Et,$t),lt=Math.max(Q,bt,Et,$t);return new c(te,fe,le-te,lt-fe)},gt=function(O,Q,W,et,ct,bt,Tt,Et){var Mt,$t,te,le,fe,lt,ee,xe,he,Bt,ue,se,Ae,de,we=W-O,yt=et-Q,ne=ct-W,Vt=bt-et,Ft=Tt-ct,ie=Et-bt;for($t=0;$t<41;$t++)he=(ee=(te=O+(Mt=$t/40)*we)+Mt*((fe=W+Mt*ne)-te))+Mt*(fe+Mt*(ct+Mt*Ft-fe)-ee),Bt=(xe=(le=Q+Mt*yt)+Mt*((lt=et+Mt*Vt)-le))+Mt*(lt+Mt*(bt+Mt*ie-lt)-xe),$t==0?(ue=he,se=Bt,Ae=he,de=Bt):(ue=Math.min(ue,he),se=Math.min(se,Bt),Ae=Math.max(Ae,he),de=Math.max(de,Bt));return new c(Math.round(ue),Math.round(se),Math.round(Ae-ue),Math.round(de-se))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,Q,W=(O=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:Q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ze.API),(function(r){var t=function(u){var c,f,d,p,v,w,y,C,D,M;for(f=[],d=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>d;d+=4)(v=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(w=(v=((v=((v=((v=(v-(M=v%85))/85)-(D=v%85))/85)-(C=v%85))/85)-(y=v%85))/85)%85,f.push(w+33,y+33,C+33,D+33,M+33)):f.push(122);return(function(k,G){for(var K=G;K>0;K--)k.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var c,f,d,p,v,w=String,y="length",C=255,D="charCodeAt",M="slice",k="replace";for(u[M](-2),u=u[M](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],p=0,v=(u+=c="uuuuu"[M](u[y]%5||5))[y];v>p;p+=5)f=52200625*(u[D](p)-33)+614125*(u[D](p+1)-33)+7225*(u[D](p+2)-33)+85*(u[D](p+3)-33)+(u[D](p+4)-33),d.push(C&f>>24,C&f>>16,C&f>>8,C&f);return(function(G,K){for(var H=K;H>0;H--)G.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},n=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=n2(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};r.processDataByFilters=function(u,c){var f=0,d=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(ze.API),(function(r){r.loadFile=function(t,e,n){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,p){var v=new XMLHttpRequest,w=0,y=function(C){var D=C.length,M=[],k=String.fromCharCode;for(w=0;w<D;w+=1)M.push(k(255&C.charCodeAt(w)));return M.join("")};if(v.open("GET",f,!d),v.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(v.onload=function(){v.status===200?p(y(this.responseText)):p(void 0)}),v.send(null),d&&v.status===200)return y(v.responseText)})(s,o,u)}catch{}return c})(t,e,n)},r.loadImageFile=r.loadFile})(ze.API),(function(r){function t(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):X0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):X0(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var f=tr(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)d!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(c(v,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(e).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var C=p[y],D=C.src.find(function(M){return M.format==="truetype"});D&&d.addFont(D.url,C.ref.name,C.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(n(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,v){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,p),w}).then(p,v).then(function(w){return d.updateProgress(1),w})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),w=d.call(v,c,f);return u.convert(w,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,ze.getPageSize=function(c,f,d){if(tr(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var v,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+f}var C,D=0,M=0;if(y.hasOwnProperty(w))D=y[w][1]/v,M=y[w][0]/v;else try{D=d[1],M=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",M>D&&(C=M,M=D,D=C);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",D>M&&(C=M,M=D,D=C)}return{width:M,height:D,unit:f,k:v,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(pg):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(ze.API),ze.API.addJS=function(r){return Rw=r,this.internal.events.subscribe("postPutResources",function(){Xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Rw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xp!==void 0&&Cw!==void 0&&this.internal.out("/Names <</JavaScript "+Xp+" 0 R>>")}),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=n.exec(u);if(c!=null){var f=c[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var v=e.internal.newObject();p.push(v);var w=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<p.length;o++)e.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+y+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,s,o){var u={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var u=n.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])})(ze.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,s,o,u,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(v){for(var w,y=256*v.charCodeAt(4)+v.charCodeAt(5),C=v.length,D={width:0,height:0,numcomponents:1},M=4;M<C;M+=2){if(M+=y,t.indexOf(v.charCodeAt(M+1))!==-1){w=256*v.charCodeAt(M+5)+v.charCodeAt(M+6),D={width:256*v.charCodeAt(M+7)+v.charCodeAt(M+8),height:w,numcomponents:v.charCodeAt(M+9)};break}y=256*v.charCodeAt(M+2)+v.charCodeAt(M+3)}return D})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:e,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:s}}return p}})(ze.API),ze.API.processPNG=function(r,t,e,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,o=YR(r,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,p=o.depth;s=d&&f===1?(function(S){for(var E=S.width,V=S.height,T=S.data,I=S.palette,L=S.depth,$=!1,ft=[],P=[],B=void 0,tt=!1,st=0,gt=0;gt<I.length;gt++){var J=P_(I[gt],4),O=J[0],Q=J[1],W=J[2],et=J[3];ft.push(O,Q,W),et!=null&&(et===0?(st++,P.length<1&&P.push(gt)):et<255&&(tt=!0))}if(tt||st>1){$=!0,P=void 0;var ct=E*V;B=new Uint8Array(ct);for(var bt=new DataView(T.buffer),Tt=0;Tt<ct;Tt++){var Et=gg(bt,Tt,L),Mt=P_(I[Et],4)[3];B[Tt]=Mt}}else st===0&&(P=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:T,alphaBytes:B,needSMask:$,palette:ft,mask:P}})(o):f===2||f===4?(function(S){for(var E=S.data,V=S.width,T=S.height,I=S.channels,L=S.depth,$=I===2?"DeviceGray":"DeviceRGB",ft=I-1,P=V*T,B=ft,tt=P*B,st=1*P,gt=Math.ceil(tt*L/8),J=Math.ceil(st*L/8),O=new Uint8Array(gt),Q=new Uint8Array(J),W=new DataView(E.buffer),et=new DataView(O.buffer),ct=new DataView(Q.buffer),bt=!1,Tt=0;Tt<P;Tt++){for(var Et=Tt*I,Mt=0;Mt<B;Mt++)Fw(et,gg(W,Et+Mt,L),Tt*B+Mt,L);var $t=gg(W,Et+B,L);$t<(1<<L)-1&&(bt=!0),Fw(ct,$t,1*Tt,L)}return{colorSpace:$,colorsPerPixel:ft,sMaskBitsPerComponent:bt?L:void 0,colorBytes:O,alphaBytes:Q,needSMask:bt}})(o):(function(S){var E=S.data,V=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?(function(T){for(var I=T.length,L=new Uint8Array(2*I),$=new DataView(L.buffer,L.byteOffset,L.byteLength),ft=0;ft<I;ft++)$.setUint16(2*ft,T[ft],!1);return L})(E):E,needSMask:!1}})(o);var v,w,y,C=s,D=C.colorSpace,M=C.colorsPerPixel,k=C.sMaskBitsPerComponent,G=C.colorBytes,K=C.alphaBytes,H=C.needSMask,ut=C.palette,Z=C.mask,z=null;return n!==ze.API.image_compression.NONE&&typeof n2=="function"?(z=(function(S){var E;switch(S){case ze.API.image_compression.FAST:E=11;break;case ze.API.image_compression.MEDIUM:E=13;break;case ze.API.image_compression.SLOW:E=14;break;default:E=12}return E})(n),v=this.decode.FLATE_DECODE,w="/Predictor ".concat(z," /Colors ").concat(M," /BitsPerComponent ").concat(p," /Columns ").concat(u),r=Pw(G,Math.ceil(u*M*p/8),M,p,n),H&&(y=Pw(K,Math.ceil(u*k/8),1,k,n))):(v=void 0,w=void 0,r=G,H&&(y=K)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:e,data:r,index:t,filter:v,decodeParameters:w,transparency:Z,palette:ut,sMask:y,predictor:z,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:k,colorSpace:D}}},(function(r){r.processGIF89A=function(t,e,n,s){var o=new mL(t),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},p=new yg(100).encode(d,100);return r.processJPEG.call(this,p,e,n,s)},r.processGIF87A=r.processGIF89A})(ze.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){mr.log("bit decode error:"+e)}},yo.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},yo.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,c=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,p=n*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=d}this.pos+=r}},yo.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,p=s*this.width*4+4*o;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=r}},yo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=n,this.data[c+3]=u}},yo.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,n,s){var o=new yo(t,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new yg(100).encode(f,100);return r.processJPEG.call(this,d,e,n,s)}})(ze.API),Uw.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,n,s){var o=new Uw(t),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new yg(100).encode(f,100);return r.processJPEG.call(this,d,e,n,s)}})(ze.API),ze.API.processRGBA=function(r,t,e){for(var n=r.data,s=n.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var p=n[d],v=n[d+1],w=n[d+2],y=n[d+3];o[c++]=p,o[c++]=v,o[c++]=w,u[f++]=y}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ze.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sh=ze.API,Wp=Sh.getCharWidthsArray=function(r,t){var e,n,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,p=d.fof?d.fof:1,v=t.doKerning!==!1,w=0,y=r.length,C=0,D=c[0]||f,M=[];for(e=0;e<y;e++)n=r.charCodeAt(e),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+u*(1e3/o)||0)/1e3):(w=v&&tr(d[n])==="object"&&!isNaN(parseInt(d[n][C],10))?d[n][C]/p:0,M.push((c[n]||D)/f+w)),C=n;return M},Lw=Sh.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Sh.processArabic&&(r=Sh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,s)/e:Wp.apply(this,arguments).reduce(function(o,u){return o+u},0)},Dw=function(r,t,e,n){for(var s=[],o=0,u=r.length,c=0;o!==u&&c+t[o]<e;)c+=t[o],o++;s.push(r.slice(0,o));var f=o;for(c=0;o!==u;)c+t[o]>n&&(s.push(r.slice(f,o)),c=0,f=o),c+=t[o],o++;return f!==o&&s.push(r.slice(f,o)),s},kw=function(r,t,e){e||(e={});var n,s,o,u,c,f,d,p=[],v=[p],w=e.textIndent||0,y=0,C=0,D=r.split(" "),M=Wp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?D[0].length+2:e.lineIndent||0){var k=Array(f).join(" "),G=[];D.map(function(H){(H=H.split(/\s*\n/)).length>1?G=G.concat(H.map(function(ut,Z){return(Z&&ut.length?`
`:"")+ut})):G.push(H[0])}),D=G,f=Lw.apply(this,[k,e])}for(o=0,u=D.length;o<u;o++){var K=0;if(n=D[o],f&&n[0]==`
`&&(n=n.substr(1),K=1),w+y+(C=(s=Wp.apply(this,[n,e])).reduce(function(H,ut){return H+ut},0))>t||K){if(C>t){for(c=Dw.apply(this,[n,s,t-(w+y),t]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);C=s.slice(n.length-(p[0]?p[0].length:0)).reduce(function(H,ut){return H+ut},0)}else p=[n];v.push(p),w=C+f,y=M}else p.push(n),w+=y+C,y=M}return d=f?function(H,ut){return(ut?k:"")+H.join(" ")}:function(H){return H.join(" ")},v.map(d)},Sh.splitTextToSize=function(r,t,e){var n,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return v.metadata[w]?{widths:v.metadata[w].widths||{0:1},kerning:v.metadata[w].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var c,f,d=[];for(c=0,f=n.length;c<f;c++)d=d.concat(kw.apply(this,[n[c],u,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},s={},o=0;o<16;o++)n[e[o]]=t[o],s[t[o]]=e[o];var u=function(w){return"0x"+parseInt(w,10).toString(16)},c=r.__fontmetrics__.compress=function(w){var y,C,D,M,k=["{"];for(var G in w){if(y=w[G],isNaN(parseInt(G,10))?C="'"+G+"'":(G=parseInt(G,10),C=(C=u(G).slice(2)).slice(0,-1)+s[C.slice(-1)]),typeof y=="number")y<0?(D=u(y).slice(3),M="-"):(D=u(y).slice(2),M=""),D=M+D.slice(0,-1)+s[D.slice(-1)];else{if(tr(y)!=="object")throw new Error("Don't know what to do with value type "+tr(y)+".");D=c(y)}k.push(C+D)}return k.push("}"),k.join("")},f=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,D,M,k={},G=1,K=k,H=[],ut="",Z="",z=w.length-1,S=1;S<z;S+=1)(M=w[S])=="'"?y?(D=y.join(""),y=void 0):y=[]:y?y.push(M):M=="{"?(H.push([K,D]),K={},D=void 0):M=="}"?((C=H.pop())[0][C[1]]=K,D=void 0,K=C[0]):M=="-"?G=-1:D===void 0?n.hasOwnProperty(M)?(ut+=n[M],D=parseInt(ut,16)*G,G=1,ut=""):ut+=M:n.hasOwnProperty(M)?(Z+=n[M],K[D]=parseInt(Z,16)*G,G=1,D=void 0,Z=""):Z+=M;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},v={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var y=w.font,C=v.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var D=p.Unicode[y.postScriptName];D&&(y.metadata.Unicode.encoding=D,y.encoding=D.codePages[0])}])})(ze.API),(function(r){var t=function(e){for(var n=e.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=e.charCodeAt(o);return s};r.API.events.push(["addFont",function(e){var n=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(d1(c)),u.metadata=r.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,n)}}])})(ze),ze.API.addSvgAsImage=function(r,t,e,n,s,o,u,c){if(isNaN(t)||isNaN(e))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=n,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(nn.canvg?Promise.resolve(nn.canvg):X0(()=>import("./index.es-pask9sbK.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){v.addImage(f.toDataURL("image/jpeg",1),t,e,n,s,u,c)})},ze.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,e);return this},ze.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,p=0,v=0;function w(C,D){var M,k=!1;for(M=0;M<C.length;M+=1)C[M]===D&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var y=c.length;for(v=0;v<y;v+=1)e[c[v]].value=e[c[v]].defaultValue,e[c[v]].explicitSet=!1}if(tr(r)==="object"){for(s in r)if(o=r[s],w(c,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&w(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(d=0;d<o.length;d+=1)if(n=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(n=!1);n===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[s].value="["+f.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,D=[];for(C in e)e[C].explicitSet===!0&&(e[C].type==="name"?D.push("/"+C+" /"+e[C].value):D.push("/"+C+" "+e[C].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(ze.API),(function(r){var t=r.API,e=t.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],v=0,w=o.length;v<w;++v){if(c=u.metadata.characterToGlyph(o.charCodeAt(v)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(v),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},n=function(o){var u,c,f,d,p,v,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,w=(c=Object.keys(o).sort(function(y,C){return y-C})).length;v<w;v++)u=c[v],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",C=0;C<w.length;C++)y+=String.fromCharCode(w[C]);var D=d();p({data:y,addLength1:!0,objectId:D}),f("endobj");var M=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var k=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Dh(c.fontName)),f("/FontFile2 "+D+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var G=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Dh(c.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+r.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+M+" 0 R"),f("/BaseFont /"+Dh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+G+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,w="",y=0;y<v.length;y++)w+=String.fromCharCode(v[y]);var C=d();p({data:w,addLength1:!0,objectId:C}),f("endobj");var D=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:D}),f("endobj");var M=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+C+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Dh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+Dh(c.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,p=o.options||{},v=o.mutex||{},w=v.pdfEscape,y=v.activeFontKey,C=v.fonts,D=y,M="",k=0,G="",K=C[D].encoding;if(C[D].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:v};for(G=c,D=y,Array.isArray(c)&&(G=c[0]),k=0;k<G.length;k+=1)C[D].metadata.hasOwnProperty("cmap")&&(u=C[D].metadata.cmap.unicode.codeMap[G[k].charCodeAt(0)]),u||G[k].charCodeAt(0)<256&&C[D].metadata.hasOwnProperty("Unicode")?M+=G[k]:M+="";var H="";return parseInt(D.slice(1))<14||K==="WinAnsiEncoding"?H=w(M,D).split("").map(function(ut){return ut.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(H=e(M,C[D])),v.isHex=!0,{text:H,x:f,y:d,options:p,mutex:v}};t.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(ze),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(ze.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,o,u,c,f,d,p,v=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,K=0;this.__bidiEngine__={};var H=function(T){var I=T.charCodeAt(),L=I>>8,$=D[L];return $!==void 0?v[256*$+(255&I)]:L===252||L===253?"AL":k.test(L)?"L":L===8?"R":"N"},ut=function(T){for(var I,L=0;L<T.length;L++){if((I=H(T.charAt(L)))==="L")return!1;if(I==="R")return!0}return!1},Z=function(T,I,L,$){var ft,P,B,tt,st=I[$];switch(st){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(st="AN");break;case"AL":G=!0,st="R";break;case"WS":case"BN":st="N";break;case"CS":$<1||$+1>=I.length||(ft=L[$-1])!=="EN"&&ft!=="AN"||(P=I[$+1])!=="EN"&&P!=="AN"?st="N":G&&(P="AN"),st=P===ft?P:"N";break;case"ES":st=(ft=$>0?L[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&L[$-1]==="EN"){st="EN";break}if(G){st="N";break}for(B=$+1,tt=I.length;B<tt&&I[B]==="ET";)B++;st=B<tt&&I[B]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(tt=I.length,B=$+1;B<tt&&I[B]==="NSM";)B++;if(B<tt){var gt=T[$],J=gt>=1425&&gt<=2303||gt===64286;if(ft=I[B],J&&(ft==="R"||ft==="AL")){st="R";break}}}st=$<1||(ft=I[$-1])==="B"?"N":L[$-1];break;case"B":G=!1,s=!0,st=K;break;case"S":o=!0,st="N"}return st},z=function(T,I,L){var $=T.split("");return L&&S($,L,{hiLevel:K}),$.reverse(),I&&I.reverse(),$.join("")},S=function(T,I,L){var $,ft,P,B,tt,st=-1,gt=T.length,J=0,O=[],Q=K?y:w,W=[];for(G=!1,s=!1,o=!1,ft=0;ft<gt;ft++)W[ft]=H(T[ft]);for(P=0;P<gt;P++){if(tt=J,O[P]=Z(T,W,O,P),$=240&(J=Q[tt][C[O[P]]]),J&=15,I[P]=B=Q[J][5],$>0)if($===16){for(ft=st;ft<P;ft++)I[ft]=1;st=-1}else st=-1;if(Q[J][6])st===-1&&(st=P);else if(st>-1){for(ft=st;ft<P;ft++)I[ft]=B;st=-1}W[P]==="B"&&(I[P]=0),L.hiLevel|=B}o&&(function(et,ct,bt){for(var Tt=0;Tt<bt;Tt++)if(et[Tt]==="S"){ct[Tt]=K;for(var Et=Tt-1;Et>=0&&et[Et]==="WS";Et--)ct[Et]=K}})(W,I,gt)},E=function(T,I,L,$,ft){if(!(ft.hiLevel<T)){if(T===1&&K===1&&!s)return I.reverse(),void(L&&L.reverse());for(var P,B,tt,st,gt=I.length,J=0;J<gt;){if($[J]>=T){for(tt=J+1;tt<gt&&$[tt]>=T;)tt++;for(st=J,B=tt-1;st<B;st++,B--)P=I[st],I[st]=I[B],I[B]=P,L&&(P=L[st],L[st]=L[B],L[B]=P);J=tt}J++}}},V=function(T,I,L){var $=T.split(""),ft={hiLevel:K};return L||(L=[]),S($,L,ft),(function(P,B,tt){if(tt.hiLevel!==0&&p)for(var st,gt=0;gt<P.length;gt++)B[gt]===1&&(st=M.indexOf(P[gt]))>=0&&(P[gt]=M[st+1])})($,L,ft),E(2,$,I,L,ft),E(1,$,I,L,ft),$.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,L){if((function(ft,P){if(P)for(var B=0;B<ft.length;B++)P[B]=B;c===void 0&&(c=ut(ft)),d===void 0&&(d=ut(ft))})(T,I),u||!f||d)if(u&&f&&c^d)K=c?1:0,T=z(T,I,L);else if(!u&&f&&d)K=c?1:0,T=V(T,I,L),T=z(T,I);else if(!u||c||f||d){if(u&&!f&&c^d)T=z(T,I),c?(K=0,T=V(T,I,L)):(K=1,T=V(T,I,L),T=z(T,I));else if(u&&c&&!f&&d)K=1,T=V(T,I,L),T=z(T,I);else if(!u&&!f&&c^d){var $=p;c?(K=1,T=V(T,I,L),K=0,p=!1,T=V(T,I,L),p=$):(K=0,T=V(T,I,L),T=z(T,I),K=1,p=!1,T=V(T,I,L),p=$,T=z(T,I))}}else K=0,T=V(T,I,L);else K=c?1:0,T=V(T,I,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(u=T.isInputVisual,f=T.isOutputVisual,c=T.isInputRtl,d=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([e.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([e.doBidiReorder(s[c])]);n.text=u}else n.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(ze),ze.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new ju(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new RL(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new gL(this.contents),this.head=new vL(this),this.name=new AL(this),this.cmap=new BA(this),this.toUnicode={},this.hhea=new bL(this),this.maxp=new EL(this),this.hmtx=new SL(this),this.post=new wL(this),this.os2=new _L(this),this.loca=new CL(this),this.glyf=new TL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var s,o,u,c;for(u=0,o=0,c=(t=""+t).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/e)||0;return u*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r})();var So,ju=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,s;for(s=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,s,o,u,c,f;return t=this.readByte(),e=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*s+16777216*o+65536*u+256*c+f},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,s,o;for(o=[],n=0,s=t.length;n<s;n++)e=t[n],o.push(this.writeByte(e));return o},r})(),gL=(function(){var r;function t(e){var n,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,s,o,u,c,f,d,p,v,w,y,C,D;for(D in y=Object.keys(e).length,f=Math.log(2),v=16*Math.floor(Math.log(y)/f),u=Math.floor(v/f),p=16*y-v,(s=new ju).writeInt(this.scalarType),s.writeShort(y),s.writeShort(v),s.writeShort(u),s.writeShort(p),o=16*y,d=s.pos+o,c=null,C=[],e)for(w=e[D],s.writeString(D),s.writeInt(r(w)),s.writeInt(d),s.writeInt(w.length),C=C.concat(w),D==="head"&&(c=d),d+=w.length;d%4;)C.push(0),d++;return s.write(C),n=2981146554-r(s.data),s.pos=c+8,s.writeUInt32(n),s.data},r=function(e){var n,s,o,u;for(e=UA.call(e);e.length%4;)e.push(0);for(o=new ju(e),s=0,n=0,u=e.length;n<u;n=n+=4)s+=o.readUInt32();return 4294967295&s},t})(),yL={}.hasOwnProperty,al=function(r,t){for(var e in t)yL.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};So=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var vL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new ju).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r})(),zw=(function(){function r(t,e){var n,s,o,u,c,f,d,p,v,w,y,C,D,M,k,G,K;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(y=t.readUInt16(),w=y/2,t.pos+=6,o=(function(){var H,ut;for(ut=[],f=H=0;0<=w?H<w:H>w;f=0<=w?++H:--H)ut.push(t.readUInt16());return ut})(),t.pos+=2,D=(function(){var H,ut;for(ut=[],f=H=0;0<=w?H<w:H>w;f=0<=w?++H:--H)ut.push(t.readUInt16());return ut})(),d=(function(){var H,ut;for(ut=[],f=H=0;0<=w?H<w:H>w;f=0<=w?++H:--H)ut.push(t.readUInt16());return ut})(),p=(function(){var H,ut;for(ut=[],f=H=0;0<=w?H<w:H>w;f=0<=w?++H:--H)ut.push(t.readUInt16());return ut})(),s=(this.length-t.pos+this.offset)/2,c=(function(){var H,ut;for(ut=[],f=H=0;0<=s?H<s:H>s;f=0<=s?++H:--H)ut.push(t.readUInt16());return ut})(),f=k=0,K=o.length;k<K;f=++k)for(M=o[f],n=G=C=D[f];C<=M?G<=M:G>=M;n=C<=M?++G:--G)p[f]===0?u=n+d[f]:(u=c[p[f]/2+(n-C)-(w-f)]||0)!==0&&(u+=d[f]),this.codeMap[n]=65535&u}t.pos=v}return r.encode=function(t,e){var n,s,o,u,c,f,d,p,v,w,y,C,D,M,k,G,K,H,ut,Z,z,S,E,V,T,I,L,$,ft,P,B,tt,st,gt,J,O,Q,W,et,ct,bt,Tt,Et,Mt,$t,te;switch($=new ju,u=Object.keys(t).sort(function(le,fe){return le-fe}),e){case"macroman":for(D=0,M=(function(){var le=[];for(C=0;C<256;++C)le.push(0);return le})(),G={0:0},o={},ft=0,st=u.length;ft<st;ft++)G[Et=t[s=u[ft]]]==null&&(G[Et]=++D),o[s]={old:t[s],new:G[t[s]]},M[s]=G[t[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(M),{charMap:o,subtable:$.data,maxGlyphID:D+1};case"unicode":for(I=[],v=[],K=0,G={},n={},k=d=null,P=0,gt=u.length;P<gt;P++)G[ut=t[s=u[P]]]==null&&(G[ut]=++K),n[s]={old:ut,new:G[ut]},c=G[ut]-s,k!=null&&c===d||(k&&v.push(k),I.push(s),d=c),k=s;for(k&&v.push(k),v.push(65535),I.push(65535),V=2*(E=I.length),S=2*Math.pow(Math.log(E)/Math.LN2,2),w=Math.log(S/2)/Math.LN2,z=2*E-S,f=[],Z=[],y=[],C=B=0,J=I.length;B<J;C=++B){if(T=I[C],p=v[C],T===65535){f.push(0),Z.push(0);break}if(T-(L=n[T].new)>=32768)for(f.push(0),Z.push(2*(y.length+E-C)),s=tt=T;T<=p?tt<=p:tt>=p;s=T<=p?++tt:--tt)y.push(n[s].new);else f.push(L-T),Z.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*E+2*y.length),$.writeUInt16(0),$.writeUInt16(V),$.writeUInt16(S),$.writeUInt16(w),$.writeUInt16(z),bt=0,O=v.length;bt<O;bt++)s=v[bt],$.writeUInt16(s);for($.writeUInt16(0),Tt=0,Q=I.length;Tt<Q;Tt++)s=I[Tt],$.writeUInt16(s);for(Mt=0,W=f.length;Mt<W;Mt++)c=f[Mt],$.writeUInt16(c);for($t=0,et=Z.length;$t<et;$t++)H=Z[$t],$.writeUInt16(H);for(te=0,ct=y.length;te<ct;te++)D=y[te],$.writeUInt16(D);return{charMap:n,subtable:$.data,maxGlyphID:K+1}}},r})(),BA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)e=new zw(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var n,s;return e==null&&(e="macroman"),n=zw.encode(t,e),(s=new ju).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},r})(),bL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r})(),_L=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n})(),this.charRange=(function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r})(),wL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="post",r.prototype.parse=function(t){var e,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},r})(),xL=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},AL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="name",r.prototype.parse=function(t){var e,n,s,o,u,c,f,d,p,v,w;for(t.pos=this.offset,t.readShort(),e=t.readShort(),c=t.readShort(),n=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=p=0,v=n.length;p<v;o=++p)s=n[o],t.pos=s.offset,d=t.readString(s.length),u=new xL(d,s),f[w=s.nameID]==null&&(f[w]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),EL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r})(),SL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,n,s,o,u,c,f;for(t.pos=this.offset,this.metrics=[],e=0,c=this.file.hhea.numberOfMetrics;0<=c?e<c:e>c;e=0<=c?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)p.push(t.readInt16());return p})(),this.widths=(function(){var d,p,v,w;for(w=[],d=0,p=(v=this.metrics).length;d<p;d++)o=v[d],w.push(o.advance);return w}).call(this),n=this.widths[this.widths.length-1],f=[],e=u=0;0<=s?u<s:u>s;e=0<=s?++u:--u)f.push(this.widths.push(n));return f},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r})(),UA=[].slice,TL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,n,s,o,u,c,f,d,p,v;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,n=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,u=(c=new ju(e.read(s))).readShort(),d=c.readShort(),v=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[t]=u===-1?new IL(c,d,v,f,p):new NL(c,u,d,v,f,p),this.cache[t]))},r.prototype.encode=function(t,e,n){var s,o,u,c,f;for(u=[],o=[],c=0,f=e.length;c<f;c++)s=t[e[c]],o.push(u.length),s&&(u=u.concat(s.encode(n)));return o.push(u.length),{table:u,offsets:o}},r})(),NL=(function(){function r(t,e,n,s,o,u){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),IL=(function(){function r(t,e,n,s,o){var u,c;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new ju(UA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),CL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return al(r,So),r.prototype.tag="loca",r.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(t.readUInt32());return o}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<n.length;++u)if(n[u]=s,o<e.length&&e[o]==u){++o,n[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*n.length),p=0;p<n.length;++p)d[4*p+3]=255&n[p],d[4*p+2]=(65280&n[p])>>8,d[4*p+1]=(16711680&n[p])>>16,d[4*p]=(4278190080&n[p])>>24;return d},r})(),RL=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[e],t[e]=s[n];return t},r.prototype.glyphsFor=function(t){var e,n,s,o,u,c,f;for(s={},u=0,c=t.length;u<c;u++)s[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(n=s[o])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))n=f[o],s[o]=n;return s},r.prototype.encode=function(t,e){var n,s,o,u,c,f,d,p,v,w,y,C,D,M,k;for(s in n=BA.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),y={0:0},k=n.charMap)y[(f=k[s]).old]=f.new;for(C in w=n.maxGlyphID,u)C in y||(y[C]=w++);return p=(function(G){var K,H;for(K in H={},G)H[G[K]]=K;return H})(y),v=Object.keys(p).sort(function(G,K){return G-K}),D=(function(){var G,K,H;for(H=[],G=0,K=v.length;G<K;G++)c=v[G],H.push(p[c]);return H})(),o=this.font.glyf.encode(u,D,y),d=this.font.loca.encode(o.offsets,D),M={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},r})();ze.API.PDFObject=(function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,s,o,u;if(Array.isArray(e))return"["+(function(){var c,f,d;for(d=[],c=0,f=e.length;c<f;c++)n=e[c],d.push(t.convert(n));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)u=e[s],o.push("/"+s+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();const LL=({customer:r,onUpdate:t})=>{var se,Ae,de,we;const[e,n]=Re.useState(null),[s,o]=Re.useState(""),[u,c]=Re.useState(!1),[f,d]=Re.useState(null),[p,v]=Re.useState(null),[w,y]=Re.useState(""),[C,D]=Re.useState(""),[M,k]=Re.useState(""),[G,K]=Re.useState(""),[H,ut]=Re.useState(""),[Z,z]=Re.useState("TEN"),[S,E]=Re.useState(!1),[V,T]=Re.useState(null),[I,L]=Re.useState(null),[$,ft]=Re.useState(null),[P,B]=Re.useState(""),[tt,st]=Re.useState(null),[gt,J]=Re.useState(null),[O,Q]=Re.useState("");Re.useRef(null);const W=Re.useRef({});Re.useEffect(()=>{if(!r.meetings){t({...r,meetings:[]});return}e===null&&r.meetings.length>0&&n(r.meetings[r.meetings.length-1].id)},[r.meetings]);const et=(se=r.meetings)==null?void 0:se.find(yt=>yt.id===e);Re.useEffect(()=>{et&&L(et)},[et==null?void 0:et.id]);const ct=I||et,bt=()=>{const yt=r.meetings?r.meetings.length+1:1,ne={id:Wg(),round:yt,date:"",properties:[],createdAt:Date.now()};L(ne),n(ne.id),t({...r,meetings:[...r.meetings||[],ne]})},Tt=(yt,ne)=>{yt.stopPropagation(),st(ne)},Et=()=>{if(!tt)return;const yt=tt,Vt=r.meetings.filter(Ft=>Ft.id!==yt).map((Ft,ie)=>({...Ft,round:ie+1}));if(e===yt){const Ft=Vt.length>0?Vt[Vt.length-1].id:null;n(Ft),L(Vt.find(ie=>ie.id===Ft)||null)}t({...r,meetings:Vt}),st(null)},Mt=()=>{st(null)},$t=yt=>{if(!ct)return;const ne=yt.target.value,Vt={...ct,date:ne};L(Vt),t({...r,meetings:r.meetings.map(Ft=>Ft.id===ct.id?Vt:Ft)})},te=(yt,ne)=>{const Vt=(r.meetings||[]).map(Ft=>Ft.id===yt?{...Ft,...ne}:Ft);t({...r,meetings:Vt})},le=()=>{if(!s.trim()&&!H.trim()||!ct||!w&&!C&&!M&&!G&&!window.confirm("   .  ?"))return;let yt;if(f)yt=ct.properties.map(Vt=>Vt.id===f?{...Vt,rawInput:H||s,roomName:w,jibun:C,agency:M,agencyPhone:G,parsedText:H||s}:Vt);else{const Vt={id:Wg(),rawInput:H||s,roomName:w,jibun:C,agency:M,agencyPhone:G,photos:[],parsedText:H||s};yt=[...ct.properties,Vt]}const ne={...ct,properties:yt};L(ne),t({...r,meetings:r.meetings.map(Vt=>Vt.id===ct.id?ne:Vt)}),o(""),y(""),D(""),k(""),K(""),ut(""),c(!1),d(null)},fe=(yt,ne,Vt)=>{if(!ct)return;const Ft=ct.properties.map(ce=>ce.id===yt?{...ce,[ne]:Vt}:ce),ie={...ct,properties:Ft};L(ie),t({...r,meetings:r.meetings.map(ce=>ce.id===ct.id?ie:ce)})},lt=(yt,ne)=>{fe(yt,ne,O),J(null),Q("")},ee=()=>{if(!s.trim()){alert("  .");return}try{const yt=Xx(s,Z);y(yt.roomName),D(yt.jibun),k(yt.agency),K(yt.agencyPhone);const ne=F7(s,Z);ut(ne),o("");const Vt=[yt.roomName,yt.jibun,yt.agency,yt.agencyPhone].filter(ie=>ie).length;Vt===0?alert(`${Z==="TEN"?"()":Z==="TEN_COMMERCIAL"?"()":""}   .
  .`):Vt<4&&alert(`${Vt}/4   .
   .`)}catch(yt){console.error(" :",yt),alert("    .  .")}},xe=async yt=>{const ne=V,Vt=ct;if(console.log(" handlePhotoUpload called with",yt.length,"files"),console.log(" propId:",ne),console.log(" meeting:",Vt==null?void 0:Vt.id),!ne){console.error(" propId is not set"),alert("  .");return}if(!Vt){console.error(" meeting is not set"),alert("  .");return}const Ft=Vt.properties.find(Wt=>Wt.id===ne);if(console.log(" currentProp found:",!!Ft),!Ft){console.error(" currentProp not found for id:",ne),alert("    .");return}const ie=4-Ft.photos.length;if(console.log(" remainingSlots:",ie,"currentPhotos:",Ft.photos.length),ie<=0){alert("  4  .");return}const ce=[],me=[];for(const Wt of yt)console.log(` File check: ${Wt.name}, type: ${Wt.type}, size: ${(Wt.size/1024/1024).toFixed(2)}MB`),Wt.type.startsWith("image/")?ce.push(Wt):me.push(Wt.name);if(me.length>0&&alert(`   : ${me.join(", ")}`),ce.length===0){console.warn(" No valid image files");return}const Ne=ce.slice(0,ie);console.log(` Processing ${Ne.length} valid files`);try{console.log(` Compressing ${Ne.length} image(s)...`);const Wt=[],ye=Ne.map(async ve=>{try{console.log(` Processing: ${ve.name}`);const rn=await f7(ve);return console.log(` ${ve.name} compressed successfully`),rn}catch(rn){throw console.error(` Error processing ${ve.name}:`,rn),rn}});try{const ve=await Promise.allSettled(ye);for(const rn of ve)if(rn.status==="fulfilled")Wt.push(rn.value);else{const je=rn.reason;console.error(" Compression failed:",je),alert(`  : ${je instanceof Error?je.message:"   "}`)}}catch(ve){console.error(" Error in compression:",ve)}if(Wt.length===0){console.warn("   ."),alert("   .  .");return}console.log(`   : ${Wt.length}  `);const be=[...Ft.photos,...Wt],Qe={...Vt,properties:Vt.properties.map(ve=>ve.id===ne?{...ve,photos:be}:ve)};L(Qe),console.log(` Updated photos count: ${be.length}`),console.log(" Saving to Firebase in background..."),te(Vt.id,{properties:Vt.properties.map(ve=>ve.id===ne?{...ve,photos:be}:ve)}),console.log(` ${Wt.length}  .`),T(null)}catch(Wt){console.error("    :",Wt),alert("    ."),T(null)}},he=(yt,ne)=>{if(!ct)return;const Vt=ct.properties.find(ce=>ce.id===yt);if(!Vt)return;const Ft=Vt.photos.filter((ce,me)=>me!==ne),ie={...ct,properties:ct.properties.map(ce=>ce.id===yt?{...ce,photos:Ft}:ce)};L(ie),te(ct.id,{properties:ct.properties.map(ce=>ce.id===yt?{...ce,photos:Ft}:ce)})},Bt=yt=>{if(!ct)return;const ne=ct.properties.map(Ft=>Ft.id===yt?{...Ft,memo:P}:Ft),Vt={...ct,properties:ne};L(Vt),t({...r,meetings:r.meetings.map(Ft=>Ft.id===ct.id?Vt:Ft)}),ft(null),B("")},ue=async()=>{if(!ct||ct.properties.length===0){alert("  .");return}try{const yt=new ze("p","mm","a4"),ne=yt.internal.pageSize.getWidth(),Vt=yt.internal.pageSize.getHeight(),Ft=10;let ie=!0;const ce=[...ct.properties].sort((Ne,Wt)=>{const ye=Ne.visitTime||"99:99",be=Wt.visitTime||"99:99";return ye.localeCompare(be)});for(const Ne of ce){ie||yt.addPage(),ie=!1;let Wt=Ft;if(Ne.roomName&&(yt.setFontSize(14),yt.setFont(void 0,"bold"),yt.text(`: ${Ne.roomName}`,Ft,Wt),Wt+=8),yt.setFontSize(10),yt.setFont(void 0,"normal"),Ne.unit&&(yt.text(`: ${Ne.unit}`,Ft,Wt),Wt+=6),Ne.jibun&&(yt.text(`: ${Ne.jibun}`,Ft,Wt),Wt+=6),Ne.agency&&(yt.text(`: ${Ne.agency}`,Ft,Wt),Wt+=6),Ne.agencyPhone&&(yt.text(`: ${Ne.agencyPhone}`,Ft,Wt),Wt+=6),Ne.visitTime&&(yt.text(`: ${Ne.visitTime}`,Ft,Wt),Wt+=6),Ne.status&&(yt.text(`: ${Ne.status}`,Ft,Wt),Wt+=6),Wt+=4,yt.setDrawColor(200),yt.line(Ft,Wt,ne-Ft,Wt),Wt+=6,Ne.parsedText){yt.setFont(void 0,"bold"),yt.setFontSize(11),yt.text(":",Ft,Wt),Wt+=6,yt.setFont(void 0,"normal"),yt.setFontSize(10);const ye=yt.splitTextToSize(Ne.parsedText,ne-Ft*2);for(let be=0;be<ye.length;be++)Wt+5>Vt-Ft&&(yt.addPage(),Wt=Ft),yt.text(ye[be],Ft,Wt),Wt+=5}if(Wt+=4,Ne.memo){yt.setFont(void 0,"bold"),yt.setFontSize(11),yt.text(":",Ft,Wt),Wt+=6,yt.setFont(void 0,"normal"),yt.setFontSize(10);const ye=yt.splitTextToSize(Ne.memo,ne-Ft*2);for(let be=0;be<ye.length;be++)Wt+5>Vt-Ft&&(yt.addPage(),Wt=Ft),yt.text(ye[be],Ft,Wt),Wt+=5}if(Wt+=4,Ne.photos&&Ne.photos.length>0){yt.setFont(void 0,"bold"),yt.setFontSize(11),yt.text(` (${Ne.photos.length}):`,Ft,Wt),Wt+=8;const ye=ne-Ft*2,be=60;for(const Qe of Ne.photos){Wt+be>Vt-Ft&&(yt.addPage(),Wt=Ft);try{yt.addImage(Qe,"JPEG",Ft,Wt,ye,be),Wt+=be+4}catch(ve){console.error("  :",ve)}}}}const me=`${r.name}_${ct.round}_.pdf`;yt.save(me)}catch(yt){console.error("PDF  :",yt),alert("PDF    .")}};return F.jsxs(F.Fragment,{children:[F.jsx(B7,{isOpen:S,onClose:()=>{E(!1),T(null)},onPhotoCapture:xe}),F.jsxs("div",{className:"flex flex-col h-full bg-white overflow-hidden",children:[F.jsx("div",{className:"p-4 bg-white border-b shrink-0",children:F.jsxs("div",{className:"flex overflow-x-auto space-x-2 pb-1 no-scrollbar items-center",children:[F.jsx("button",{onClick:bt,className:"flex-shrink-0 px-4 py-2 rounded border-2 border-gray-900 bg-yellow-300 text-gray-900 font-bold text-sm hover:bg-yellow-400 transition-colors",children:""}),(Ae=r.meetings)==null?void 0:Ae.map(yt=>F.jsxs("div",{onClick:()=>n(yt.id),className:`flex-shrink-0 px-4 py-2 rounded-full border text-sm cursor-pointer whitespace-nowrap flex items-center gap-2 transition-all ${e===yt.id?"bg-primary border-primary text-white shadow-md":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[F.jsxs("span",{className:"font-bold",children:[yt.round,""]}),F.jsx("button",{onClick:ne=>Tt(ne,yt.id),className:`ml-1 w-4 h-4 rounded-full flex items-center justify-center hover:bg-red-500 hover:text-white ${e===yt.id?"text-blue-200":"text-gray-300"}`,children:F.jsx("i",{className:"fas fa-times text-[10px]"})})]},yt.id))]})}),F.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:ct?F.jsxs("div",{className:"space-y-6",children:[F.jsxs("div",{className:"flex gap-2 items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[F.jsxs("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:[F.jsx("i",{className:"far fa-calendar-alt mr-2 text-primary"}),""]}),F.jsx("input",{type:"datetime-local",value:ct.date,onChange:$t,className:"w-48 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-primary focus:border-primary"}),F.jsx("div",{className:"flex-1"}),F.jsxs("button",{onClick:()=>ue(),disabled:!(ct!=null&&ct.properties)||ct.properties.length===0,className:"flex-shrink-0 px-3 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-bold text-sm",title:"  ",children:[F.jsx("i",{className:"fas fa-file-pdf mr-1"}),""]}),!u&&F.jsx("button",{onClick:()=>c(!0),className:"flex-shrink-0 px-3 py-2 bg-primary text-white rounded hover:bg-blue-600 transition-colors font-bold text-sm",title:" ",children:F.jsx("i",{className:"fas fa-plus"})})]}),u&&F.jsxs("div",{className:"bg-white border border-primary rounded-lg p-4 shadow-md",children:[F.jsxs("div",{className:"flex justify-between items-center mb-3",children:[F.jsx("h3",{className:"font-bold text-sm text-primary",children:""}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsxs("div",{className:"flex border border-gray-300 rounded overflow-hidden text-xs",children:[F.jsx("button",{onClick:()=>z("TEN"),className:`px-3 py-1.5 transition-colors ${Z==="TEN"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"()"}),F.jsx("button",{onClick:()=>z("TEN_COMMERCIAL"),className:`px-3 py-1.5 transition-colors border-l border-gray-300 ${Z==="TEN_COMMERCIAL"?"bg-purple-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"()"}),F.jsx("button",{onClick:()=>z("NAVER"),className:`px-3 py-1.5 transition-colors border-l border-gray-300 ${Z==="NAVER"?"bg-green-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:""})]}),F.jsx("button",{onClick:ee,className:"px-3 py-1.5 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-xs flex items-center gap-1",children:""})]})]}),!H&&F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),F.jsx("textarea",{autoFocus:!0,className:"w-full border p-2 rounded h-24 focus:outline-none focus:ring-1 focus:ring-primary text-sm",placeholder:"TEN, ,    ...",value:s,onChange:yt=>o(yt.target.value)})]}),H&&F.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[F.jsx("label",{className:"block text-xs font-bold text-primary mb-2",children:" "}),F.jsx("textarea",{className:"w-full border p-2 rounded h-32 bg-white focus:outline-none focus:ring-1 focus:ring-primary text-sm font-mono",value:H,onChange:yt=>ut(yt.target.value),readOnly:!1})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),F.jsx("input",{type:"text",className:"w-full border p-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"  ",value:w,onChange:yt=>y(yt.target.value)})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),F.jsx("input",{type:"text",className:"w-full border p-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"  ",value:C,onChange:yt=>D(yt.target.value)})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),F.jsx("input",{type:"text",className:"w-full border p-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"  ",value:M,onChange:yt=>k(yt.target.value)})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),F.jsx("input",{type:"text",className:"w-full border p-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"  ",value:G,onChange:yt=>K(yt.target.value)})]})]}),F.jsxs("div",{className:"flex justify-end gap-2",children:[F.jsx("button",{onClick:()=>{c(!1),o(""),y(""),D(""),k(""),K(""),ut(""),d(null)},className:"px-3 py-1.5 text-gray-600 hover:bg-gray-100 rounded text-sm",children:""}),F.jsx("button",{onClick:le,className:"px-4 py-1.5 bg-primary text-white rounded hover:bg-blue-600 text-sm",children:f?"":""})]})]}),(ct==null?void 0:ct.properties)&&ct.properties.length>0&&F.jsxs("div",{className:"mt-6",children:[F.jsxs("h3",{className:"font-bold text-sm text-primary mb-3",children:["  (",ct.properties.length,")"]}),F.jsx("div",{className:"space-y-3",children:ct.properties.slice().sort((yt,ne)=>{const Vt=yt.visitTime||"99:99",Ft=ne.visitTime||"99:99";return Vt.localeCompare(Ft)}).map((yt,ne)=>F.jsxs("div",{className:"p-4 bg-gray-50 border border-black rounded-lg",children:[F.jsxs("div",{className:"flex gap-1 md:gap-3 mb-4 items-center",children:[F.jsxs("div",{className:"flex gap-1 md:gap-2 items-center",children:[F.jsx("span",{className:"text-xs text-gray-600 font-bold whitespace-nowrap hidden sm:inline",children:":"}),F.jsxs("select",{value:yt.visitTime?yt.visitTime.split(":")[0]:"",onChange:Vt=>{const Ft=Vt.target.value||"00",ie=yt.visitTime?yt.visitTime.split(":")[1]:"00";fe(yt.id,"visitTime",`${Ft}:${ie}`)},className:"w-12 sm:w-16 px-1 sm:px-2 py-1 border border-gray-300 rounded text-xs text-center focus:outline-none focus:ring-1 focus:ring-primary",children:[F.jsx("option",{value:"",children:""}),Array.from({length:24},(Vt,Ft)=>F.jsx("option",{value:String(Ft).padStart(2,"0"),children:String(Ft).padStart(2,"0")},Ft))]}),F.jsxs("select",{value:yt.visitTime?yt.visitTime.split(":")[1]:"",onChange:Vt=>{const Ft=yt.visitTime?yt.visitTime.split(":")[0]:"00",ie=Vt.target.value||"00";fe(yt.id,"visitTime",`${Ft}:${ie}`)},className:"w-12 sm:w-16 px-1 sm:px-2 py-1 border border-gray-300 rounded text-xs text-center focus:outline-none focus:ring-1 focus:ring-primary",children:[F.jsx("option",{value:"",children:""}),Array.from({length:60},(Vt,Ft)=>F.jsx("option",{value:String(Ft).padStart(2,"0"),children:String(Ft).padStart(2,"0")},Ft))]})]}),F.jsxs("select",{value:yt.status||"",onChange:Vt=>{fe(yt.id,"status",Vt.target.value)},className:"px-1 sm:px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-primary",children:[F.jsx("option",{value:"",children:""}),F.jsx("option",{value:"",children:""}),F.jsx("option",{value:"",children:""}),F.jsx("option",{value:"",children:""})]}),F.jsx("div",{className:"flex-1"}),F.jsx("button",{onClick:()=>{if(window.confirm("  ?")&&ct){const Vt=ct.properties.filter(ie=>ie.id!==yt.id),Ft={...ct,properties:Vt};L(Ft),t({...r,meetings:r.meetings.map(ie=>ie.id===ct.id?Ft:ie)})}},className:"px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 font-bold whitespace-nowrap",children:""})]}),yt.parsedText&&F.jsx("div",{className:"mb-4",children:gt===`${yt.id}-parsedText`?F.jsx("textarea",{autoFocus:!0,className:"w-full border border-gray-300 rounded px-2 py-1 focus:ring-1 focus:ring-primary outline-none text-sm font-semibold",value:O,onChange:Vt=>Q(Vt.target.value),onBlur:()=>lt(yt.id,"parsedText"),onKeyDown:Vt=>{Vt.key==="Enter"&&Vt.ctrlKey&&lt(yt.id,"parsedText"),Vt.key==="Escape"&&(J(null),Q(""))},rows:4,placeholder:"  ..."}):F.jsx("div",{className:"p-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{J(`${yt.id}-parsedText`),Q(yt.parsedText||"")},title:" ",children:F.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm font-semibold",children:yt.parsedText})})}),F.jsx("div",{className:"mb-4",children:F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-gray-600 font-bold whitespace-nowrap",children:":"}),gt===`${yt.id}-roomName`?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border border-blue-300 rounded px-2 py-1 focus:ring-1 focus:ring-primary outline-none text-xs",value:O,onChange:Vt=>Q(Vt.target.value),onBlur:()=>lt(yt.id,"roomName"),onKeyDown:Vt=>{Vt.key==="Enter"&&lt(yt.id,"roomName"),Vt.key==="Escape"&&(J(null),Q(""))}}):F.jsx("div",{className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs cursor-pointer hover:bg-blue-50 min-h-[28px] flex items-center",onDoubleClick:()=>{J(`${yt.id}-roomName`),Q(yt.roomName||"")},title:" ",children:yt.roomName||"()"})]})}),F.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-4",children:[F.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-gray-600 font-bold whitespace-nowrap",children:":"}),p===yt.id?F.jsx("input",{autoFocus:!0,type:"text",value:yt.unit||"",onChange:Vt=>fe(yt.id,"unit",Vt.target.value),onBlur:()=>v(null),onKeyDown:Vt=>Vt.key==="Enter"&&v(null),className:"flex-1 px-2 py-1 border border-blue-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-primary"}):F.jsx("div",{onDoubleClick:()=>v(yt.id),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs cursor-pointer hover:bg-blue-50 min-h-[28px] flex items-center",children:yt.unit||"()"})]}),F.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-gray-600 font-bold whitespace-nowrap",children:":"}),gt===`${yt.id}-jibun`?F.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 border rounded px-2 py-1 focus:ring-1 focus:ring-primary outline-none text-xs",value:O,onChange:Vt=>Q(Vt.target.value),onBlur:()=>lt(yt.id,"jibun"),onKeyDown:Vt=>{Vt.key==="Enter"&&lt(yt.id,"jibun"),Vt.key==="Escape"&&(J(null),Q(""))}}):F.jsx("span",{className:"flex-1 font-semibold cursor-pointer hover:bg-yellow-100 px-1 rounded inline-block text-xs py-1",onDoubleClick:()=>{J(`${yt.id}-jibun`),Q(yt.jibun||"")},title:" ",children:yt.jibun||""}),yt.jibun&&F.jsx("button",{onClick:()=>{const Vt=`https://map.kakao.com/?q=${encodeURIComponent(yt.jibun)}`;window.open(Vt,"_blank")},className:"px-2 py-1 bg-yellow-400 text-black rounded text-xs hover:bg-yellow-500 font-bold flex-shrink-0",children:""})]})]}),F.jsx("div",{className:"mb-3",children:F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[F.jsxs("div",{children:[F.jsx("span",{className:"text-gray-600",children:":"}),gt===`${yt.id}-agency`?F.jsx("input",{autoFocus:!0,type:"text",className:"border rounded px-2 py-1 ml-1 focus:ring-1 focus:ring-primary outline-none text-sm",value:O,onChange:Vt=>Q(Vt.target.value),onBlur:()=>lt(yt.id,"agency"),onKeyDown:Vt=>{Vt.key==="Enter"&&lt(yt.id,"agency"),Vt.key==="Escape"&&(J(null),Q(""))}}):F.jsx("span",{className:"font-semibold cursor-pointer hover:bg-blue-100 px-1 rounded inline-block",onDoubleClick:()=>{J(`${yt.id}-agency`),Q(yt.agency||"")},title:" ",children:yt.agency||""})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-gray-600",children:":"}),gt===`${yt.id}-agencyPhone`?F.jsx("input",{autoFocus:!0,type:"text",className:"border rounded px-2 py-1 focus:ring-1 focus:ring-primary outline-none text-sm flex-1",value:O,onChange:Vt=>Q(Vt.target.value),onBlur:()=>lt(yt.id,"agencyPhone"),onKeyDown:Vt=>{Vt.key==="Enter"&&lt(yt.id,"agencyPhone"),Vt.key==="Escape"&&(J(null),Q(""))}}):F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"flex-1",children:yt.agencyPhone&&cE(yt.agencyPhone)?F.jsx("a",{href:fE(yt.agencyPhone),className:"font-semibold text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",title:" SMS ",onClick:Vt=>Vt.stopPropagation(),children:yt.agencyPhone}):F.jsx("span",{className:"font-semibold text-gray-800",children:yt.agencyPhone||""})}),F.jsxs("button",{onClick:()=>{J(`${yt.id}-agencyPhone`),Q(yt.agencyPhone||"")},className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 text-gray-600 rounded whitespace-nowrap",title:" ",children:[F.jsx("i",{className:"fas fa-edit mr-1"}),""]})]})]})]})}),F.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:$===yt.id?F.jsx("textarea",{autoFocus:!0,className:"w-full border rounded px-2 py-1 mt-1 focus:ring-1 focus:ring-primary outline-none text-sm",value:P,onChange:Vt=>B(Vt.target.value),onBlur:()=>Bt(yt.id),onKeyDown:Vt=>{Vt.key==="Enter"&&Vt.ctrlKey&&Bt(yt.id)},rows:3,placeholder:" ..."}):F.jsx("div",{onDoubleClick:()=>{ft(yt.id),B(yt.memo||"")},className:"w-full border rounded px-2 py-1 mt-1 min-h-[60px] bg-gray-50 whitespace-pre-wrap text-sm cursor-pointer hover:bg-gray-100",children:yt.memo||"( )"})}),F.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[F.jsxs("div",{className:"flex justify-between items-center mb-2",children:[F.jsxs("span",{className:"text-xs font-semibold text-gray-600",children:[" (",yt.photos.length,"/4)"]}),yt.photos.length<4&&F.jsxs("button",{onClick:()=>{T(yt.id),E(!0)},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 flex items-center gap-1 font-semibold",children:[F.jsx("i",{className:"fas fa-camera"}),""]})]}),yt.photos.length>0?F.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:yt.photos.map((Vt,Ft)=>F.jsxs("div",{className:"relative aspect-square bg-gray-200 rounded overflow-hidden group border border-gray-300",children:[F.jsx("img",{src:Vt,alt:`photo-${Ft}`,className:"w-full h-full object-cover"}),F.jsx("button",{onClick:()=>he(yt.id,Ft),className:"absolute top-1 right-1 bg-red-500 text-white w-5 h-5 flex items-center justify-center text-xs rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:""})]},Ft))}):F.jsx("div",{className:"py-4 text-center text-gray-400 text-xs",children:' .  ""  .'})]})]},yt.id))})]})]}):F.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[F.jsx("i",{className:"fas fa-handshake text-4xl mb-2 opacity-20"}),F.jsx("p",{children:"  ."}),F.jsx("p",{className:"text-sm",children:" '+ '    ."})]})})]}),F.jsx("div",{style:{display:"none"},children:ct==null?void 0:ct.properties.map((yt,ne)=>F.jsxs("div",{ref:Vt=>{Vt&&(W.current[yt.id]=Vt)},style:{width:"210mm",minHeight:"297mm",padding:"20mm",backgroundColor:"white"},children:[F.jsx("div",{className:"mb-6",children:F.jsxs("h1",{className:"text-2xl font-bold text-primary",children:[" #",ne+1]})}),F.jsx("div",{className:"mb-6 pb-6 border-b border-gray-300",children:F.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-gray-500 font-semibold mb-2",children:""}),F.jsx("p",{className:"text-lg font-bold text-gray-800",children:yt.roomName||""})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-gray-500 font-semibold mb-2",children:""}),F.jsx("p",{className:"text-lg font-bold text-gray-800",children:yt.jibun||""})]})]})}),yt.parsedText&&F.jsxs("div",{className:"mb-6",children:[F.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:""}),F.jsx("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:F.jsx("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed text-sm font-medium",children:yt.parsedText})})]}),yt.memo&&F.jsxs("div",{className:"mb-6",children:[F.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:""}),F.jsx("div",{className:"bg-blue-50 p-4 rounded border border-blue-200",children:F.jsx("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed text-sm",children:yt.memo})})]}),yt.photos.length>0&&F.jsxs("div",{children:[F.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),F.jsx("div",{className:"grid grid-cols-2 gap-4",children:yt.photos.map((Vt,Ft)=>F.jsx("div",{className:"aspect-square bg-gray-100 rounded overflow-hidden border border-gray-300",children:F.jsx("img",{src:Vt,className:"w-full h-full object-cover",alt:`property-photo-${Ft}`})},Ft))})]})]},yt.id))}),tt&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm",children:[F.jsxs("div",{className:"p-6",children:[F.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),F.jsxs("p",{className:"text-gray-600 mb-2",children:[F.jsxs("span",{className:"font-semibold",children:[(we=(de=r.meetings)==null?void 0:de.find(yt=>yt.id===tt))==null?void 0:we.round," "]}),"  ?"]}),F.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),F.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-2 bg-gray-50 rounded-b-lg",children:[F.jsx("button",{onClick:Mt,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:""}),F.jsx("button",{onClick:Et,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},DL=({customer:r,onUpdate:t})=>{const[e,n]=Re.useState(null),[s,o]=Re.useState("VIEW"),[u,c]=Re.useState(""),[f,d]=Re.useState(null),[p,v]=Re.useState(""),w=[];r.registrationDate&&w.push({id:`registration-${r.id}`,type:"REGISTRATION",date:new Date(r.registrationDate),title:" ",originalItem:null}),r.checklists.forEach(G=>{w.push({id:G.id,type:"CHECKLIST",date:new Date(G.createdAt),title:G.text,originalItem:G})}),r.meetings&&r.meetings.forEach(G=>{const K=G.date?new Date(G.date):new Date(G.createdAt);w.push({id:G.id,type:"MEETING",date:K,title:`${G.round}  ${G.date?new Date<new Date(G.date)?"()":"()":"( )"}`,subText:` ${G.properties.length}`,originalItem:G})}),w.sort((G,K)=>K.date.getTime()-G.date.getTime());const y={};w.forEach(G=>{const K=G.date.toLocaleDateString();y[K]||(y[K]=[]),y[K].push(G)});const C=G=>{n(G),c(G.memo),o(G.memo?"VIEW":"EDIT")},D=()=>{if(e){const G=r.checklists.map(K=>K.id===e.id?{...K,memo:u}:K);t({...r,checklists:G}),n({...e,memo:u}),o("VIEW")}},M=G=>{d(G.id),v(G.text)},k=()=>{if(f){const G=r.checklists.map(K=>K.id===f?{...K,text:p}:K);t({...r,checklists:G}),d(null)}};return F.jsxs("div",{className:"h-full bg-white p-4 overflow-y-auto custom-scrollbar",children:[F.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[F.jsx("i",{className:"fas fa-history mr-2 text-primary"}),"  (History)"]}),Object.keys(y).length===0?F.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[F.jsx("i",{className:"fas fa-stream text-4xl mb-2 opacity-20"}),F.jsx("p",{children:"  ."})]}):F.jsxs("div",{className:"relative pl-2 md:pl-4",children:[F.jsx("div",{className:"absolute left-[19px] top-2 bottom-0 w-0.5 bg-gray-200"}),Object.entries(y).map(([G,K])=>F.jsxs("div",{className:"mb-8 relative",children:[F.jsxs("div",{className:"flex items-center mb-4 relative z-10",children:[F.jsx("div",{className:"w-4 h-4 rounded-full bg-primary border-4 border-white shadow-sm shrink-0 mr-3 box-content"}),F.jsx("span",{className:"bg-gray-100 text-gray-700 font-bold px-3 py-1 rounded-full text-sm shadow-sm border border-gray-200",children:G})]}),F.jsx("div",{className:"space-y-3 pl-10",children:K.map(H=>{const ut=H.type==="MEETING",Z=H.type==="REGISTRATION",z=H.type==="CHECKLIST"?H.originalItem:null;return F.jsxs("div",{className:`border rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow relative group ${ut?"bg-blue-50 border-blue-200":Z?"bg-green-50 border-green-200":"bg-white border-gray-200"}`,children:[F.jsx("div",{className:`absolute -left-6 top-5 w-4 h-px ${ut?"bg-blue-300":Z?"bg-green-300":"bg-gray-200"}`}),F.jsx("div",{className:`absolute -left-[23px] top-[18px] w-1.5 h-1.5 rounded-full ${ut?"bg-blue-500":Z?"bg-green-500":"bg-gray-300"}`}),F.jsxs("div",{className:"flex justify-between items-start gap-2",children:[F.jsxs("div",{className:"flex-1",onDoubleClick:()=>H.type==="CHECKLIST"&&M(z),children:[H.type==="CHECKLIST"&&f===H.id?F.jsx("input",{autoFocus:!0,className:"w-full border-b-2 border-primary outline-none text-sm font-bold text-gray-800",value:p,onChange:S=>v(S.target.value),onBlur:k,onKeyDown:S=>S.key==="Enter"&&k()}):F.jsxs("h4",{className:`font-bold text-sm leading-snug break-all cursor-pointer ${ut?"text-blue-800":Z?"text-green-800":"text-gray-800"}`,title:H.type==="CHECKLIST"?" ":void 0,children:[ut&&F.jsx("i",{className:"fas fa-handshake mr-1.5"}),Z&&F.jsx("i",{className:"fas fa-user-check mr-1.5"}),H.title]}),H.subText&&F.jsx("p",{className:"text-xs text-gray-500 mt-1 pl-0.5",children:H.subText})]}),F.jsxs("div",{className:"flex flex-col items-end gap-1",children:[F.jsx("span",{className:"text-[10px] text-gray-400 shrink-0 bg-white bg-opacity-50 px-1.5 py-0.5 rounded whitespace-nowrap",children:H.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),H.type==="CHECKLIST"&&F.jsx("button",{onClick:()=>C(z),className:"text-gray-300 hover:text-blue-500 transition-colors p-1",title:" ",children:F.jsx("i",{className:"fas fa-sticky-note text-xs"})})]})]}),H.type==="CHECKLIST"&&(z==null?void 0:z.memo)&&F.jsxs("div",{className:"mt-2 text-xs text-gray-600 bg-yellow-50 p-2 rounded border border-yellow-100 cursor-pointer hover:bg-yellow-100 transition-colors",onClick:()=>C(z),title:"  ",children:[F.jsx("i",{className:"fas fa-sticky-note mr-1 text-yellow-500"}),z.memo]})]},H.id)})})]},G))]}),e&&F.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black bg-opacity-50",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-xl",children:[F.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[F.jsx("h4",{className:"font-bold",children:" "}),F.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:F.jsx("i",{className:"fas fa-times"})})]}),F.jsx("div",{className:"p-4",children:s==="VIEW"?F.jsx("div",{className:"min-h-[120px] whitespace-pre-wrap text-gray-700",children:u||F.jsx("span",{className:"text-gray-400 italic",children:" ."})}):F.jsx("textarea",{className:"w-full h-40 border p-2 rounded resize-none focus:ring-1 focus:ring-primary outline-none",value:u,onChange:G=>c(G.target.value),placeholder:" ..."})}),F.jsx("div",{className:"p-4 border-t flex justify-end gap-2 bg-gray-50 rounded-b-lg",children:s==="VIEW"?F.jsx("button",{onClick:()=>o("EDIT"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""}):F.jsx("button",{onClick:D,className:"px-4 py-2 bg-primary text-white rounded hover:bg-blue-600",children:""})})]})})]})},kL=({customer:r,isOpen:t,onClose:e,onUpdate:n})=>{const[s,o]=Re.useState("BASIC"),[u,c]=Re.useState("100vw");return Re.useEffect(()=>{const f=()=>{window.innerWidth<768?c("100vw"):c("calc((100vw - 250px) * 0.7)")};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),r?F.jsxs(F.Fragment,{children:[t&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-30 transition-opacity",onClick:e}),F.jsx("div",{className:`fixed inset-y-0 right-0 w-full bg-white shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,style:{width:u},children:F.jsxs("div",{className:"flex flex-col h-full",children:[F.jsxs("div",{className:"bg-primary text-white p-4 flex justify-between items-center shadow-md shrink-0",children:[F.jsxs("h2",{className:"text-lg font-bold truncate pr-4",children:[r.name," "]}),F.jsx("button",{onClick:e,className:"hover:text-gray-200",children:F.jsx("i",{className:"fas fa-times text-xl"})})]}),F.jsxs("div",{className:"flex border-b shrink-0",children:[F.jsx("button",{className:`flex-1 py-3 text-sm font-medium transition-colors ${s==="BASIC"?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("BASIC"),children:"/"}),F.jsx("button",{className:`flex-1 py-3 text-sm font-medium transition-colors ${s==="MEETING"?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("MEETING"),children:""}),F.jsx("button",{className:`flex-1 py-3 text-sm font-medium transition-colors ${s==="GANTT"?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("GANTT"),children:""})]}),F.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[s==="BASIC"&&F.jsx(mE,{customer:r,onUpdate:n}),s==="MEETING"&&F.jsx(LL,{customer:r,onUpdate:n}),s==="GANTT"&&F.jsx(DL,{customer:r,onUpdate:n})]})]})})]}):null},PL=({onClose:r,onSubmit:t})=>{const e=()=>new Date().toISOString().split("T")[0],[n,s]=Re.useState({name:"",contact:"",moveInDate:"",price:"",rentPrice:"",memo:"",registrationDate:e()}),o=u=>{if(u.preventDefault(),!n.name){alert(" .");return}const c={id:Gw(),name:n.name||"",contact:n.contact||"",moveInDate:n.moveInDate||"",price:n.price||"",rentPrice:n.rentPrice||"",memo:n.memo||"",registrationDate:n.registrationDate||e(),priceType:n.rentPrice?"rent":"sale",stage:"",checklists:[],meetings:[]};t(c),r()};return F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[F.jsxs("div",{className:"bg-primary px-4 py-3 flex justify-between items-center",children:[F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("h2",{className:"text-white font-bold text-lg",children:""}),F.jsx("input",{type:"date",className:"bg-blue-600 text-green-500 font-bold text-sm px-2 py-1 rounded border-2 border-gray-900",value:n.registrationDate,onChange:u=>s({...n,registrationDate:u.target.value})})]}),F.jsx("button",{onClick:r,className:"text-white hover:text-gray-200",children:F.jsx("i",{className:"fas fa-times"})})]}),F.jsxs("form",{onSubmit:o,className:"p-4 space-y-4 max-h-[80vh] overflow-y-auto",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap w-20",children:" *"}),F.jsx("input",{type:"text",required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.name,onChange:u=>s({...n,name:u.target.value})})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap w-20",children:""}),F.jsx("input",{type:"tel",className:"flex-1 rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.contact,onChange:u=>s({...n,contact:Kw(u.target.value)})})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap w-20",children:""}),F.jsx("input",{type:"date",className:"flex-1 rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.moveInDate,onChange:u=>s({...n,moveInDate:u.target.value})})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap w-20",children:"/"}),F.jsx("input",{type:"text",className:"flex-1 rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.price,onChange:u=>s({...n,price:u.target.value})})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap w-20",children:""}),F.jsx("input",{type:"text",className:"flex-1 rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.rentPrice,onChange:u=>s({...n,rentPrice:u.target.value})})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),F.jsx("textarea",{rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm border p-2 focus:border-primary focus:ring-primary",value:n.memo,onChange:u=>s({...n,memo:u.target.value})})]}),F.jsxs("div",{className:"pt-4 flex justify-end gap-2",children:[F.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:""}),F.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-blue-700",children:""})]})]})]})})},OL=({isOpen:r=!1,onClose:t,currentView:e="customerList",onViewChange:n})=>{const s=()=>{t==null||t()},o=u=>{n==null||n(u),t==null||t()};return F.jsxs("div",{className:`
      /*   */
      w-[250px] shrink-0 bg-white border-r border-gray-200 flex-col h-full

      /* :   */
      fixed inset-y-0 left-0 z-30

      /* :   */
      md:flex md:relative

      /*  */
      transform transition-transform duration-300 ease-in-out

      /*   */
      flex
      ${r?"translate-x-0":"-translate-x-full"}
      md:translate-x-0
    `,children:[F.jsx("div",{className:"md:hidden absolute top-4 right-4",children:F.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-600 transition-colors","aria-label":" ",children:F.jsx("i",{className:"fas fa-times"})})}),F.jsx("div",{className:"p-4 border-b border-gray-200 pr-12 md:pr-4",children:F.jsx("h1",{className:"text-lg font-bold text-gray-800",children:""})}),F.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:F.jsxs("ul",{className:"space-y-2",children:[F.jsx("li",{children:F.jsxs("button",{onClick:()=>o("customerList"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors ${e==="customerList"?"bg-blue-50 text-blue-700 ring-2 ring-blue-200":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[F.jsx("span",{className:"text-2xl leading-none text-red-500",children:""}),F.jsx("span",{className:"font-medium text-sm",children:"~"})]})}),F.jsx("li",{children:F.jsxs("button",{onClick:()=>o("managingCustomer"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors ${e==="managingCustomer"?"bg-blue-50 text-blue-700 ring-2 ring-blue-200":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[F.jsx("span",{className:"text-2xl leading-none text-red-500",children:""}),F.jsx("span",{className:"font-medium text-sm",children:"~"})]})})]})})]})},vg={:{label:"",desc:"   ",color:"text-indigo-600",icon:"fa-file-signature",bg:"bg-indigo-100"},:{label:"",desc:"  ",color:"text-amber-600",icon:"fa-redo",bg:"bg-amber-100"},:{label:"()",desc:"  ",color:"text-purple-600",icon:"fa-calendar-check",bg:"bg-purple-100"},:{label:"",desc:"  ",color:"text-green-600",icon:"fa-handshake",bg:"bg-green-100"}},qw=["","","",""],ML=({customers:r,onSelect:t,onDelete:e,onMenuClick:n})=>{const[s,o]=Re.useState({}),[u,c]=Re.useState(""),f=(y,C)=>{o(D=>({...D,[y]:C}))},d=y=>{y.preventDefault()},p=(y,C)=>{const D=C.toLowerCase();return y.filter(M=>M.name.toLowerCase().includes(D)||M.contact.includes(D)).sort((M,k)=>{const G=M.registrationDate?new Date(M.registrationDate).getTime():0,K=k.registrationDate?new Date(k.registrationDate).getTime():0;return G!==K?K-G:M.name.localeCompare(k.name)})},v=(y,C)=>{const D=p(C,s[y]||""),M=vg[y];return F.jsxs("div",{className:"h-full flex flex-col bg-white",children:[F.jsxs("div",{className:"p-4 border-b bg-white",children:[F.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[F.jsx("div",{className:`w-10 h-10 rounded-lg ${M.bg} flex items-center justify-center`,children:F.jsx("i",{className:`fas ${M.icon} ${M.color} text-sm`})}),F.jsxs("div",{children:[F.jsx("h2",{className:"font-bold text-gray-800",children:M.label}),F.jsx("p",{className:"text-gray-400 text-xs",children:M.desc})]})]}),F.jsxs("div",{className:"text-sm",children:[F.jsx("span",{className:"font-bold text-gray-800",children:C.length}),F.jsx("span",{className:"text-gray-400 ml-1",children:""})]})]}),F.jsx("div",{className:"p-3 border-b shrink-0",children:F.jsxs("div",{className:"relative",children:[F.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-gray-50 border border-gray-200 rounded-lg py-2 pl-3 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:s[y]||"",onChange:k=>f(y,k.target.value)}),s[y]&&F.jsx("button",{onClick:()=>f(y,""),className:"absolute right-10 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 transition-colors",children:F.jsx("i",{className:"fas fa-times-circle text-sm"})}),F.jsx("i",{className:"fas fa-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"})]})}),F.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[D.map(k=>F.jsxs("div",{onClick:()=>t(k),onContextMenu:d,className:"bg-white border rounded-lg p-4 cursor-pointer shadow-sm active:scale-95 transition-transform",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2",children:[F.jsx("div",{children:F.jsx("h3",{className:"font-bold text-base text-gray-800",children:k.name})}),F.jsxs("div",{className:"flex items-center gap-2",children:[k.contact&&F.jsx("a",{href:`sms:${k.contact.replace(/\D/g,"")}`,onClick:G=>G.stopPropagation(),className:"text-blue-600 hover:text-blue-800 p-2 transition-colors font-bold",title:"  ",children:F.jsx("i",{className:"fas fa-comments text-sm"})}),F.jsx("button",{onClick:G=>e(k.id,G),className:"text-red-600 hover:text-red-800 p-2 transition-colors font-bold",children:F.jsx("i",{className:"fas fa-trash-alt text-sm"})})]})]}),k.contact&&F.jsx("p",{className:"text-sm text-gray-600",children:k.contact})]},k.id)),D.length===0&&F.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[F.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:F.jsx("i",{className:"fas fa-user text-gray-300 text-2xl"})}),F.jsx("p",{className:"text-gray-400 text-sm",children:" "})]})]})]})},w=(y,C)=>{const D=p(C,s[y]||""),M=vg[y];return F.jsxs("div",{className:"flex-1 min-w-0 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full mr-4 last:mr-0",children:[F.jsx("div",{className:"p-3 border-b-2 border-gray-300",children:F.jsxs("div",{className:"flex justify-between items-start",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("div",{className:`w-8 h-8 rounded-lg ${M.bg} flex items-center justify-center`,children:F.jsx("i",{className:`fas ${M.icon} ${M.color} text-sm`})}),F.jsxs("div",{children:[F.jsx("h2",{className:"font-bold text-gray-800 text-sm leading-tight",children:M.label}),F.jsx("p",{className:"text-gray-400 text-[10px] mt-0.5",children:M.desc})]})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("span",{className:"text-lg font-bold text-gray-800",children:C.length}),F.jsx("span",{className:"text-[10px] text-gray-400 ml-1",children:""})]})]})}),F.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 custom-scrollbar",children:[D.map(k=>F.jsxs("div",{onClick:()=>t(k),onContextMenu:d,className:"bg-white border rounded-lg px-3 py-2 cursor-pointer transition-all shadow-sm group relative flex justify-between items-center border-gray-200 hover:border-blue-400",children:[F.jsx("div",{className:"flex items-center gap-1.5 overflow-hidden",children:F.jsx("h3",{className:"font-bold text-sm text-gray-700 truncate",children:k.name})}),F.jsxs("div",{className:"flex gap-1 ml-2 shrink-0",children:[k.contact&&F.jsx("a",{href:`sms:${k.contact.replace(/\D/g,"")}`,onClick:G=>G.stopPropagation(),className:"text-blue-600 hover:text-blue-800 p-1 transition-colors font-bold",title:"  ",children:F.jsx("i",{className:"fas fa-comments text-xs"})}),F.jsx("button",{onClick:G=>e(k.id,G),className:"text-red-600 hover:text-red-800 p-1 transition-colors font-bold",children:F.jsx("i",{className:"fas fa-trash-alt text-xs"})})]})]},k.id)),D.length===0&&F.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:[F.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center mb-1",children:F.jsx("i",{className:"fas fa-user text-gray-300 text-xs"})}),F.jsx("p",{className:"text-gray-400 text-xs",children:" "})]})]})]})};return F.jsxs("div",{className:"flex flex-col w-full h-full bg-gray-100 overflow-hidden",children:[F.jsxs("div",{className:"bg-white border-b p-3 flex items-center gap-3 shadow-sm shrink-0 md:hidden",children:[F.jsx("button",{onClick:n,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 text-gray-700 transition-colors","aria-label":" ",children:F.jsx("i",{className:"fas fa-bars text-lg"})}),F.jsx("h1",{className:"flex-1 text-lg font-bold text-gray-800",children:" "})]}),F.jsx("div",{className:"md:hidden bg-white border-b shrink-0 overflow-x-auto",children:F.jsx("div",{className:"flex p-2 gap-2 min-w-max",children:qw.map(y=>{const C=vg[y],D=r.filter(k=>k.checkpoint===y).length,M=u===y;return F.jsxs("button",{onClick:()=>c(y),className:`flex-shrink-0 px-2 py-2 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${M?"bg-primary text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[C.label," (",D,")"]},y)})})}),F.jsx("div",{className:"flex-1 overflow-hidden md:hidden",children:v(u,r.filter(y=>y.checkpoint===u))}),F.jsx("div",{className:"hidden md:flex md:flex-col w-full h-full",children:F.jsx("div",{className:"flex-1 overflow-x-auto p-3",children:F.jsx("div",{className:"flex h-full",children:qw.map(y=>{const C=r.filter(D=>D.checkpoint===y);return F.jsx(h2.Fragment,{children:w(y,C)},y)})})})})]})},jL=()=>{const[r,t]=Re.useState([]),[e,n]=Re.useState(null),[s,o]=Re.useState(!1),[u,c]=Re.useState(!1),[f,d]=Re.useState(!1),[p,v]=Re.useState(!0),[w,y]=Re.useState(null),[C,D]=Re.useState(navigator.onLine),[M,k]=Re.useState(!1),[G,K]=Re.useState("customerList"),[H,ut]=Re.useState(null),[Z,z]=Re.useState(!1),[S,E]=Re.useState(0);Re.useEffect(()=>{(async()=>{try{localStorage.getItem("migration_completed_v1")?console.log(" Migration already completed, skipping"):(console.log(" Starting migration..."),await n7(),localStorage.setItem("migration_completed_v1","true"),console.log(" Migration completed and marked as done"))}catch(st){console.error("  :",st),y("    .")}})()},[]),Re.useEffect(()=>{v(!0),y(null);try{const tt=t7(st=>{t(st),v(!1),console.log("    :",st.length,"")});return()=>tt()}catch(tt){console.error("Firebase  :",tt),y("   . Firebase  ."),v(!1)}},[]),Re.useEffect(()=>{if(!e)return;console.log(" Loading full customer details:",e.id);const tt=e7(e.id,st=>{st&&(console.log(" Full customer details loaded:",st),n(st))});return()=>tt()},[e==null?void 0:e.id]),Re.useEffect(()=>{console.log(" Initial online status:",navigator.onLine?"ONLINE":"OFFLINE");const tt=()=>{console.log(" Network status: ONLINE (connection restored)"),D(!0)},st=()=>{console.log(" Network status: OFFLINE (no connection)"),D(!1)};window.addEventListener("online",tt),window.addEventListener("offline",st);const gt=setInterval(()=>{const J=navigator.onLine;console.log(" Network check:",J?"ONLINE":"OFFLINE")},3e4);return()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",st),clearInterval(gt)}},[]),Re.useEffect(()=>{u&&window.history.pushState({sidebarOpen:!0},"");const tt=st=>{var gt;u&&((gt=st.state)==null?void 0:gt.sidebarOpen)!==!0&&c(!1)};return window.addEventListener("popstate",tt),()=>{window.removeEventListener("popstate",tt)}},[u]);const V=async tt=>{try{tt.id||(tt.id=Wg()),t(st=>[tt,...st]),await WI(tt)}catch(st){console.error("  :",st),y("   ."),t(gt=>gt.filter(J=>J.id!==tt.id))}},T=tt=>{n(tt),c(!0)},I=async(tt,st)=>{st.stopPropagation();const gt=r.find(J=>J.id===tt);gt&&ut({customerId:tt,customerName:gt.name})},L=async()=>{if(!H)return;const tt=H.customerId,st=r.find(gt=>gt.id===tt);try{t(gt=>gt.filter(J=>J.id!==tt)),(e==null?void 0:e.id)===tt&&(c(!1),n(null)),await JI(tt),ut(null)}catch(gt){console.error("  :",gt),y("   ."),st&&t(J=>[...J,st])}},$=()=>{ut(null)};Re.useEffect(()=>{let tt=0;const st=O=>{window.scrollY===0&&(tt=O.touches[0].clientY)},gt=O=>{if(window.scrollY===0&&tt>0){const W=O.touches[0].clientY-tt;W>0&&E(Math.min(W,100))}},J=async()=>{S>60&&!Z&&(z(!0),await new Promise(O=>setTimeout(O,1e3)),window.location.reload()),E(0),tt=0};return document.addEventListener("touchstart",st),document.addEventListener("touchmove",gt),document.addEventListener("touchend",J),()=>{document.removeEventListener("touchstart",st),document.removeEventListener("touchmove",gt),document.removeEventListener("touchend",J)}},[S,Z]);const ft=async tt=>{try{t(st=>st.map(gt=>gt.id===tt.id?tt:gt)),n(tt),await ZI(tt.id,tt)}catch(st){console.error("  :",st),y("   .")}},P=tt=>{t(st=>st.map(gt=>{if(gt.id===tt){const J=!gt.isFavorite;return{...gt,isFavorite:J,favoritedAt:J?Date.now():void 0}}return gt}))},B=tt=>{K(tt)};return p?F.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:F.jsxs("div",{className:"text-center",children:[F.jsx("i",{className:"fas fa-spinner fa-spin text-4xl text-primary mb-4"}),F.jsx("p",{className:"text-gray-600 mt-4",children:" ..."})]})}):w?F.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:F.jsxs("div",{className:"text-center",children:[F.jsx("i",{className:"fas fa-exclamation-triangle text-4xl text-red-500 mb-4"}),F.jsx("p",{className:"text-gray-600 mt-4",children:w}),F.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded hover:bg-blue-700",children:" "})]})}):F.jsxs("div",{className:"flex flex-row w-full h-full bg-gray-100 relative overflow-hidden",children:[S>0&&F.jsx("div",{className:"fixed top-0 left-0 right-0 bg-blue-500 text-white text-center py-2 z-40 transition-all",style:{transform:`translateY(${S}px)`},children:F.jsxs("div",{className:"flex items-center justify-center gap-2",children:[F.jsx("i",{className:"fas fa-arrow-down transition-transform",style:{transform:`rotate(${S>60?180:0}deg)`,opacity:Math.min(S/60,1)}}),F.jsx("span",{children:S>60?" ":" "})]})}),!C&&F.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 z-50",children:[F.jsx("i",{className:"fas fa-wifi-slash mr-2"}),"  -    "]}),f&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>d(!1),"aria-label":" "}),F.jsx(OL,{isOpen:f,onClose:()=>d(!1),currentView:G,onViewChange:B}),F.jsx("div",{className:"flex-1 overflow-hidden",children:G==="managingCustomer"?F.jsx(ML,{customers:r,onSelect:T,onDelete:I,onMenuClick:()=>d(!0)}):F.jsx(uE,{customers:r,onSelect:T,onAddClick:()=>o(!0),onDelete:I,onToggleFavorite:P,onMenuClick:()=>d(!0)})}),F.jsx(kL,{customer:e,isOpen:u,onClose:()=>c(!1),onUpdate:ft}),s&&F.jsx(PL,{onClose:()=>o(!1),onSubmit:V}),H&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm",children:[F.jsxs("div",{className:"p-6",children:[F.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),F.jsxs("p",{className:"text-gray-600 mb-4",children:[F.jsx("span",{className:"font-semibold",children:H.customerName}),"   ?"]}),F.jsx("p",{className:"text-sm text-gray-500",children:"    ."})]}),F.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-2 bg-gray-50 rounded-b-lg",children:[F.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:""}),F.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:""})]})]})})]})},zA=document.getElementById("root");if(!zA)throw new Error("Could not find root element to mount to");const VL=lE.createRoot(zA);VL.render(F.jsx(h2.StrictMode,{children:F.jsx(jL,{})}));export{tr as _,BL as c,Hw as g};
