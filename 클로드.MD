# Flow CRM ì „í™˜ ê³„íš: PWA + Firebase + GitHub Pages

## ëª©í‘œ
ë¶€ë™ì‚° ê³ ê°ê´€ë¦¬ ì•±ì„ ëª¨ë°”ì¼ PWAë¡œ ì „í™˜í•˜ê³ , Firebaseë¡œ í´ë¼ìš°ë“œ ë™ê¸°í™”ë¥¼ êµ¬í˜„í•˜ë©°, GitHub Pagesë¡œ ìë™ ë°°í¬

---

## í˜„ì¬ ìƒíƒœ ë¶„ì„

### êµ¬í˜„ëœ ê¸°ëŠ¥
- âœ… React 19 + TypeScript + Vite ê¸°ë°˜
- âœ… ì¹¸ë°˜ ë°©ì‹ ê³ ê° ê´€ë¦¬ (5ë‹¨ê³„ + 4ì²´í¬í¬ì¸íŠ¸)
- âœ… ë¯¸íŒ…/ë§¤ë¬¼/ì²´í¬ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
- âœ… PDF ë¦¬í¬íŠ¸ ìƒì„±
- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜• UI
- âœ… localStorage ë°ì´í„° ì €ì¥

### ë¶€ì¡±í•œ ë¶€ë¶„
- âŒ PWA ì„¤ì • (manifest, service worker)
- âŒ Firebase ì—°ë™ (Firestore, Storage, Auth)
- âŒ ê¸°ê¸° ê°„ ë™ê¸°í™”
- âŒ GitHub Pages ë°°í¬ ìë™í™”
- âš ï¸ localStorage ìš©ëŸ‰ ì œí•œ (Base64 ì´ë¯¸ì§€ë¡œ ì¸í•œ quota ì´ˆê³¼)

---

## êµ¬í˜„ ì „ëµ

**ë‹¨ê³„ë³„ ìˆœì„œ:**
1. **PHASE 1: Firebase ì—°ë™** (ê¸°ë°˜ êµ¬ì¶•) â†’ í´ë¼ìš°ë“œ ì €ì¥ì†Œ í™•ë³´
2. **PHASE 2: PWA ì„¤ì •** (ì˜¤í”„ë¼ì¸ ì§€ì›) â†’ ì•± ì„¤ì¹˜ ë° ìºì‹±
3. **PHASE 3: GitHub Pages ë°°í¬** (ìš´ì˜ í™˜ê²½) â†’ ìë™ ë°°í¬

**ì´ìœ :**
- Firebase ë¨¼ì €: ì´ë¯¸ì§€ ì €ì¥ ë¬¸ì œ í•´ê²° í•„ìˆ˜ (localStorage quota ì´ìŠˆ)
- PWA ë‘ë²ˆì§¸: Firebase ì—”ë“œí¬ì¸íŠ¸ ì•ˆì •í™” í›„ ìºì‹± ì „ëµ ìˆ˜ë¦½
- ë°°í¬ ë§ˆì§€ë§‰: ëª¨ë“  ê¸°ëŠ¥ ê²€ì¦ í›„ í”„ë¡œë•ì…˜ ë°°í¬

---

## PHASE 1: Firebase ì—°ë™ (Week 1-2)

### 1.1 Firebase í”„ë¡œì íŠ¸ ì„¤ì •

**Firebase Console ì‘ì—…:**
1. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±: "flow-crm-production"
2. ì„œë¹„ìŠ¤ í™œì„±í™”:
   - Firestore Database (í”„ë¡œë•ì…˜ ëª¨ë“œ)
   - Firebase Storage (ì´ë¯¸ì§€ ì €ì¥ìš©)
   - Authentication (Email/Password, Google)
3. ì›¹ ì•± ë“±ë¡ â†’ Firebase config ë³µì‚¬

**ë³´ì•ˆ ê·œì¹™ íŒŒì¼ ìƒì„±:**
- `firestore.rules` (ìƒˆ íŒŒì¼) - ì‚¬ìš©ìë³„ ë°ì´í„° ê²©ë¦¬
- `storage.rules` (ìƒˆ íŒŒì¼) - ì´ë¯¸ì§€ ì ‘ê·¼ ì œì–´

### 1.2 íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install firebase
npm install --save-dev @types/node
```

### 1.3 ìƒˆë¡œìš´ íŒŒì¼ êµ¬ì¡°

```
flow-crm/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ firebase.ts                 # ğŸ†• Firebase ì´ˆê¸°í™”
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ storage.ts                  # ğŸ“ ë§ˆì´ê·¸ë ˆì´ì…˜ìš© ë³´ì¡´
â”‚   â”œâ”€â”€ firestore.ts                # ğŸ†• Firestore CRUD (localStorage ëŒ€ì²´)
â”‚   â”œâ”€â”€ firebase-storage.ts         # ğŸ†• ì´ë¯¸ì§€ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ
â”‚   â””â”€â”€ auth.ts                     # ğŸ†• ì¸ì¦ ì„œë¹„ìŠ¤
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts                  # ğŸ†• ì¸ì¦ ìƒíƒœ í›…
â”‚   â”œâ”€â”€ useCustomers.ts             # ğŸ†• ì‹¤ì‹œê°„ ê³ ê° ë°ì´í„° í›…
â”‚   â””â”€â”€ useOnlineStatus.ts          # ğŸ†• ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LoginForm.tsx               # ğŸ†• ë¡œê·¸ì¸/íšŒì›ê°€ì… UI
â”‚   â”œâ”€â”€ MigrationPrompt.tsx         # ğŸ†• localStorage â†’ Firestore ë§ˆì´ê·¸ë ˆì´ì…˜ UI
â”‚   â””â”€â”€ [ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤...]
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ imageCompression.ts         # ğŸ†• ì´ë¯¸ì§€ ì••ì¶• (Base64 â†’ Blob)
â”‚   â””â”€â”€ migration.ts                # ğŸ†• ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§
â””â”€â”€ .env.local                      # ğŸ“ Firebase í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
```

### 1.4 í•µì‹¬ ë³€ê²½ ì‚¬í•­

#### A. `App.tsx` ì „ë©´ ìˆ˜ì •
**í˜„ì¬ (localStorage ê¸°ë°˜):**
```typescript
// Line 6: import { getCustomers, saveCustomers } from './services/storage';
// Line 15-18: useEffectë¡œ localStorage ë¡œë“œ
// Line 20-25: useEffectë¡œ customers ë³€ê²½ì‹œ ìë™ ì €ì¥
```

**ë³€ê²½ í›„ (Firebase ê¸°ë°˜):**
- `useAuth()` í›…ìœ¼ë¡œ ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬
- `useCustomers(userId)` í›…ìœ¼ë¡œ ì‹¤ì‹œê°„ ë™ê¸°í™”
- Firebase CRUD í•¨ìˆ˜ ì‚¬ìš© (addCustomer, updateCustomer, deleteCustomer)
- ë¡œê·¸ì¸ ì•ˆ ë˜ì–´ìˆìœ¼ë©´ `<LoginForm />` í‘œì‹œ
- ì˜¤í”„ë¼ì¸ ìƒíƒœ í‘œì‹œ ë°°ë„ˆ ì¶”ê°€

**íŒŒì¼:** `App.tsx` (15-25, 27-64 ë¼ì¸ ëŒ€í­ ìˆ˜ì •)

#### B. `TabMeeting.tsx` ì´ë¯¸ì§€ ì—…ë¡œë“œ ë¡œì§ ë³€ê²½
**í˜„ì¬ (Base64):**
```typescript
// Property.photos: string[] (Base64 data URLs)
// FileReaderë¡œ Base64 ë³€í™˜ í›„ ë°°ì—´ì— ì¶”ê°€
```

**ë³€ê²½ í›„ (Firebase Storage):**
- ì´ë¯¸ì§€ ì••ì¶• (1200px, 80% quality)
- Firebase Storage ì—…ë¡œë“œ
- Download URL ë°›ì•„ì„œ ì €ì¥
- `photos` ë°°ì—´ì— Base64 ëŒ€ì‹  URL ì €ì¥

**íŒŒì¼:** `components/TabMeeting.tsx` (handlePhotoUpload í•¨ìˆ˜)

#### C. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
**`.env.local` ì—…ë°ì´íŠ¸:**
```env
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

**`.env.example` ìƒì„±:** (í…œí”Œë¦¿ ì œê³µ)

**`.gitignore` ì—…ë°ì´íŠ¸:** .env.local, .firebase/ ì¶”ê°€

### 1.5 ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

**ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ íë¦„:**
1. ì‚¬ìš©ì ì²« ë¡œê·¸ì¸ ì‹œ
2. localStorageì— ë°ì´í„° ì¡´ì¬ í™•ì¸
3. `<MigrationPrompt />` ëª¨ë‹¬ í‘œì‹œ
4. ì‚¬ìš©ì ìŠ¹ì¸ ì‹œ `migrateLocalStorageToFirestore()` ì‹¤í–‰
5. Firestoreì— ëª¨ë“  ê³ ê° ë°ì´í„° ì—…ë¡œë“œ
6. localStorage í´ë¦¬ì–´
7. ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ

**ì´ë¯¸ì§€ ë§ˆì´ê·¸ë ˆì´ì…˜:**
- 1ë‹¨ê³„: Base64 ë°ì´í„° ê·¸ëŒ€ë¡œ Firestoreì— ì„ì‹œ ì €ì¥ (ë¹ ë¥¸ ë§ˆì´ê·¸ë ˆì´ì…˜)
- 2ë‹¨ê³„: ê³ ê° ì—´ëŒ ì‹œ Base64 â†’ Firebase Storageë¡œ ë³€í™˜ (ì ì§„ì )
- ì´ìœ : í•œë²ˆì— ë§ì€ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì‹œê°„ ì†Œìš” â†’ UX ê°œì„ 

### 1.6 í…ŒìŠ¤íŠ¸ í•­ëª©

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸:**
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ (Email, Google)
- [ ] ê³ ê° ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ â†’ Firestore í™•ì¸
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ Storage ì½˜ì†” í™•ì¸
- [ ] ë‘ ê¸°ê¸°ì—ì„œ ë™ì‹œ ì ‘ì† â†’ ì‹¤ì‹œê°„ ë™ê¸°í™” í™•ì¸
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ â†’ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸
- [ ] localStorage ë§ˆì´ê·¸ë ˆì´ì…˜ â†’ ë°ì´í„° ë¬´ê²°ì„± í™•ì¸

**ì„±ê³µ ê¸°ì¤€:**
- localStorage ì‚¬ìš© ì œê±° (ë§ˆì´ê·¸ë ˆì´ì…˜ìš© ì œì™¸)
- ëª¨ë“  ì´ë¯¸ì§€ Firebase Storageì— ì €ì¥
- ì‹¤ì‹œê°„ ë™ê¸°í™” ì‘ë™
- í•œêµ­ì–´ UI ìœ ì§€

---

## PHASE 2: PWA ì„¤ì • (Week 3)

### 2.1 íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install vite-plugin-pwa workbox-window
npm install --save-dev @types/serviceworker
```

### 2.2 Vite ì„¤ì • ì—…ë°ì´íŠ¸

**`vite.config.ts` ìˆ˜ì •:**
- `VitePWA()` í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
- manifest.json ì„¤ì • (í•œêµ­ì–´, ì•„ì´ì½˜, í…Œë§ˆìƒ‰)
- Workbox ìºì‹± ì „ëµ:
  - TailwindCSS CDN ìºì‹±
  - Font Awesome ìºì‹±
  - ESM.sh ëª¨ë“ˆ ìºì‹±
  - Firebase Storage ì´ë¯¸ì§€ ìºì‹±
- ê°œë°œ ëª¨ë“œì—ì„œë„ PWA í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •

**íŒŒì¼:** `vite.config.ts` (plugins ë°°ì—´ì— VitePWA ì¶”ê°€)

### 2.3 PWA ì•„ì´ì½˜ ìƒì„±

**í•„ìš”í•œ ì•„ì´ì½˜ íŒŒì¼ (public/ í´ë”):**
- favicon.ico (16x16, 32x32)
- pwa-64x64.png
- pwa-192x192.png
- pwa-512x512.png
- maskable-icon-512x512.png (20% safe zone)
- apple-touch-icon.png (180x180)

**ë””ìì¸ ê°€ì´ë“œ:**
- ì£¼ìƒ‰ìƒ: íŒŒë€ìƒ‰ (#2563eb)
- ë¶€ë™ì‚°/ê±´ë¬¼ ì•„ì´ì½˜ ë˜ëŠ” "EstateFlow" ë¡œê³ 
- í•œê¸€ "ë¶€ë™ì‚°" í…ìŠ¤íŠ¸ í¬í•¨ (ì„ íƒ)

**ë„êµ¬ ì¶”ì²œ:** https://realfavicongenerator.net/

### 2.4 HTML ë©”íƒ€íƒœê·¸ ì¶”ê°€

**`index.html` ì—…ë°ì´íŠ¸:**
```html
<!-- PWA Meta Tags -->
<meta name="theme-color" content="#2563eb" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content="EstateFlow" />
<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
```

**íŒŒì¼:** `index.html` (head ì„¹ì…˜)

### 2.5 PWA ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

**ìƒˆ ì»´í¬ë„ŒíŠ¸:**
1. `InstallPrompt.tsx` - ì•± ì„¤ì¹˜ ì•ˆë‚´ ë°°ë„ˆ
2. `UpdateNotification.tsx` - ìƒˆ ë²„ì „ ì—…ë°ì´íŠ¸ ì•Œë¦¼

**App.tsxì— í†µí•©:**
```typescript
import { InstallPrompt } from './components/InstallPrompt';
import { UpdateNotification } from './components/UpdateNotification';

// return ë¬¸ ë‚´ë¶€ì— ì¶”ê°€
<InstallPrompt />
<UpdateNotification />
```

### 2.6 Firestore ì˜¤í”„ë¼ì¸ ì§€ì†ì„±

**`services/firestore.ts` ìˆ˜ì •:**
- `enableIndexedDbPersistence(db)` í˜¸ì¶œ í•¨ìˆ˜ ì¶”ê°€

**`index.tsx`ì—ì„œ í˜¸ì¶œ:**
```typescript
import { enableOfflinePersistence } from './services/firestore';
enableOfflinePersistence();
```

**íš¨ê³¼:** ì˜¤í”„ë¼ì¸ ì‹œì—ë„ ê¸°ì¡´ ë°ì´í„° ì¡°íšŒ ê°€ëŠ¥

### 2.7 í…ŒìŠ¤íŠ¸ í•­ëª©

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸:**
- [ ] Chrome DevTools â†’ Application â†’ Manifest í™•ì¸
- [ ] ëª¨ë°”ì¼ì—ì„œ "í™ˆ í™”ë©´ì— ì¶”ê°€" ë™ì‘
- [ ] Standalone ëª¨ë“œ ì‹¤í–‰ í™•ì¸
- [ ] Service Worker ë“±ë¡ í™•ì¸
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ (Network â†’ Offline)
  - ê¸°ì¡´ ê³ ê° ëª©ë¡ ì¡°íšŒ ê°€ëŠ¥
  - ì´ë¯¸ì§€ ìºì‹œ í™•ì¸
- [ ] Lighthouse PWA ì ìˆ˜ (ëª©í‘œ: 90+)

**ì„±ê³µ ê¸°ì¤€:**
- iOS/Androidì—ì„œ ì•± ì„¤ì¹˜ ê°€ëŠ¥
- ì˜¤í”„ë¼ì¸ì—ì„œ ê¸°ì¡´ ë°ì´í„° ì¡°íšŒ ê°€ëŠ¥
- ëª¨ë“  ì •ì  ìì‚° ìºì‹±
- Lighthouse PWA ì ìˆ˜ 90 ì´ìƒ

---

## PHASE 3: GitHub Pages ë°°í¬ (Week 4)

### 3.1 íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install --save-dev gh-pages
```

### 3.2 package.json ìˆ˜ì •

**ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€:**
```json
{
  "homepage": "https://YOUR_USERNAME.github.io/flow-crm",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "predeploy": "npm run build",
    "deploy": "gh-pages -d dist"
  }
}
```

**ì£¼ì˜:** `YOUR_USERNAME`ì„ ì‹¤ì œ GitHub ìœ ì €ëª…ìœ¼ë¡œ ë³€ê²½

### 3.3 Vite ì„¤ì • - Base Path

**`vite.config.ts` ìˆ˜ì •:**
```typescript
export default defineConfig(({ command }) => {
  const base = command === 'build' ? '/flow-crm/' : '/';

  return {
    base: base,
    // ... ê¸°ì¡´ ì„¤ì •
    plugins: [
      react(),
      VitePWA({
        base: base,
        scope: base,
        manifest: {
          scope: base,
          start_url: base,
          // ... ë‚˜ë¨¸ì§€ ì„¤ì •
        }
      })
    ]
  };
});
```

**ì´ìœ :** GitHub PagesëŠ” `username.github.io/repository-name/` í˜•ì‹

### 3.4 GitHub Actions ì›Œí¬í”Œë¡œìš° (ìë™ ë°°í¬)

**`.github/workflows/deploy.yml` ìƒì„±:**
```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run build
        env:
          VITE_FIREBASE_API_KEY: ${{ secrets.VITE_FIREBASE_API_KEY }}
          # ... ë‚˜ë¨¸ì§€ Firebase env vars
      - uses: actions/upload-pages-artifact@v3
        with:
          path: './dist'

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/deploy-pages@v4
```

### 3.5 GitHub Repository ì„¤ì •

**Secrets ì¶”ê°€ (Settings â†’ Secrets and variables â†’ Actions):**
- `VITE_FIREBASE_API_KEY`
- `VITE_FIREBASE_AUTH_DOMAIN`
- `VITE_FIREBASE_PROJECT_ID`
- `VITE_FIREBASE_STORAGE_BUCKET`
- `VITE_FIREBASE_MESSAGING_SENDER_ID`
- `VITE_FIREBASE_APP_ID`

**GitHub Pages í™œì„±í™”:**
1. Settings â†’ Pages
2. Source: GitHub Actions ì„ íƒ
3. Custom domain (ì„ íƒì‚¬í•­)

### 3.6 Firebase Authorized Domains

**Firebase Console â†’ Authentication â†’ Settings:**
- Authorized domainsì— ì¶”ê°€:
  - `YOUR_USERNAME.github.io`
  - `localhost` (ê°œë°œìš©)

### 3.7 ë°°í¬ ë°©ë²•

**ì˜µì…˜ 1: ìˆ˜ë™ ë°°í¬ (gh-pages íŒ¨í‚¤ì§€)**
```bash
npm run deploy
```

**ì˜µì…˜ 2: ìë™ ë°°í¬ (GitHub Actions)**
```bash
git add .
git commit -m "feat: implement PWA and Firebase"
git push origin main
```
â†’ Actions íƒ­ì—ì„œ ë°°í¬ ì§„í–‰ ìƒí™© í™•ì¸

### 3.8 í…ŒìŠ¤íŠ¸ í•­ëª©

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸:**
- [ ] ë¡œì»¬ ë¹Œë“œ: `npm run build` â†’ dist/ í™•ì¸
- [ ] ë¡œì»¬ í”„ë¦¬ë·°: `npm run preview` â†’ localhost:4173 í…ŒìŠ¤íŠ¸
- [ ] ë°°í¬ ì„±ê³µ: GitHub Actions ì›Œí¬í”Œë¡œìš° í†µê³¼
- [ ] í”„ë¡œë•ì…˜ URL ì ‘ì†: https://USERNAME.github.io/flow-crm/
- [ ] Firebase ì—°ê²° í™•ì¸ (ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸)
- [ ] PWA ì„¤ì¹˜ í…ŒìŠ¤íŠ¸ (ëª¨ë°”ì¼)
- [ ] HTTPS í™•ì¸ (Service Worker ì‘ë™ í•„ìˆ˜)
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ (Chrome, Safari, Firefox)

**ì„±ê³µ ê¸°ì¤€:**
- GitHub Pagesì— ì •ìƒ ë°°í¬
- ëª¨ë“  í™˜ê²½ë³€ìˆ˜ ì‘ë™
- Firebase ì—°ê²° ì•ˆì •
- PWA ì„¤ì¹˜ ê°€ëŠ¥
- HTTPS ì ìš©
- ì½˜ì†” ì—ëŸ¬ ì—†ìŒ

---

## ì£¼ìš” íŒŒì¼ ë³€ê²½ ëª©ë¡

### ğŸ†• ìƒˆë¡œ ìƒì„±í•  íŒŒì¼ (22ê°œ)

**Config & Services:**
- `config/firebase.ts`
- `services/firestore.ts`
- `services/firebase-storage.ts`
- `services/auth.ts`

**Hooks:**
- `hooks/useAuth.ts`
- `hooks/useCustomers.ts`
- `hooks/useOnlineStatus.ts`

**Components:**
- `components/LoginForm.tsx`
- `components/MigrationPrompt.tsx`
- `components/InstallPrompt.tsx`
- `components/UpdateNotification.tsx`

**Utils:**
- `utils/imageCompression.ts`
- `utils/migration.ts`

**Config Files:**
- `.env.example`
- `.github/workflows/deploy.yml`
- `firestore.rules`
- `storage.rules`

**Icons (public/):**
- `public/pwa-64x64.png`
- `public/pwa-192x192.png`
- `public/pwa-512x512.png`
- `public/maskable-icon-512x512.png`
- `public/apple-touch-icon.png`

### ğŸ“ ìˆ˜ì •í•  íŒŒì¼ (7ê°œ)

- `App.tsx` - Firebase ì—°ë™, ì¸ì¦ ë¡œì§ (ëŒ€í­ ìˆ˜ì •)
- `components/TabMeeting.tsx` - ì´ë¯¸ì§€ ì—…ë¡œë“œ ë¡œì§
- `package.json` - ì˜ì¡´ì„±, ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
- `vite.config.ts` - PWA í”ŒëŸ¬ê·¸ì¸, base path
- `index.html` - PWA ë©”íƒ€íƒœê·¸
- `index.tsx` - ì˜¤í”„ë¼ì¸ persistence ì´ˆê¸°í™”
- `.gitignore` - Firebase ê´€ë ¨ íŒŒì¼ ì¶”ê°€

### ğŸ“Œ ë³´ì¡´í•  íŒŒì¼

- `services/storage.ts` - ë§ˆì´ê·¸ë ˆì´ì…˜ìš©ìœ¼ë¡œ ìœ ì§€

---

## ì ì¬ì  ì´ìŠˆ ë° í•´ê²°ì±…

### ì´ìŠˆ 1: Firebase ë¬´ë£Œ í• ë‹¹ëŸ‰ ì´ˆê³¼
**ë¬¸ì œ:** Firestore ì½ê¸° 50K/ì¼, ì“°ê¸° 20K/ì¼ ì œí•œ

**í•´ê²°ì±…:**
- ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ì‚¬ìš© (refetch ê¸ˆì§€)
- ë¶ˆí•„ìš”í•œ ì½ê¸° ìµœì†Œí™”
- ì´ë¯¸ì§€ ì••ì¶•ìœ¼ë¡œ Storage ìš©ëŸ‰ ì ˆì•½
- í•„ìš”ì‹œ Blaze í”Œëœ ì „í™˜ ($0.06/100K reads)

### ì´ìŠˆ 2: localStorage â†’ Firestore ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ë°ì´í„° ì†ì‹¤
**ë¬¸ì œ:** ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤‘ ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°ì´í„° ìœ ì‹¤

**í•´ê²°ì±…:**
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ localStorage ë°±ì—… JSON ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
- try-catchë¡œ ì—ëŸ¬ ì²˜ë¦¬
- ì‹¤íŒ¨ ì‹œ localStorage ìœ ì§€
- ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ìƒíƒœ í‘œì‹œ

### ì´ìŠˆ 3: Base64 ì´ë¯¸ì§€ Firestore ë¬¸ì„œ í¬ê¸° ì´ˆê³¼
**ë¬¸ì œ:** Firestore ë¬¸ì„œ í¬ê¸° ì œí•œ 1MB

**í•´ê²°ì±…:**
- Phase 1ì—ì„œ ì¦‰ì‹œ Firebase Storageë¡œ ë³€í™˜
- Base64ëŠ” ì„ì‹œ ì €ì¥ ì—†ì´ ë°”ë¡œ Blob â†’ Storage
- ì´ë¯¸ì§€ ì••ì¶• (1200px, 80% quality)

### ì´ìŠˆ 4: ë‹¤ì¤‘ íƒ­ì—ì„œ ì˜¤í”„ë¼ì¸ persistence ì¶©ëŒ
**ë¬¸ì œ:** IndexedDB persistenceëŠ” í•˜ë‚˜ì˜ íƒ­ë§Œ ì§€ì›

**í•´ê²°ì±…:**
- `enableIndexedDbPersistence()` ì—ëŸ¬ ì²˜ë¦¬
- ì‹¤íŒ¨ ì‹œ ê²½ê³  ì—†ì´ ê³„ì† ì§„í–‰ (ì˜¨ë¼ì¸ ëª¨ë“œë¡œ)
- ë‹¤ì¤‘ íƒ­ ê°ì§€ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€ (ì„ íƒì‚¬í•­)

### ì´ìŠˆ 5: GitHub Pages base pathë¡œ ì¸í•œ ë¼ìš°íŒ… ì´ìŠˆ
**ë¬¸ì œ:** `/flow-crm/` ê²½ë¡œì—ì„œ ìƒëŒ€ ê²½ë¡œ ê¹¨ì§

**í•´ê²°ì±…:**
- Vite base ì„¤ì •ìœ¼ë¡œ ìë™ ì²˜ë¦¬
- ë¹Œë“œ ì‹œ ëª¨ë“  asset ê²½ë¡œ ìë™ ë³€í™˜
- ê°œë°œ í™˜ê²½ì€ `/` ì‚¬ìš©

### ì´ìŠˆ 6: Service Worker ìºì‹±ìœ¼ë¡œ ì¸í•œ ì—…ë°ì´íŠ¸ ì§€ì—°
**ë¬¸ì œ:** ìƒˆ ë²„ì „ ë°°í¬ ì‹œ ì‚¬ìš©ìê°€ ì˜¤ë˜ëœ ë²„ì „ ì‚¬ìš©

**í•´ê²°ì±…:**
- `skipWaiting: true` ì„¤ì •
- `<UpdateNotification />` ì»´í¬ë„ŒíŠ¸ë¡œ ìƒˆë¡œê³ ì¹¨ ìœ ë„
- ìë™ ì—…ë°ì´íŠ¸ ëª¨ë“œ í™œì„±í™”

---

## ì˜ˆìƒ ì¼ì •

### Week 1: Firebase ê¸°ë°˜ ì‘ì—…
- Day 1-2: Firebase í”„ë¡œì íŠ¸ ì„¤ì •, íŒ¨í‚¤ì§€ ì„¤ì¹˜
- Day 3-4: Auth, Firestore, Storage ì„œë¹„ìŠ¤ êµ¬í˜„
- Day 5-7: App.tsx, TabMeeting.tsx ìˆ˜ì •
- Day 8-9: ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ ë° UI
- Day 10-14: í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •

### Week 2: Firebase ë§ˆë¬´ë¦¬ ë° PWA ì¤€ë¹„
- Day 1-3: Firebase ê¸°ëŠ¥ í†µí•© í…ŒìŠ¤íŠ¸
- Day 4-5: PWA íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ì•„ì´ì½˜ ì œì‘
- Day 6-7: Vite PWA í”ŒëŸ¬ê·¸ì¸ ì„¤ì •

### Week 3: PWA êµ¬í˜„
- Day 1-2: Service Worker ì„¤ì • ë° í…ŒìŠ¤íŠ¸
- Day 3-4: ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ êµ¬í˜„
- Day 5-7: PWA í†µí•© í…ŒìŠ¤íŠ¸, Lighthouse ìµœì í™”

### Week 4: GitHub Pages ë°°í¬
- Day 1-2: GitHub Actions ì›Œí¬í”Œë¡œìš° ì‘ì„±
- Day 3-4: í™˜ê²½ë³€ìˆ˜ ì„¤ì •, ë°°í¬ í…ŒìŠ¤íŠ¸
- Day 5-7: í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸, í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

**ì´ ì†Œìš” ê¸°ê°„: ì•½ 4ì£¼**

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: Firebase âœ“
- [ ] Firebase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] npm install firebase
- [ ] config/firebase.ts ìƒì„±
- [ ] services/firestore.ts, firebase-storage.ts, auth.ts ìƒì„±
- [ ] hooks/useAuth.ts, useCustomers.ts ìƒì„±
- [ ] LoginForm.tsx ìƒì„±
- [ ] App.tsx ìˆ˜ì • (ì¸ì¦ ë° Firebase ì—°ë™)
- [ ] TabMeeting.tsx ìˆ˜ì • (ì´ë¯¸ì§€ ì—…ë¡œë“œ)
- [ ] .env.local ì„¤ì •
- [ ] MigrationPrompt.tsx ìƒì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸

### Phase 2: PWA âœ“
- [ ] npm install vite-plugin-pwa workbox-window
- [ ] PWA ì•„ì´ì½˜ ì œì‘ (7ê°œ)
- [ ] vite.config.ts PWA í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
- [ ] index.html ë©”íƒ€íƒœê·¸ ì¶”ê°€
- [ ] InstallPrompt.tsx, UpdateNotification.tsx ìƒì„±
- [ ] ì˜¤í”„ë¼ì¸ persistence ì„¤ì •
- [ ] Lighthouse PWA í…ŒìŠ¤íŠ¸

### Phase 3: GitHub Pages âœ“
- [ ] npm install gh-pages
- [ ] package.json ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
- [ ] vite.config.ts base path ì„¤ì •
- [ ] .github/workflows/deploy.yml ìƒì„±
- [ ] GitHub Secrets ì„¤ì •
- [ ] Firebase Authorized Domains ì¶”ê°€
- [ ] ë°°í¬ í…ŒìŠ¤íŠ¸
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½ ê²€ì¦

---

## ë‹¤ìŒ ë‹¨ê³„ ê°œì„  ì‚¬í•­ (í–¥í›„)

êµ¬í˜„ ì™„ë£Œ í›„ ê³ ë ¤í•  ê¸°ëŠ¥ë“¤:

1. **Push Notifications** - Firebase Cloud Messaging
2. **Background Sync** - ì˜¤í”„ë¼ì¸ ì‘ì—… íì‰
3. **Share Target API** - ì´ë¯¸ì§€ ê³µìœ  ë°›ê¸°
4. **ìƒì²´ ì¸ì¦** - WebAuthn API
5. **Excel ë‚´ë³´ë‚´ê¸°** - ê³ ê° ë¦¬í¬íŠ¸
6. **ìº˜ë¦°ë” ì—°ë™** - ë¯¸íŒ… ì¼ì •
7. **AI ê¸°ëŠ¥** - Gemini API í™œìš© (ì´ë¯¸ í‚¤ ìˆìŒ)
8. **íŒ€ í˜‘ì—…** - ê³ ê° ê³µìœ  ê¸°ëŠ¥
9. **Firebase Analytics** - ì‚¬ìš©ì í–‰ë™ ë¶„ì„
10. **A/B Testing** - Remote Config

---

## ì°¸ê³  ë¬¸ì„œ

- Firebase Docs: https://firebase.google.com/docs/web/setup
- Vite PWA Plugin: https://vite-pwa-org.netlify.app/
- GitHub Pages: https://docs.github.com/pages
- Workbox: https://developer.chrome.com/docs/workbox/
