{
  "permissions": {
    "allow": [
      "Bash(dir:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git config:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(npm install:*)",
      "Bash(npm run deploy:*)",
      "mcp__ide__getDiagnostics",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "Bash(npm run build:*)",
      "Bash(cat:*)",
      "Bash(npm run preview:*)",
      "Bash(firebase deploy:*)",
      "Bash(firebase login:*)",
      "Bash(git checkout:*)",
      "Bash(/c/Users/User/Desktop/앱개발/flow-crm/services/firestore.ts << 'EOF'\n\n// =====================\n// APP SETTINGS OPERATIONS \\(Global Contract Clipboard\\)\n// =====================\n\n/**\n * Get contract clipboard from Firestore\n */\nexport const getContractClipboard = async \\(\\): Promise<ChecklistItem[]> => {\n  try {\n    const settingsRef = doc\\(db, 'appSettings', 'contractClipboard'\\);\n    const snapshot = await getDoc\\(settingsRef\\);\n\n    if \\(snapshot.exists\\(\\)\\) {\n      const data = snapshot.data\\(\\) as AppSettings;\n      return data.contractClipboard || [];\n    }\n\n    return [];\n  } catch \\(error\\) {\n    console.error\\('Error fetching contract clipboard:', error\\);\n    return [];\n  }\n};\n\n/**\n * Update contract clipboard in Firestore\n */\nexport const updateContractClipboard = async \\(items: ChecklistItem[]\\): Promise<void> => {\n  try {\n    const settingsRef = doc\\(db, 'appSettings', 'contractClipboard'\\);\n    await setDoc\\(\n      settingsRef,\n      {\n        contractClipboard: items,\n        updatedAt: Timestamp.now\\(\\),\n      },\n      { merge: true }\n    \\);\n    console.log\\('✓ Contract clipboard updated'\\);\n  } catch \\(error\\) {\n    console.error\\('Error updating contract clipboard:', error\\);\n    throw error;\n  }\n};\n\n/**\n * Real-time listener for contract clipboard\n */\nexport const subscribeToContractClipboard = \\(\n  callback: \\(items: ChecklistItem[]\\) => void\n\\): \\(\\(\\) => void\\) => {\n  try {\n    const settingsRef = doc\\(db, 'appSettings', 'contractClipboard'\\);\n\n    const unsubscribe = onSnapshot\\(\n      settingsRef,\n      \\(snapshot\\) => {\n        if \\(snapshot.exists\\(\\)\\) {\n          const data = snapshot.data\\(\\) as AppSettings;\n          callback\\(data.contractClipboard || []\\);\n        } else {\n          callback\\([]\\);\n        }\n      },\n      \\(error\\) => {\n        console.error\\('Error in contract clipboard listener:', error\\);\n      }\n    \\);\n\n    return unsubscribe;\n  } catch \\(error\\) {\n    console.error\\('Error setting up contract clipboard listener:', error\\);\n    return \\(\\) => {};\n  }\n};\nEOF)"
    ]
  }
}
